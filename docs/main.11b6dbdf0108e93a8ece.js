(self.webpackChunkshadow_maps=self.webpackChunkshadow_maps||[]).push([[179],{255:ls=>{function Ar(cs){return Promise.resolve().then(()=>{var Rr=new Error("Cannot find module '"+cs+"'");throw Rr.code="MODULE_NOT_FOUND",Rr})}Ar.keys=()=>[],Ar.resolve=Ar,Ar.id=255,ls.exports=Ar},868:(ls,Ar,cs)=>{"use strict";function Rr(t){return"function"==typeof t}let of=!1;const pn={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else of&&console.log("RxJS: Back to a better error behavior. Thank you. <3");of=t},get useDeprecatedSynchronousErrorHandling(){return of}};function Ui(t){setTimeout(()=>{throw t},0)}const Za={closed:!0,next(t){},error(t){if(pn.useDeprecatedSynchronousErrorHandling)throw t;Ui(t)},complete(){}},sf=Array.isArray||(t=>t&&"number"==typeof t.length);function af(t){return null!==t&&"object"==typeof t}const Ya=(()=>{function t(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((n,r)=>`${r+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return t.prototype=Object.create(Error.prototype),t})();class Ge{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:r,_unsubscribe:i,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof Ge)n.remove(this);else if(null!==n)for(let s=0;s<n.length;++s)n[s].remove(this);if(Rr(i)){r&&(this._unsubscribe=void 0);try{i.call(this)}catch(s){e=s instanceof Ya?w_(s.errors):[s]}}if(sf(o)){let s=-1,a=o.length;for(;++s<a;){const u=o[s];if(af(u))try{u.unsubscribe()}catch(l){e=e||[],l instanceof Ya?e=e.concat(w_(l.errors)):e.push(l)}}}if(e)throw new Ya(e)}add(e){let n=e;if(!e)return Ge.EMPTY;switch(typeof e){case"function":n=new Ge(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof Ge)){const o=n;n=new Ge,n._subscriptions=[o]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof Ge){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(e){const n=this._subscriptions;if(n){const r=n.indexOf(e);-1!==r&&n.splice(r,1)}}}var t;function w_(t){return t.reduce((e,n)=>e.concat(n instanceof Ya?n.errors:n),[])}Ge.EMPTY=((t=new Ge).closed=!0,t);const Xa="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class Bt extends Ge{constructor(e,n,r){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Za;break;case 1:if(!e){this.destination=Za;break}if("object"==typeof e){e instanceof Bt?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new D_(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new D_(this,e,n,r)}}[Xa](){return this}static create(e,n,r){const i=new Bt(e,n,r);return i.syncErrorThrowable=!1,i}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class D_ extends Bt{constructor(e,n,r,i){super(),this._parentSubscriber=e;let o,s=this;Rr(n)?o=n:n&&(o=n.next,r=n.error,i=n.complete,n!==Za&&(s=Object.create(n),Rr(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=o,this._error=r,this._complete=i}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:n}=this;pn.useDeprecatedSynchronousErrorHandling&&n.syncErrorThrowable?this.__tryOrSetError(n,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:n}=this,{useDeprecatedSynchronousErrorHandling:r}=pn;if(this._error)r&&n.syncErrorThrowable?(this.__tryOrSetError(n,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(n.syncErrorThrowable)r?(n.syncErrorValue=e,n.syncErrorThrown=!0):Ui(e),this.unsubscribe();else{if(this.unsubscribe(),r)throw e;Ui(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const n=()=>this._complete.call(this._context);pn.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,n){try{e.call(this._context,n)}catch(r){if(this.unsubscribe(),pn.useDeprecatedSynchronousErrorHandling)throw r;Ui(r)}}__tryOrSetError(e,n,r){if(!pn.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,r)}catch(i){return pn.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=i,e.syncErrorThrown=!0,!0):(Ui(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const fs="function"==typeof Symbol&&Symbol.observable||"@@observable";function b_(t){return t}let Et=(()=>{class t{constructor(n){this._isScalar=!1,n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const{operator:o}=this,s=function(t,e,n){if(t){if(t instanceof Bt)return t;if(t[Xa])return t[Xa]()}return t||e||n?new Bt(t,e,n):new Bt(Za)}(n,r,i);if(s.add(o?o.call(s,this.source):this.source||pn.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),pn.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){pn.useDeprecatedSynchronousErrorHandling&&(n.syncErrorThrown=!0,n.syncErrorValue=r),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof Bt?n:null}return!0}(n)?n.error(r):console.warn(r)}}forEach(n,r){return new(r=T_(r))((i,o)=>{let s;s=this.subscribe(a=>{try{n(a)}catch(u){o(u),s&&s.unsubscribe()}},o,i)})}_subscribe(n){const{source:r}=this;return r&&r.subscribe(n)}[fs](){return this}pipe(...n){return 0===n.length?this:function(t){return 0===t.length?b_:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=T_(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function T_(t){if(t||(t=pn.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const ds=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class fM extends Ge{constructor(e,n){super(),this.subject=e,this.subscriber=n,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,n=e.observers;if(this.subject=null,!n||0===n.length||e.isStopped||e.closed)return;const r=n.indexOf(this.subscriber);-1!==r&&n.splice(r,1)}}class M_ extends Bt{constructor(e){super(e),this.destination=e}}let uf=(()=>{class t extends Et{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Xa](){return new M_(this)}lift(n){const r=new x_(this,this);return r.operator=n,r}next(n){if(this.closed)throw new ds;if(!this.isStopped){const{observers:r}=this,i=r.length,o=r.slice();for(let s=0;s<i;s++)o[s].next(n)}}error(n){if(this.closed)throw new ds;this.hasError=!0,this.thrownError=n,this.isStopped=!0;const{observers:r}=this,i=r.length,o=r.slice();for(let s=0;s<i;s++)o[s].error(n);this.observers.length=0}complete(){if(this.closed)throw new ds;this.isStopped=!0;const{observers:n}=this,r=n.length,i=n.slice();for(let o=0;o<r;o++)i[o].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(n){if(this.closed)throw new ds;return super._trySubscribe(n)}_subscribe(n){if(this.closed)throw new ds;return this.hasError?(n.error(this.thrownError),Ge.EMPTY):this.isStopped?(n.complete(),Ge.EMPTY):(this.observers.push(n),new fM(this,n))}asObservable(){const n=new Et;return n.source=this,n}}return t.create=(e,n)=>new x_(e,n),t})();class x_ extends uf{constructor(e,n){super(),this.destination=e,this.source=n}next(e){const{destination:n}=this;n&&n.next&&n.next(e)}error(e){const{destination:n}=this;n&&n.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:n}=this;return n?this.source.subscribe(e):Ge.EMPTY}}function lf(t,e){return function(r){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new hM(t,e))}}class hM{constructor(e,n){this.project=e,this.thisArg=n}call(e,n){return n.subscribe(new pM(e,this.project,this.thisArg))}}class pM extends Bt{constructor(e,n,r){super(e),this.project=n,this.count=0,this.thisArg=r||this}_next(e){let n;try{n=this.project.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}this.destination.next(n)}}const A_=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()},Qa="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",R_=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function S_(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const O_=t=>{if(t&&"function"==typeof t[fs])return(t=>e=>{const n=t[fs]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)})(t);if(R_(t))return A_(t);if(S_(t))return(t=>e=>(t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Ui),e))(t);if(t&&"function"==typeof t[Qa])return(t=>e=>{const n=t[Qa]();for(;;){let r;try{r=n.next()}catch(i){return e.error(i),e}if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e})(t);{const n=`You provided ${af(t)?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(n)}};function P_(t,e){return new Et(n=>{const r=new Ge;let i=0;return r.add(e.schedule(function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()})),r})}function cf(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[fs]}(t))return function(t,e){return new Et(n=>{const r=new Ge;return r.add(e.schedule(()=>{const i=t[fs]();r.add(i.subscribe({next(o){r.add(e.schedule(()=>n.next(o)))},error(o){r.add(e.schedule(()=>n.error(o)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(S_(t))return function(t,e){return new Et(n=>{const r=new Ge;return r.add(e.schedule(()=>t.then(i=>{r.add(e.schedule(()=>{n.next(i),r.add(e.schedule(()=>n.complete()))}))},i=>{r.add(e.schedule(()=>n.error(i)))}))),r})}(t,e);if(R_(t))return P_(t,e);if(function(t){return t&&"function"==typeof t[Qa]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new Et(n=>{const r=new Ge;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[Qa](),r.add(e.schedule(function(){if(n.closed)return;let o,s;try{const a=i.next();o=a.value,s=a.done}catch(a){return void n.error(a)}s?n.complete():(n.next(o),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof Et?t:new Et(O_(t))}class IM extends Bt{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class TM extends Bt{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function N_(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(N_((i,o)=>cf(t(i,o)).pipe(lf((s,a)=>e(i,s,o,a))),n)):("number"==typeof e&&(n=e),r=>r.lift(new xM(t,n)))}class xM{constructor(e,n=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=n}call(e,n){return n.subscribe(new AM(e,this.project,this.concurrent))}}class AM extends TM{constructor(e,n,r=Number.POSITIVE_INFINITY){super(e),this.project=n,this.concurrent=r,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let n;const r=this.index++;try{n=this.project(e,r)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(n)}_innerSub(e){const n=new IM(this),r=this.destination;r.add(n);const i=function(t,e){if(e.closed)return;if(t instanceof Et)return t.subscribe(e);let n;try{n=O_(t)(e)}catch(r){e.error(r)}return n}(e,n);i!==n&&r.add(i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function RM(t=Number.POSITIVE_INFINITY){return N_(b_,t)}function F_(){return function(e){return e.lift(new PM(e))}}class PM{constructor(e){this.connectable=e}call(e,n){const{connectable:r}=this;r._refCount++;const i=new NM(e,r),o=n.subscribe(i);return i.closed||(i.connection=r.connect()),o}}class NM extends Bt{constructor(e,n){super(e),this.connectable=n}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const n=e._refCount;if(n<=0)return void(this.connection=null);if(e._refCount=n-1,n>1)return void(this.connection=null);const{connection:r}=this,i=e._connection;this.connection=null,i&&(!r||i===r)&&i.unsubscribe()}}class FM extends Et{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new Ge,e.add(this.source.subscribe(new VM(this.getSubject(),this))),e.closed&&(this._connection=null,e=Ge.EMPTY)),e}refCount(){return F_()(this)}}const LM=(()=>{const t=FM.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class VM extends M_{constructor(e,n){super(e),this.connectable=n}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const n=e._connection;e._refCount=0,e._subject=null,e._connection=null,n&&n.unsubscribe()}}}function HM(){return new uf}function de(t){for(let e in t)if(t[e]===de)return e;throw Error("Could not find renamed property on target object.")}function ff(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function oe(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(oe).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function df(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const GM=de({__forward_ref__:de});function Te(t){return t.__forward_ref__=Te,t.toString=function(){return oe(this())},t}function k(t){return L_(t)?t():t}function L_(t){return"function"==typeof t&&t.hasOwnProperty(GM)&&t.__forward_ref__===Te}class si extends Error{constructor(e,n){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(e,n)),this.code=e}}function ee(t){return"string"==typeof t?t:null==t?"":String(t)}function Ct(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ee(t)}function Ja(t,e){const n=e?` in ${e}`:"";throw new si("201",`No provider for ${Ct(t)} found${n}`)}function Ut(t,e){null==t&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function ye(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function gn(t){return{providers:t.providers||[],imports:t.imports||[]}}function or(t){return V_(t,eu)||V_(t,j_)}function V_(t,e){return t.hasOwnProperty(e)?t[e]:null}function k_(t){return t&&(t.hasOwnProperty(pf)||t.hasOwnProperty(YM))?t[pf]:null}const eu=de({\u0275prov:de}),pf=de({\u0275inj:de}),j_=de({ngInjectableDef:de}),YM=de({ngInjectorDef:de});var G=(()=>((G=G||{})[G.Default=0]="Default",G[G.Host=1]="Host",G[G.Self=2]="Self",G[G.SkipSelf=4]="SkipSelf",G[G.Optional=8]="Optional",G))();let gf;function Sr(t){const e=gf;return gf=t,e}function B_(t,e,n){const r=or(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&G.Optional?null:void 0!==e?e:void Ja(oe(t),"Injector")}function Or(t){return{toString:t}.toString()}var Jt=(()=>((Jt=Jt||{})[Jt.OnPush=0]="OnPush",Jt[Jt.Default=1]="Default",Jt))(),Ye=(()=>((Ye=Ye||{})[Ye.Emulated=0]="Emulated",Ye[Ye.None=2]="None",Ye[Ye.ShadowDom=3]="ShadowDom",Ye))();const QM="undefined"!=typeof globalThis&&globalThis,JM="undefined"!=typeof window&&window,e1="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,t1="undefined"!=typeof global&&global,pe=QM||t1||JM||e1,Gi={},ve=[],tu=de({\u0275cmp:de}),_f=de({\u0275dir:de}),mf=de({\u0275pipe:de}),H_=de({\u0275mod:de}),n1=de({\u0275loc:de}),sr=de({\u0275fac:de}),hs=de({__NG_ELEMENT_ID__:de});let r1=0;function ps(t){return Or(()=>{const n={},r={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Jt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||ve,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Ye.Emulated,id:"c",styles:t.styles||ve,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,o=t.features,s=t.pipes;return r.id+=r1++,r.inputs=z_(t.inputs,n),r.outputs=z_(t.outputs),o&&o.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(U_):null,r.pipeDefs=s?()=>("function"==typeof s?s():s).map(G_):null,r})}function U_(t){return wt(t)||function(t){return t[_f]||null}(t)}function G_(t){return function(t){return t[mf]||null}(t)}const $_={};function ar(t){return Or(()=>{const e={type:t.type,bootstrap:t.bootstrap||ve,declarations:t.declarations||ve,imports:t.imports||ve,exports:t.exports||ve,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&($_[t.id]=t.type),e})}function z_(t,e){if(null==t)return Gi;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const K=ps;function wt(t){return t[tu]||null}function en(t,e){const n=t[H_]||null;if(!n&&!0===e)throw new Error(`Type ${oe(t)} does not have '\u0275mod' property.`);return n}function kn(t){return Array.isArray(t)&&"object"==typeof t[1]}function mn(t){return Array.isArray(t)&&!0===t[1]}function Ef(t){return 0!=(8&t.flags)}function ou(t){return 2==(2&t.flags)}function su(t){return 1==(1&t.flags)}function yn(t){return null!==t.template}function c1(t){return 0!=(512&t[2])}function fi(t,e){return t.hasOwnProperty(sr)?t[sr]:null}class q_{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function $t(){return K_}function K_(t){return t.type.prototype.ngOnChanges&&(t.setInput=p1),h1}function h1(){const t=Y_(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===Gi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function p1(t,e,n,r){const i=Y_(t)||function(t,e){return t[Z_]=e}(t,{previous:Gi,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new q_(u&&u.currentValue,e,s===Gi),t[r]=e}$t.ngInherit=!0;const Z_="__ngSimpleChanges__";function Y_(t){return t[Z_]||null}let Df;function Ve(t){return!!t.listen}const J_={createRenderer:(t,e)=>void 0!==Df?Df:"undefined"!=typeof document?document:void 0};function We(t){for(;Array.isArray(t);)t=t[0];return t}function au(t,e){return We(e[t])}function rn(t,e){return We(e[t.index])}function If(t,e){return t.data[e]}function zt(t,e){const n=e[t];return kn(n)?n:n[0]}function em(t){return 4==(4&t[2])}function Tf(t){return 128==(128&t[2])}function Nr(t,e){return null==e?null:t[e]}function tm(t){t[18]=0}function Mf(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Z={lFrame:lm(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function nm(){return Z.bindingsEnabled}function I(){return Z.lFrame.lView}function ce(){return Z.lFrame.tView}function Xe(){let t=rm();for(;null!==t&&64===t.type;)t=t.parent;return t}function rm(){return Z.lFrame.currentTNode}function jn(t,e){const n=Z.lFrame;n.currentTNode=t,n.isParent=e}function xf(){return Z.lFrame.isParent}function uu(){return Z.isInCheckNoChangesMode}function lu(t){Z.isInCheckNoChangesMode=t}function Zi(){return Z.lFrame.bindingIndex++}function R1(t,e){const n=Z.lFrame;n.bindingIndex=n.bindingRootIndex=t,Rf(e)}function Rf(t){Z.lFrame.currentDirectiveIndex=t}function sm(){return Z.lFrame.currentQueryIndex}function Of(t){Z.lFrame.currentQueryIndex=t}function O1(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function am(t,e,n){if(n&G.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||n&G.Host||(i=O1(o),null===i||(o=o[15],10&i.type))););if(null===i)return!1;e=i,t=o}const r=Z.lFrame=um();return r.currentTNode=e,r.lView=t,!0}function cu(t){const e=um(),n=t[1];Z.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function um(){const t=Z.lFrame,e=null===t?null:t.child;return null===e?lm(t):e}function lm(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function cm(){const t=Z.lFrame;return Z.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const fm=cm;function fu(){const t=cm();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function bt(){return Z.lFrame.selectedIndex}function Fr(t){Z.lFrame.selectedIndex=t}function du(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:c}=o;s&&(t.contentHooks||(t.contentHooks=[])).push(-n,s),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),u&&(t.viewHooks||(t.viewHooks=[])).push(-n,u),l&&((t.viewHooks||(t.viewHooks=[])).push(n,l),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,l)),null!=c&&(t.destroyHooks||(t.destroyHooks=[])).push(n,c)}}function hu(t,e,n){dm(t,e,3,n)}function pu(t,e,n,r){(3&t[2])===n&&dm(t,e,n,r)}function Pf(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function dm(t,e,n,r){const o=null!=r?r:-1,s=e.length-1;let a=0;for(let u=void 0!==r?65535&t[18]:0;u<s;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[18]+=65536),(a<o||-1==o)&&(H1(t,n,e,u),t[18]=(4294901760&t[18])+u+2),u++}function H1(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class vs{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function gu(t,e,n){const r=Ve(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];Ff(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function hm(t){return 3===t||4===t||6===t}function Ff(t){return 64===t.charCodeAt(0)}function _u(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||pm(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function pm(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function gm(t){return-1!==t}function Yi(t){return 32767&t}function Xi(t,e){let n=function(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let Lf=!0;function mu(t){const e=Lf;return Lf=t,e}let q1=0;function Cs(t,e){const n=kf(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Vf(r.data,t),Vf(e,null),Vf(r.blueprint,null));const i=yu(t,e),o=t.injectorIndex;if(gm(i)){const s=Yi(i),a=Xi(i,e),u=a[1].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function Vf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function kf(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function yu(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const o=i[1],s=o.type;if(r=2===s?o.declTNode:1===s?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function vu(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(hs)&&(r=n[hs]),null==r&&(r=n[hs]=q1++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function ym(t,e,n){if(n&G.Optional)return t;Ja(e,"NodeInjector")}function vm(t,e,n,r){if(n&G.Optional&&void 0===r&&(r=null),0==(n&(G.Self|G.Host))){const i=t[9],o=Sr(void 0);try{return i?i.get(e,r,n&G.Optional):B_(e,r,n&G.Optional)}finally{Sr(o)}}return ym(r,e,n)}function Em(t,e,n,r=G.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(hs)?t[hs]:void 0;return"number"==typeof e?e>=0?255&e:Y1:e}(n);if("function"==typeof o){if(!am(e,t,r))return r&G.Host?ym(i,n,r):vm(e,n,r,i);try{const s=o(r);if(null!=s||r&G.Optional)return s;Ja(n)}finally{fm()}}else if("number"==typeof o){let s=null,a=kf(t,e),u=-1,l=r&G.Host?e[16][6]:null;for((-1===a||r&G.SkipSelf)&&(u=-1===a?yu(t,e):e[a+8],-1!==u&&Dm(r,!1)?(s=e[1],a=Yi(u),e=Xi(u,e)):a=-1);-1!==a;){const c=e[1];if(wm(o,a,c.data)){const f=X1(a,e,n,s,r,l);if(f!==Cm)return f}u=e[a+8],-1!==u&&Dm(r,e[1].data[a+8]===l)&&wm(o,a,e)?(s=c,a=Yi(u),e=Xi(u,e)):a=-1}}}return vm(e,n,r,i)}const Cm={};function Y1(){return new Qi(Xe(),I())}function X1(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],c=Eu(a,s,n,null==r?ou(a)&&Lf:r!=s&&0!=(3&a.type),i&G.Host&&o===a);return null!==c?ws(e,s,c,a):Cm}function Eu(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,d=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<d;h++){const p=s[h];if(h<u&&n===p||h>=u&&p.type===n)return h}if(i){const h=s[u];if(h&&yn(h)&&h.type===n)return u}return null}function ws(t,e,n,r){let i=t[n];const o=e.data;if(function(t){return t instanceof vs}(i)){const s=i;s.resolving&&function(t,e){throw new si("200",`Circular dependency in DI detected for ${t}`)}(Ct(o[n]));const a=mu(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?Sr(s.injectImpl):null;am(t,r,G.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=K_(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&Sr(u),mu(a),s.resolving=!1,fm()}}return i}function wm(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Dm(t,e){return!(t&G.Self||t&G.Host&&e)}class Qi{constructor(e,n){this._tNode=e,this._lView=n}get(e,n){return Em(this._tNode,this._lView,e,void 0,n)}}function on(t){return Or(()=>{const e=t.prototype.constructor,n=e[sr]||jf(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[sr]||jf(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function jf(t){return L_(t)?()=>{const e=jf(k(t));return e&&e()}:fi(t)}const eo="__parameters__";function di(t,e,n){return Or(()=>{const r=function(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(u,l,c){const f=u.hasOwnProperty(eo)?u[eo]:Object.defineProperty(u,eo,{value:[]})[eo];for(;f.length<=c;)f.push(null);return(f[c]=f[c]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class fe{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=ye({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}function sn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),sn(r,e)):e!==t&&e.push(r)}return e}function Hn(t,e){t.forEach(n=>Array.isArray(n)?Hn(n,e):e(n))}function wu(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function hi(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Wt(t,e,n){let r=no(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Gf(t,e){const n=no(t,e);if(n>=0)return t[1|n]}function no(t,e){return function(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}(t,e,1)}const Ts={},zf="__NG_DI_FLAG__",ro="ngTempTokenPath",cx=/\n/gm,Wf="__source",qf=de({provide:String,useValue:de});let Ms;function io(t){const e=Ms;return Ms=t,e}function dx(t,e=G.Default){if(void 0===Ms)throw new Error("inject() must be called from an injection context");return null===Ms?B_(t,void 0,e):Ms.get(t,e&G.Optional?null:void 0,e)}function ue(t,e=G.Default){return(gf||dx)(k(t),e)}function pi(t){const e=[];for(let n=0;n<t.length;n++){const r=k(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let i,o=G.Default;for(let s=0;s<r.length;s++){const a=r[s],u=hx(a);"number"==typeof u?-1===u?i=a.token:o|=u:i=a}e.push(ue(i,o))}else e.push(ue(r))}return e}function xs(t,e){return t[zf]=e,t.prototype[zf]=e,t}function hx(t){return t[zf]}function Am(t,e,n,r){const i=t[ro];throw e[Wf]&&i.unshift(e[Wf]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=oe(e);if(Array.isArray(e))i=e.map(oe).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):oe(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(cx,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[ro]=null,t}const As=xs(di("Inject",t=>({token:t})),-1),Un=xs(di("Optional"),8),gi=xs(di("SkipSelf"),4);const Zm="__ngContext__";function dt(t,e){t[Zm]=e}function nd(t){const e=function(t){return t[Zm]||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Au(t){return t.ngOriginalError}function sA(t,...e){t.error(...e)}class mi{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e),r=this._findContext(e),i=function(t){return t&&t.ngErrorLogger||sA}(e);i(this._console,"ERROR",e),n&&i(this._console,"ORIGINAL ERROR",n),r&&i(this._console,"ERROR CONTEXT",r)}_findContext(e){return e?function(t){return t.ngDebugContext}(e)||this._findContext(Au(e)):null}_findOriginalError(e){let n=e&&Au(e);for(;n&&Au(n);)n=Au(n);return n||null}}const iy=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(pe))();function zn(t){return t instanceof Function?t():t}var Kt=(()=>((Kt=Kt||{})[Kt.Important=1]="Important",Kt[Kt.DashCase=2]="DashCase",Kt))();function od(t,e){return undefined(t,e)}function Fs(t){const e=t[3];return mn(e)?e[3]:e}function sd(t){return ly(t[13])}function ad(t){return ly(t[4])}function ly(t){for(;null!==t&&!mn(t);)t=t[4];return t}function uo(t,e,n,r,i){if(null!=r){let o,s=!1;mn(r)?o=r:kn(r)&&(s=!0,r=r[0]);const a=We(r);0===t&&null!==n?null==i?gy(e,n,a):yi(e,n,a,i||null,!0):1===t&&null!==n?yi(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Su(t,e);r&&function(t,e,n,r){Ve(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==We(n)&&uo(e,t,r,o,i);for(let a=10;a<n.length;a++){const u=n[a];Ls(u[1],u,t,e,r,o)}}(e,t,o,n,i)}}function ld(t,e,n){return Ve(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function fy(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Mf(i,-1)),n.splice(r,1)}function cd(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&fy(i,r),e>0&&(t[n-1][4]=r[4]);const o=hi(t,10+e);!function(t,e){Ls(t,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function dy(t,e){if(!(256&e[2])){const n=e[11];Ve(n)&&n.destroyNode&&Ls(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return fd(t[1],t);for(;e;){let n=null;if(kn(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)kn(e)&&fd(e[1],e),e=e[3];null===e&&(e=t),kn(e)&&fd(e[1],e),n=e&&e[4]}e=n}}(e)}}function fd(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof vs)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],u=o[s+1];try{u.call(a)}finally{}}else try{o.call(i)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+1],a="function"==typeof s?s(e):We(e[s]),u=r[i=n[o+2]],l=n[o+3];"boolean"==typeof l?a.removeEventListener(n[o],u,l):l>=0?r[i=l]():r[i=-l].unsubscribe(),o+=2}else{const s=r[i=n[o+1]];n[o].call(s)}if(null!==r){for(let o=i+1;o<r.length;o++)r[o]();e[7]=null}}(t,e),1===e[1].type&&Ve(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&mn(e[3])){n!==e[3]&&fy(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function hy(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const i=t.data[r.directiveStart].encapsulation;if(i===Ye.None||i===Ye.Emulated)return null}return rn(r,n)}(t,e.parent,n)}function yi(t,e,n,r,i){Ve(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function gy(t,e,n){Ve(t)?t.appendChild(e,n):e.appendChild(n)}function _y(t,e,n,r,i){null!==r?yi(t,e,n,r,i):gy(t,e,n)}function Su(t,e){return Ve(t)?t.parentNode(e):e.parentNode}let vy=function(t,e,n){return 40&t.type?rn(t,n):null};function Ou(t,e,n,r){const i=hy(t,r,e),o=e[11],a=function(t,e,n){return vy(t,e,n)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)_y(o,i,n[u],a,!1);else _y(o,i,n,a,!1)}function Pu(t,e){if(null!==e){const n=e.type;if(3&n)return rn(e,t);if(4&n)return hd(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Pu(t,r);{const i=t[e.index];return mn(i)?hd(-1,i):We(i)}}if(32&n)return od(e,t)()||We(t[e.index]);{const r=Cy(t,e);return null!==r?Array.isArray(r)?r[0]:Pu(Fs(t[16]),r):Pu(t,e.next)}}return null}function Cy(t,e){return null!==e?t[16][6].projection[e.projection]:null}function hd(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return Pu(r,i)}return e[7]}function pd(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&dt(We(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)pd(t,e,n.child,r,i,o,!1),uo(e,t,i,a,o);else if(32&u){const l=od(n,r);let c;for(;c=l();)uo(e,t,i,c,o);uo(e,t,i,a,o)}else 16&u?Dy(t,e,r,n,i,o):uo(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Ls(t,e,n,r,i,o){pd(n,r,t.firstChild,e,i,o,!1)}function Dy(t,e,n,r,i,o){const s=n[16],u=s[6].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++)uo(e,t,i,u[l],o);else pd(t,e,u,s[3],i,o,!0)}function by(t,e,n){Ve(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function gd(t,e,n){Ve(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Iy(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}const Ty="ng-template";function OA(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Iy(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function My(t){return 4===t.type&&t.value!==Ty}function PA(t,e,n){return e===(4!==t.type||n?t.value:Ty)}function NA(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(hm(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!PA(t,u,n)||""===u&&1===e.length){if(vn(r))return!1;s=!0}}else{const l=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!OA(t.attrs,l,n)){if(vn(r))return!1;s=!0}continue}const f=FA(8&r?"class":u,i,My(t),n);if(-1===f){if(vn(r))return!1;s=!0;continue}if(""!==l){let d;d=f>o?"":i[f+1].toLowerCase();const h=8&r?d:null;if(h&&-1!==Iy(h,l,0)||2&r&&l!==d){if(vn(r))return!1;s=!0}}}}else{if(!s&&!vn(r)&&!vn(u))return!1;if(s&&vn(u))continue;s=!1,r=u|1&r}}return vn(r)||s}function vn(t){return 0==(1&t)}function FA(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function xy(t,e,n=!1){for(let r=0;r<e.length;r++)if(NA(t,e[r],n))return!0;return!1}function Ay(t,e){return t?":not("+e.trim()+")":e}function BA(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!vn(s)&&(e+=Ay(o,i),i=""),r=s,o=o||!vn(r);n++}return""!==i&&(e+=Ay(o,i)),e}const X={};function Nu(t){Ry(ce(),I(),bt()+t,uu())}function Ry(t,e,n,r){if(!r)if(3==(3&e[2])){const o=t.preOrderCheckHooks;null!==o&&hu(e,o,n)}else{const o=t.preOrderHooks;null!==o&&pu(e,o,0,n)}Fr(n)}function Fu(t,e){return t<<17|e<<2}function En(t){return t>>17&32767}function _d(t){return 2|t}function lr(t){return(131068&t)>>2}function md(t,e){return-131069&t|e<<2}function yd(t){return 1|t}function By(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const s=t.data[o];Of(i),s.contentQueries(2,e[o],o)}}}function Vs(t,e,n,r,i,o,s,a,u,l){const c=e.blueprint.slice();return c[0]=i,c[2]=140|r,tm(c),c[3]=c[15]=t,c[8]=n,c[10]=s||t&&t[10],c[11]=a||t&&t[11],c[12]=u||t&&t[12]||null,c[9]=l||t&&t[9]||null,c[6]=o,c[16]=2==e.type?t[16]:c,c}function lo(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=rm(),s=xf(),u=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==o&&(s?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u)),u}(t,e,n,r,i),Z.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function(){const t=Z.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return jn(o,!0),o}function co(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function ks(t,e,n){cu(e);try{const r=t.viewQuery;null!==r&&Nd(1,r,n);const i=t.template;null!==i&&Hy(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&By(t,e),t.staticViewQueries&&Nd(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)vR(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,fu()}}function fo(t,e,n,r){const i=e[2];if(256==(256&i))return;cu(e);const o=uu();try{tm(e),function(t){Z.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&Hy(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const l=t.preOrderCheckHooks;null!==l&&hu(e,l,null)}else{const l=t.preOrderHooks;null!==l&&pu(e,l,0,null),Pf(e,0)}if(function(t){for(let e=sd(t);null!==e;e=ad(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r],o=i[3];0==(1024&i[2])&&Mf(o,1),i[2]|=1024}}}(e),function(t){for(let e=sd(t);null!==e;e=ad(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];Tf(r)&&fo(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&By(t,e),!o)if(s){const l=t.contentCheckHooks;null!==l&&hu(e,l)}else{const l=t.contentHooks;null!==l&&pu(e,l,1),Pf(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)Fr(~i);else{const o=i,s=n[++r],a=n[++r];R1(s,o),a(2,e[o])}}}finally{Fr(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)yR(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Nd(2,u,r),!o)if(s){const l=t.viewCheckHooks;null!==l&&hu(e,l)}else{const l=t.viewHooks;null!==l&&pu(e,l,2),Pf(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Mf(e[3],-1))}finally{fu()}}function JA(t,e,n,r){const i=e[10],o=!uu(),s=em(e);try{o&&!s&&i.begin&&i.begin(),s&&ks(t,e,r),fo(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Hy(t,e,n,r,i){const o=bt(),s=2&r;try{Fr(-1),s&&e.length>20&&Ry(t,e,20,uu()),n(r,i)}finally{Fr(o)}}function Td(t,e,n){!nm()||(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Cs(n,e),dt(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const u=t.data[a],l=yn(u);l&&hR(e,n,u);const c=ws(e,t,a,n);dt(c,e),null!==s&&pR(0,a-i,c,u,0,s),l&&(zt(n.index,e)[8]=c)}}(t,e,n,rn(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,a=Z.lFrame.currentDirectiveIndex;try{Fr(s);for(let u=r;u<i;u++){const l=t.data[u],c=e[u];Rf(u),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&Yy(l,c)}}finally{Fr(-1),Rf(a)}}(t,e,n))}function Md(t,e,n=rn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Gy(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=ku(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function ku(t,e,n,r,i,o,s,a,u,l){const c=20+r,f=c+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:X);return n}(c,f),h="function"==typeof l?l():l;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:h,incompleteFirstPass:!1}}function Wy(t,e,n,r){const i=nv(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&rv(t).push(r,i.length-1))}function qy(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function xd(t,e,n,r){let i=!1;if(nm()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];xy(n,s.selectors,!1)&&(i||(i=[]),vu(Cs(n,e),t,s.type),yn(s)?(Xy(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,Qy(n,t.data.length,o.length);for(let c=0;c<o.length;c++){const f=o[c];f.providersResolver&&f.providersResolver(f)}let a=!1,u=!1,l=co(t,e,o.length,null);for(let c=0;c<o.length;c++){const f=o[c];n.mergedAttrs=_u(n.mergedAttrs,f.hostAttrs),Jy(t,n,e,l,f),dR(l,f,s),null!==f.contentQueries&&(n.flags|=8),(null!==f.hostBindings||null!==f.hostAttrs||0!==f.hostVars)&&(n.flags|=128);const d=f.type.prototype;!a&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),a=!0),!u&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),u=!0),l++}!function(t,e){const r=e.directiveEnd,i=t.data,o=e.attrs,s=[];let a=null,u=null;for(let l=e.directiveStart;l<r;l++){const c=i[l],f=c.inputs,d=null===o||My(e)?null:gR(f,o);s.push(d),a=qy(f,l,a),u=qy(c.outputs,l,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=a,e.outputs=u}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new si("301",`Export of name '${e[i+1]}' not found!`);r.push(e[i],o)}}}(n,r,s)}return n.mergedAttrs=_u(n.mergedAttrs,n.attrs),i}function Zy(t,e,n,r,i,o){const s=o.hostBindings;if(s){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const u=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(a)!=u&&a.push(u),a.push(r,i,s)}}function Yy(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Xy(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function dR(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;yn(e)&&(n[""]=t)}}function Qy(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Jy(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=fi(i.type)),s=new vs(o,yn(i),null);t.blueprint[r]=s,n[r]=s,Zy(t,e,0,r,co(t,n,i.hostVars,X),i)}function hR(t,e,n){const r=rn(e,t),i=Gy(n),o=t[10],s=ju(t,Vs(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function pR(t,e,n,r,i,o){const s=o[e];if(null!==s){const a=r.setInput;for(let u=0;u<s.length;){const l=s[u++],c=s[u++],f=s[u++];null!==a?r.setInput(n,f,l,c):n[c]=f}}}function gR(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function ev(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function yR(t,e){const n=zt(e,t);if(Tf(n)){const r=n[1];80&n[2]?fo(r,n,r.template,n[8]):n[5]>0&&Rd(n)}}function Rd(t){for(let r=sd(t);null!==r;r=ad(r))for(let i=10;i<r.length;i++){const o=r[i];if(1024&o[2]){const s=o[1];fo(s,o,s.template,o[8])}else o[5]>0&&Rd(o)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=zt(n[r],t);Tf(i)&&i[5]>0&&Rd(i)}}function vR(t,e){const n=zt(e,t),r=n[1];(function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),ks(r,n,n[8])}function ju(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Sd(t){for(;t;){t[2]|=64;const e=Fs(t);if(c1(t)&&!e)return t;t=e}return null}function Pd(t,e,n){const r=e[10];r.begin&&r.begin();try{fo(t,e,t.template,n)}catch(i){throw ov(e,i),i}finally{r.end&&r.end()}}function tv(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=nd(n),i=r[1];JA(i,r,i.template,n)}}(t[8])}function Nd(t,e,n){Of(0),e(t,n)}const bR=(()=>Promise.resolve(null))();function nv(t){return t[7]||(t[7]=[])}function rv(t){return t.cleanup||(t.cleanup=[])}function ov(t,e){const n=t[9],r=n?n.get(mi,null):null;r&&r.handleError(e)}function sv(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],l=t.data[s];null!==l.setInput?l.setInput(u,i,r,a):u[a]=i}}function fr(t,e,n){const r=au(e,t);!function(t,e,n){Ve(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}function Bu(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=df(i,a):2==o&&(r=df(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const ho=new fe("INJECTOR",-1);class av{get(e,n=Ts){if(n===Ts){const r=new Error(`NullInjectorError: No provider for ${oe(e)}!`);throw r.name="NullInjectorError",r}return n}}const js=new fe("Set Injector scope."),Bs={},MR={};let Fd;function uv(){return void 0===Fd&&(Fd=new av),Fd}function lv(t,e=null,n=null,r){return new AR(t,n,e||uv(),r)}class AR{constructor(e,n,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const o=[];n&&Hn(n,a=>this.processProvider(a,e,n)),Hn([e],a=>this.processInjectorType(a,[],o)),this.records.set(ho,po(void 0,this));const s=this.records.get(js);this.scope=null!=s?s.value:null,this.source=i||("object"==typeof e?null:oe(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,n=Ts,r=G.Default){this.assertNotDestroyed();const i=io(this),o=Sr(void 0);try{if(!(r&G.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function(t){return"function"==typeof t||"object"==typeof t&&t instanceof fe}(e)&&or(e);a=u&&this.injectableDefInScope(u)?po(Ld(e),Bs):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&G.Self?uv():this.parent).get(e,n=r&G.Optional&&n===Ts?null:n)}catch(s){if("NullInjectorError"===s.name){if((s[ro]=s[ro]||[]).unshift(oe(e)),i)throw s;return Am(s,e,"R3InjectorError",this.source)}throw s}finally{Sr(o),io(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(oe(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,n,r){if(!(e=k(e)))return!1;let i=k_(e);const o=null==i&&e.ngModule||void 0,s=void 0===o?e:o,a=-1!==r.indexOf(s);if(void 0!==o&&(i=k_(o)),null==i)return!1;if(null!=i.imports&&!a){let c;r.push(s);try{Hn(i.imports,f=>{this.processInjectorType(f,n,r)&&(void 0===c&&(c=[]),c.push(f))})}finally{}if(void 0!==c)for(let f=0;f<c.length;f++){const{ngModule:d,providers:h}=c[f];Hn(h,p=>this.processProvider(p,d,h||ve))}}this.injectorDefTypes.add(s);const u=fi(s)||(()=>new s);this.records.set(s,po(u,Bs));const l=i.providers;if(null!=l&&!a){const c=e;Hn(l,f=>this.processProvider(f,c,l))}return void 0!==o&&void 0!==e.providers}processProvider(e,n,r){let i=go(e=k(e))?e:k(e&&e.provide);const o=function(t,e,n){return fv(t)?po(void 0,t.useValue):po(cv(t),Bs)}(e);if(go(e)||!0!==e.multi)this.records.get(i);else{let s=this.records.get(i);s||(s=po(void 0,Bs,!0),s.factory=()=>pi(s.multi),this.records.set(i,s)),i=e,s.multi.push(e)}this.records.set(i,o)}hydrate(e,n){return n.value===Bs&&(n.value=MR,n.value=n.factory()),"object"==typeof n.value&&n.value&&function(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this.onDestroy.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=k(e.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function Ld(t){const e=or(t),n=null!==e?e.factory:fi(t);if(null!==n)return n;if(t instanceof fe)throw new Error(`Token ${oe(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const r=function(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?");throw new Error(`Can't resolve all parameters for ${oe(t)}: (${r.join(", ")}).`)}const n=function(t){const e=t&&(t[eu]||t[j_]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function cv(t,e,n){let r;if(go(t)){const i=k(t);return fi(i)||Ld(i)}if(fv(t))r=()=>k(t.useValue);else if(function(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...pi(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>ue(k(t.useExisting));else{const i=k(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return fi(i)||Ld(i);r=()=>new i(...pi(t.deps))}return r}function po(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function fv(t){return null!==t&&"object"==typeof t&&qf in t}function go(t){return"function"==typeof t}const dv=function(t,e,n){return function(t,e=null,n=null,r){const i=lv(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};class ge{static create(e,n){return Array.isArray(e)?dv(e,n,""):dv(e.providers,e.parent,e.name||"")}}function YR(t,e){du(nd(t)[1],Xe())}function Re(t){let e=function(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(yn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const s=t;s.inputs=Ud(t.inputs),s.declaredInputs=Ud(t.declaredInputs),s.outputs=Ud(t.outputs);const a=i.hostBindings;a&&eS(t,a);const u=i.viewQuery,l=i.contentQueries;if(u&&QR(t,u),l&&JR(t,l),ff(t.inputs,i.inputs),ff(t.declaredInputs,i.declaredInputs),ff(t.outputs,i.outputs),yn(i)&&i.data.animation){const c=t.data;c.animation=(c.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(t),a===Re&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=_u(i.hostAttrs,n=_u(n,i.hostAttrs))}}(r)}function Ud(t){return t===Gi?{}:t===ve?[]:t}function QR(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function JR(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,o)=>{e(r,i,o),n(r,i,o)}:e}function eS(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}ge.THROW_IF_NOT_FOUND=Ts,ge.NULL=new av,ge.\u0275prov=ye({token:ge,providedIn:"any",factory:()=>ue(ho)}),ge.__NG_ELEMENT_ID__=-1;let Hu=null;function _o(){if(!Hu){const t=pe.Symbol;if(t&&t.iterator)Hu=t.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<e.length;++n){const r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Hu=r)}}}return Hu}function Us(t){return!!Gd(t)&&(Array.isArray(t)||!(t instanceof Map)&&_o()in t)}function Gd(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ht(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function A(t,e=G.Default){const n=I();return null===n?ue(t,e):Em(Xe(),n,k(t),e)}function $s(t,e,n){const r=I();return ht(r,Zi(),e)&&function(t,e,n,r,i,o,s,a){const u=rn(e,n);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(sv(t,n,c,r,i),ou(e)&&function(t,e){const n=zt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,Ve(o)?o.setProperty(u,r,i):Ff(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}(ce(),function(){const t=Z.lFrame;return If(t.tView,t.selectedIndex)}(),r,t,e,r[11],n,!1),$s}function Kd(t,e,n,r,i){const s=i?"class":"style";sv(t,n,e.inputs[s],s,r)}function Ei(t,e,n,r){const i=I(),o=ce(),s=20+t,a=i[11],u=i[s]=ld(a,e,Z.lFrame.currentNamespace),l=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,l=lo(e,t,2,i,Nr(a,o));return xd(e,n,l,Nr(a,s)),null!==l.attrs&&Bu(l,l.attrs,!1),null!==l.mergedAttrs&&Bu(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(s,o,i,0,e,n,r):o.data[s];jn(l,!0);const c=l.mergedAttrs;null!==c&&gu(a,u,c);const f=l.classes;null!==f&&gd(a,u,f);const d=l.styles;null!==d&&by(a,u,d),64!=(64&l.flags)&&Ou(o,i,u,l),0===Z.lFrame.elementDepthCount&&dt(u,i),Z.lFrame.elementDepthCount++,su(l)&&(Td(o,i,l),function(t,e,n){if(Ef(e)){const i=e.directiveEnd;for(let o=e.directiveStart;o<i;o++){const s=t.data[o];s.contentQueries&&s.contentQueries(1,n[o],o)}}}(o,l,i)),null!==r&&Md(i,l)}function Ci(){let t=Xe();xf()?Z.lFrame.isParent=!1:(t=t.parent,jn(t,!1));const e=t;Z.lFrame.elementDepthCount--;const n=ce();n.firstCreatePass&&(du(n,t),Ef(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Kd(n,e,I(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Kd(n,e,I(),e.stylesWithoutHost,!1)}function $u(t,e,n,r){Ei(t,e,n,r),Ci()}function zu(t){return!!t&&"function"==typeof t.then}const Zd=function(t){return!!t&&"function"==typeof t.subscribe};function Yt(t,e,n,r){const i=I(),o=ce(),s=Xe();return function(t,e,n,r,i,o,s,a){const u=su(r),c=t.firstCreatePass&&rv(t),f=e[8],d=nv(e);let h=!0;if(3&r.type||a){const g=rn(r,e),m=a?a(g):g,y=d.length,v=a?E=>a(We(E[r.index])):r.index;if(Ve(n)){let E=null;if(!a&&u&&(E=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=e[7],u=i[o+2];return a.length>u?a[u]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==E)(E.__ngLastListenerFn__||E).__ngNextListenerFn__=o,E.__ngLastListenerFn__=o,h=!1;else{o=Yd(r,e,f,o,!1);const w=n.listen(m,i,o);d.push(o,w),c&&c.push(i,v,y,y+1)}}else o=Yd(r,e,f,o,!0),m.addEventListener(i,o,s),d.push(o),c&&c.push(i,v,y,s)}else o=Yd(r,e,f,o,!1);const p=r.outputs;let _;if(h&&null!==p&&(_=p[i])){const g=_.length;if(g)for(let m=0;m<g;m+=2){const M=e[_[m]][_[m+1]].subscribe(o),P=d.length;d.push(o,M),c&&c.push(i,r.index,P,-(P+1))}}}(o,i,i[11],s,t,e,!!n,r),Yt}function n0(t,e,n,r){try{return!1!==n(r)}catch(i){return ov(t,i),!1}}function Yd(t,e,n,r,i){return function o(s){if(s===Function)return r;const a=2&t.flags?zt(t.index,e):e;0==(32&e[2])&&Sd(a);let u=n0(e,0,r,s),l=o.__ngNextListenerFn__;for(;l;)u=n0(e,0,l,s)&&u,l=l.__ngNextListenerFn__;return i&&!1===u&&(s.preventDefault(),s.returnValue=!1),u}}function d0(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?En(o):lr(o),u=!1;for(;0!==a&&(!1===u||s);){const c=t[a+1];GS(t[a],e)&&(u=!0,t[a+1]=r?yd(c):_d(c)),a=r?En(c):lr(c)}u&&(t[n+1]=r?_d(o):yd(o))}function GS(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&no(t,e)>=0}function Wu(t,e){return function(t,e,n,r){const i=I(),o=ce(),s=function(t){const e=Z.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);o.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[bt()],s=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(t.flags&(e?16:32))})(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Z.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=zs(n=Qd(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Qd(i,t,e,n,r),null===o){let u=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==lr(r))return t[En(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=Qd(null,t,e,u[1],r),u=zs(u,e.attrs,r),function(t,e,n,r){t[En(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else o=function(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=zs(r,t[o].hostAttrs,n);return zs(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=En(s),u=lr(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const f=n;c=f[1],(null===c||no(f,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const d=En(t[a+1]);t[r+1]=Fu(d,a),0!==d&&(t[d+1]=md(t[d+1],r)),t[a+1]=function(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Fu(a,0),0!==a&&(t[a+1]=md(t[a+1],r)),a=r;else t[r+1]=Fu(u,0),0===a?a=r:t[u+1]=md(t[u+1],r),u=r;l&&(t[r+1]=_d(t[r+1])),d0(t,c,r,!0),d0(t,c,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&no(o,e)>=0&&(n[r+1]=yd(n[r+1]))}(e,c,t,r,o),s=Fu(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}(o,t,s,r),e!==X&&ht(i,s,e)&&function(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,l=u[a+1];qu(function(t){return 1==(1&t)}(l)?b0(u,e,n,i,lr(l),s):void 0)||(qu(o)||function(t){return 2==(2&t)}(l)&&(o=b0(u,null,n,i,a,s)),function(t,e,n,r,i){const o=Ve(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{let s=-1===r.indexOf("-")?void 0:Kt.DashCase;if(null==i)o?t.removeStyle(n,r,s):n.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),s|=Kt.Important),o?t.setStyle(n,r,i,s):n.style.setProperty(r,i,a?"important":"")}}}(r,s,au(bt(),n),i,o))}(o,o.data[bt()],i,i[11],t,i[s+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=oe(function(t){return t instanceof class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}?t.changingThisBreaksApplicationSecurity:t}(t)))),t}(e,n),r,s)}(t,e,null,!0),Wu}function Qd(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=zs(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function zs(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Wt(t,s,!!n||e[++o]))}return void 0===t?null:t}function b0(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const u=t[i],l=Array.isArray(u),c=l?u[1]:u,f=null===c;let d=n[i+1];d===X&&(d=f?ve:void 0);let h=f?Gf(d,r):c===r?d:void 0;if(l&&!qu(h)&&(h=Gf(u,r)),qu(h)&&(a=h,s))return a;const p=t[i+1];i=s?En(p):lr(p)}if(null!==e){let u=o?e.residualClasses:e.residualStyles;null!=u&&(a=Gf(u,r))}return a}function qu(t){return void 0!==t}function T0(t,e=""){const n=I(),r=ce(),i=t+20,o=r.firstCreatePass?lo(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return Ve(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Ou(r,n,s,o),jn(o,!1)}function Jd(t){return eh("",t,""),Jd}function eh(t,e,n){const r=I(),i=function(t,e,n,r){return ht(t,Zi(),n)?e+ee(n)+r:X}(r,t,e,n);return i!==X&&fr(r,bt(),i),eh}const wi=void 0;var bO=["en",[["a","p"],["AM","PM"],wi],[["AM","PM"],wi,wi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],wi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],wi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",wi,"{1} 'at' {0}",wi],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){const e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let xo={};function q0(t){return t in xo||(xo[t]=pe.ng&&pe.ng.common&&pe.ng.common.locales&&pe.ng.common.locales[t]),xo[t]}var O=(()=>((O=O||{})[O.LocaleId=0]="LocaleId",O[O.DayPeriodsFormat=1]="DayPeriodsFormat",O[O.DayPeriodsStandalone=2]="DayPeriodsStandalone",O[O.DaysFormat=3]="DaysFormat",O[O.DaysStandalone=4]="DaysStandalone",O[O.MonthsFormat=5]="MonthsFormat",O[O.MonthsStandalone=6]="MonthsStandalone",O[O.Eras=7]="Eras",O[O.FirstDayOfWeek=8]="FirstDayOfWeek",O[O.WeekendRange=9]="WeekendRange",O[O.DateFormat=10]="DateFormat",O[O.TimeFormat=11]="TimeFormat",O[O.DateTimeFormat=12]="DateTimeFormat",O[O.NumberSymbols=13]="NumberSymbols",O[O.NumberFormats=14]="NumberFormats",O[O.CurrencyCode=15]="CurrencyCode",O[O.CurrencySymbol=16]="CurrencySymbol",O[O.CurrencyName=17]="CurrencyName",O[O.Currencies=18]="Currencies",O[O.Directionality=19]="Directionality",O[O.PluralCase=20]="PluralCase",O[O.ExtraData=21]="ExtraData",O))();const Ku="en-US";let K0=Ku;function th(t){Ut(t,"Expected localeId to be defined"),"string"==typeof t&&(K0=t.toLowerCase().replace(/_/g,"-"))}function ih(t,e,n,r,i){if(t=k(t),Array.isArray(t))for(let o=0;o<t.length;o++)ih(t[o],e,n,r,i);else{const o=ce(),s=I();let a=go(t)?t:k(t.provide),u=cv(t);const l=Xe(),c=1048575&l.providerIndexes,f=l.directiveStart,d=l.providerIndexes>>20;if(go(t)||!t.multi){const h=new vs(u,i,A),p=sh(a,e,i?c:c+d,f);-1===p?(vu(Cs(l,s),o,a),oh(o,t,e.length),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(h),s.push(h)):(n[p]=h,s[p]=h)}else{const h=sh(a,e,c+d,f),p=sh(a,e,c,c+d),_=h>=0&&n[h],g=p>=0&&n[p];if(i&&!g||!i&&!_){vu(Cs(l,s),o,a);const m=function(t,e,n,r,i){const o=new vs(t,n,A);return o.multi=[],o.index=e,o.componentProviders=0,yE(o,i,r&&!n),o}(i?CP:EP,n.length,i,r,u);!i&&g&&(n[p].providerFactory=m),oh(o,t,e.length,0),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(m),s.push(m)}else oh(o,t,h>-1?h:p,yE(n[i?p:h],u,!i&&r));!i&&r&&g&&n[p].componentProviders++}}}function oh(t,e,n,r){const i=go(e);if(i||function(t){return!!t.useClass}(e)){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const a=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const u=a.indexOf(n);-1===u?a.push(n,[r,s]):a[u+1].push(r,s)}else a.push(n,s)}}}function yE(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function sh(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function EP(t,e,n,r){return ah(this.multi,[])}function CP(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=ws(n,n[1],this.providerFactory.index,r);o=a.slice(0,s),ah(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],ah(i,o);return o}function ah(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Pe(t,e=[]){return n=>{n.providersResolver=(r,i)=>function(t,e,n){const r=ce();if(r.firstCreatePass){const i=yn(t);ih(n,r.data,r.blueprint,i,!0),ih(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class vE{}const CE="ngComponent";class bP{resolveComponentFactory(e){throw function(t){const e=Error(`No component factory found for ${oe(t)}. Did you add it to @NgModule.entryComponents?`);return e[CE]=t,e}(e)}}class Di{}function Ju(...t){}function Ro(t,e){return new pt(rn(t,e))}Di.NULL=new bP;const MP=function(){return Ro(Xe(),I())};let pt=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=MP,t})();function wE(t){return t instanceof pt?t.nativeElement:t}class el{}let bi=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>AP(),t})();const AP=function(){const t=I(),n=zt(Xe().index,t);return function(t){return t[11]}(kn(n)?n:t)};let lh=(()=>{class t{}return t.\u0275prov=ye({token:t,providedIn:"root",factory:()=>null}),t})();class tl{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const DE=new tl("12.2.4");class bE{constructor(){}supports(e){return Us(e)}create(e){return new PP(e)}}const OP=(t,e)=>e;class PP{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||OP}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<TE(r,i,o)?n:r,a=TE(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const l=a-i,c=u-i;if(l!=c){for(let d=0;d<l;d++){const h=d<o.length?o[d]:o[d]=0,p=h+d;c<=p&&p<l&&(o[d]=h+1)}o[s.previousIndex]=c-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Us(e))throw new Error(`Error trying to diff '${oe(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[_o()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new NP(n,r),o,i),e}_verifyReinsertion(e,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new IE),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new IE),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class NP{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class FP{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class IE{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new FP,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function TE(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class ME{constructor(){}supports(e){return e instanceof Map||Gd(e)}create(){return new LP}}class LP{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||Gd(e)))throw new Error(`Error trying to diff '${oe(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new VP(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class VP{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function xE(){return new Ys([new bE])}let Ys=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||xE()),deps:[[t,new gi,new Un]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(t){return t.name||typeof t}(n)}'`)}}return t.\u0275prov=ye({token:t,providedIn:"root",factory:xE}),t})();function AE(){return new So([new ME])}let So=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||AE()),deps:[[t,new gi,new Un]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new Error(`Cannot find a differ supporting object '${n}'`)}}return t.\u0275prov=ye({token:t,providedIn:"root",factory:AE}),t})();function nl(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(We(o)),mn(o))for(let a=10;a<o.length;a++){const u=o[a],l=u[1].firstChild;null!==l&&nl(u[1],u,l,r)}const s=n.type;if(8&s)nl(t,e,n.child,r);else if(32&s){const a=od(n,e);let u;for(;u=a();)r.push(u)}else if(16&s){const a=Cy(e,n);if(Array.isArray(a))r.push(...a);else{const u=Fs(e[16]);nl(u[1],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class Xs{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return nl(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(mn(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(cd(e,r),hi(n,r))}this._attachedToViewContainer=!1}dy(this._lView[1],this._lView)}onDestroy(e){Wy(this._lView[1],this._lView,null,e)}markForCheck(){Sd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Pd(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){lu(!0);try{Pd(t,e,n)}finally{lu(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function(t,e){Ls(t,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class jP extends Xs{constructor(e){super(e),this._view=e}detectChanges(){tv(this._view)}checkNoChanges(){!function(t){lu(!0);try{tv(t)}finally{lu(!1)}}(this._view)}get context(){return null}}const zP=[new ME],qP=new Ys([new bE]),KP=new So(zP),YP=function(){return rl(Xe(),I())};let pr=(()=>{class t{}return t.__NG_ELEMENT_ID__=YP,t})();const XP=pr,QP=class extends XP{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e){const n=this._declarationTContainer.tViews,r=Vs(this._declarationLView,n,e,16,null,n.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(r[19]=o.createEmbeddedView(n)),ks(n,r,e),new Xs(r)}};function rl(t,e){return 4&t.type?new QP(e,t,Ro(t,e)):null}class Ii{}const nN=function(){return OE(Xe(),I())};let Yn=(()=>{class t{}return t.__NG_ELEMENT_ID__=nN,t})();const iN=Yn,RE=class extends iN{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ro(this._hostTNode,this._hostLView)}get injector(){return new Qi(this._hostTNode,this._hostLView)}get parentInjector(){const e=yu(this._hostTNode,this._hostLView);if(gm(e)){const n=Xi(e,this._hostLView),r=Yi(e);return new Qi(n[1].data[r+8],n)}return new Qi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=SE(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){const i=e.createEmbeddedView(n||{});return this.insert(i,r),i}createComponent(e,n,r,i,o){const s=r||this.parentInjector;if(!o&&null==e.ngModule&&s){const u=s.get(Ii,null);u&&(o=u)}const a=e.create(s,i,void 0,o);return this.insert(a.hostView,n),a}insert(e,n){const r=e._lView,i=r[1];if(function(t){return mn(t[3])}(r)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const f=r[3],d=new RE(f,f[6],f[3]);d.detach(d.indexOf(e))}}const o=this._adjustIndex(n),s=this._lContainer;!function(t,e,n,r){const i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],wu(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(i,r,s,o);const a=hd(o,s),u=r[11],l=Su(u,s[7]);return null!==l&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Ls(t,r,n,1,i,o)}(i,s[6],u,r,l,a),e.attachToViewContainerRef(),wu(ch(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=SE(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=cd(this._lContainer,n);r&&(hi(ch(this._lContainer),n),dy(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=cd(this._lContainer,n);return r&&null!=hi(ch(this._lContainer),n)?new Xs(r):null}_adjustIndex(e,n=0){return null==e?this.length+n:e}};function SE(t){return t[8]}function ch(t){return t[8]||(t[8]=[])}function OE(t,e){let n;const r=e[t.index];if(mn(r))n=r;else{let i;if(8&t.type)i=We(r);else{const o=e[11];i=o.createComment("");const s=rn(t,e);yi(o,Su(o,s),i,function(t,e){return Ve(t)?t.nextSibling(e):e.nextSibling}(o,s),!1)}e[t.index]=n=ev(r,e,i,t),ju(e,n)}return new RE(n,t,e)}const Fo={};class QE extends Di{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=wt(e);return new eC(n,this.ngModule)}}function JE(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const eF=new fe("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>iy});class eC extends vE{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function(t){return t.map(BA).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return JE(this.componentDef.inputs)}get outputs(){return JE(this.componentDef.outputs)}create(e,n,r,i){const o=(i=i||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,Fo,i);return o!==Fo||r===Fo?o:e.get(n,r,i)}}}(e,i.injector):e,s=o.get(el,J_),a=o.get(lh,null),u=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",c=r?function(t,e,n){if(Ve(t))return t.selectRootElement(e,n===Ye.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(u,r,this.componentDef.encapsulation):ld(s.createRenderer(null,this.componentDef),l,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),f=this.componentDef.onPush?576:528,d=function(t,e){return{components:[],scheduler:t||iy,clean:bR,playerHandler:e||null,flags:0}}(),h=ku(0,null,null,1,0,null,null,null,null,null),p=Vs(null,h,d,f,null,null,s,u,a,o);let _,g;cu(p);try{const m=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const u=lo(s,20,2,"#host",null),l=u.mergedAttrs=e.hostAttrs;null!==l&&(Bu(u,l,!0),null!==t&&(gu(i,t,l),null!==u.classes&&gd(i,t,u.classes),null!==u.styles&&by(i,t,u.styles)));const c=r.createRenderer(t,e),f=Vs(n,Gy(e),null,e.onPush?64:16,n[20],u,r,c,o||null,null);return s.firstCreatePass&&(vu(Cs(u,n),s,e.type),Xy(s,u),Qy(u,n.length,1)),ju(n,f),n[20]=f}(c,this.componentDef,p,s,u);if(c)if(r)gu(u,c,["ng-version",DE.full]);else{const{attrs:y,classes:v}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!vn(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);y&&gu(u,c,y),v&&v.length>0&&gd(u,c,v.join(" "))}if(g=If(h,20),void 0!==n){const y=g.projection=[];for(let v=0;v<this.ngContentSelectors.length;v++){const E=n[v];y.push(null!=E?Array.from(E):null)}}_=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Xe();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Jy(t,r,e,co(t,e,1,null),n));const i=ws(e,t,r.directiveStart,r);dt(i,e);const o=rn(r,e);return o&&dt(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(u=>u(s,e)),e.contentQueries){const u=Xe();e.contentQueries(1,s,u.directiveStart)}const a=Xe();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Fr(a.index),Zy(n[1],a,0,a.directiveStart,a.directiveEnd,e),Yy(e,s)),s}(m,this.componentDef,p,d,[YR]),ks(h,p,null)}finally{fu()}return new rF(this.componentType,_,Ro(g,p),p,g)}}class rF extends class{}{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=n,this.hostView=this.changeDetectorRef=new jP(i),this.componentType=e}get injector(){return new Qi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}const Lo=new Map;class sF extends Ii{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new QE(this);const r=en(e),i=function(t){return t[n1]||null}(e);i&&th(i),this._bootstrapComponents=zn(r.bootstrap),this._r3Injector=lv(e,n,[{provide:Ii,useValue:this},{provide:Di,useValue:this.componentFactoryResolver}],oe(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,n=ge.THROW_IF_NOT_FOUND,r=G.Default){return e===ge||e===Ii||e===ho?this:this._r3Injector.get(e,n,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Dh extends class{}{constructor(e){super(),this.moduleType=e,null!==en(e)&&function(t){const e=new Set;!function n(r){const i=en(r,!0),o=i.id;null!==o&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${oe(e)} vs ${oe(e.name)}`)}(o,Lo.get(o),r),Lo.set(o,r));const s=zn(i.imports);for(const a of s)e.has(a)||(e.add(a),n(a))}(t)}(e)}create(e){return new sF(this.moduleType,e)}}function bh(t){return e=>{setTimeout(t,void 0,e)}}const st=class extends uf{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){var i,o,s;let a=e,u=n||(()=>null),l=r;if(e&&"object"==typeof e){const f=e;a=null===(i=f.next)||void 0===i?void 0:i.bind(f),u=null===(o=f.error)||void 0===o?void 0:o.bind(f),l=null===(s=f.complete)||void 0===s?void 0:s.bind(f)}this.__isAsync&&(u=bh(u),a&&(a=bh(a)),l&&(l=bh(l)));const c=super.subscribe({next:a,error:u,complete:l});return e instanceof Ge&&e.add(c),c}};function IF(){return this._results[_o()]()}class ul{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=_o(),r=ul.prototype;r[n]||(r[n]=IF)}get changes(){return this._changes||(this._changes=new st)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=sn(e);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Ih{constructor(e){this.queryList=e,this.matches=null}clone(){return new Ih(this.queryList)}setDirty(){this.queryList.setDirty()}}class Th{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){const s=n.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new Th(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==gC(e,n).matches&&this.queries[n].setDirty()}}class uC{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class Mh{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new Mh(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class xh{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new xh(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,n,xF(n,o)),this.matchTNodeWithReadOption(e,n,Eu(n,e,o,!1,!1))}else r===pr?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Eu(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===pt||i===Yn||i===pr&&4&n.type)this.addMatch(n.index,-2);else{const o=Eu(n,e,i,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function xF(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function RF(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Ro(t,e):4&t.type?rl(t,e):null}(e,t):-2===n?function(t,e,n){return n===pt?Ro(e,t):n===pr?rl(e,t):n===Yn?OE(e,t):void 0}(t,e,r):ws(t,t[1],n,e)}function lC(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const o=t.data,s=n.matches,a=[];for(let u=0;u<s.length;u+=2){const l=s[u];a.push(l<0?null:RF(e,o[l],s[u+1],n.metadata.read))}i.matches=a}return i.matches}function Ah(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=lC(t,e,i,n);for(let a=0;a<o.length;a+=2){const u=o[a];if(u>0)r.push(s[a/2]);else{const l=o[a+1],c=e[-u];for(let f=10;f<c.length;f++){const d=c[f];d[17]===d[3]&&Ah(d[1],d,l,r)}if(null!==c[9]){const f=c[9];for(let d=0;d<f.length;d++){const h=f[d];Ah(h[1],h,l,r)}}}}}return r}function cC(t){const e=I(),n=ce(),r=sm();Of(r+1);const i=gC(n,r);if(t.dirty&&em(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?Ah(n,e,r,[]):lC(n,e,i,r);t.reset(o,wE),t.notifyOnChanges()}return!0}return!1}function fC(t,e,n){const r=ce();r.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new Mh),t.queries.track(new xh(e,n))}(r,new uC(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),function(t,e,n){const r=new ul(4==(4&n));Wy(t,e,r,r.destroy),null===e[19]&&(e[19]=new Th),e[19].queries.push(new Ih(r))}(r,I(),e)}function gC(t,e){return t.queries.getByIndex(e)}const fl=new fe("Application Initializer");let ko=(()=>{class t{constructor(n){this.appInits=n,this.resolve=Ju,this.reject=Ju,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(zu(o))n.push(o);else if(Zd(o)){const s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(ue(fl,8))},t.\u0275prov=ye({token:t,factory:t.\u0275fac}),t})();const la=new fe("AppId"),uL={provide:la,useFactory:function(){return`${Fh()}${Fh()}${Fh()}`},deps:[]};function Fh(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const PC=new fe("Platform Initializer"),Lh=new fe("Platform ID"),lL=new fe("appBootstrapListener");let Vh=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ye({token:t,factory:t.\u0275fac}),t})();const Hr=new fe("LocaleId"),NC=new fe("DefaultCurrencyCode");class fL{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}const kh=function(t){return new Dh(t)},dL=kh,hL=function(t){return Promise.resolve(kh(t))},FC=function(t){const e=kh(t),r=zn(en(t).declarations).reduce((i,o)=>{const s=wt(o);return s&&i.push(new eC(s)),i},[]);return new fL(e,r)},pL=FC,gL=function(t){return Promise.resolve(FC(t))};let hl=(()=>{class t{constructor(){this.compileModuleSync=dL,this.compileModuleAsync=hL,this.compileModuleAndAllComponentsSync=pL,this.compileModuleAndAllComponentsAsync=gL}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ye({token:t,factory:t.\u0275fac}),t})();const yL=(()=>Promise.resolve(0))();function jh(t){"undefined"==typeof Zone?yL.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class at{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new st(!1),this.onMicrotaskEmpty=new st(!1),this.onStable=new st(!1),this.onError=new st(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function(){let t=pe.requestAnimationFrame,e=pe.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(pe,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Hh(t),t.isCheckStableRunning=!0,Bh(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Hh(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return LC(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),VC(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return LC(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),VC(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,Hh(t),Bh(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!at.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(at.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,EL,Ju,Ju);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const EL={};function Bh(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Hh(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function LC(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function VC(t){t._nesting--,Bh(t)}class DL{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new st,this.onMicrotaskEmpty=new st,this.onStable=new st,this.onError=new st}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}let Uh=(()=>{class t{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{at.assertNotInAngularZone(),jh(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())jh(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(ue(at))},t.\u0275prov=ye({token:t,factory:t.\u0275fac}),t})(),kC=(()=>{class t{constructor(){this._applications=new Map,Gh.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Gh.findTestabilityInTree(this,n,r)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ye({token:t,factory:t.\u0275fac}),t})();class bL{addToWindow(e){}findTestabilityInTree(e,n,r){return null}}let Gh=new bL,jC=!0,BC=!1;let Mn;const UC=new fe("AllowMultipleToken");function GC(t,e,n=[]){const r=`Platform: ${e}`,i=new fe(r);return(o=[])=>{let s=$C();if(!s||s.injector.get(UC,!1))if(t)t(n.concat(o).concat({provide:i,useValue:!0}));else{const a=n.concat(o).concat({provide:i,useValue:!0},{provide:js,useValue:"platform"});!function(t){if(Mn&&!Mn.destroyed&&!Mn.injector.get(UC,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Mn=t.get(zC);const e=t.get(PC,null);e&&e.forEach(n=>n())}(ge.create({providers:a,name:r}))}return function(t){const e=$C();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function $C(){return Mn&&!Mn.destroyed?Mn:null}let zC=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const a=function(t,e){let n;return n="noop"===t?new DL:("zone.js"===t?void 0:t)||new at({enableLongStackTrace:(BC=!0,jC),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),u=[{provide:at,useValue:a}];return a.run(()=>{const l=ge.create({providers:u,parent:this.injector,name:n.moduleType.name}),c=n.create(l),f=c.injector.get(mi,null);if(!f)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return a.runOutsideAngular(()=>{const d=a.onError.subscribe({next:h=>{f.handleError(h)}});c.onDestroy(()=>{$h(this._modules,c),d.unsubscribe()})}),function(t,e,n){try{const r=n();return zu(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(f,a,()=>{const d=c.injector.get(ko);return d.runInitializers(),d.donePromise.then(()=>(th(c.injector.get(Hr,Ku)||Ku),this._moduleDoBootstrap(c),c))})})}bootstrapModule(n,r=[]){const i=WC({},r);return function(t,e,n){const r=new Dh(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(ca);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new Error(`The module ${oe(n.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(ue(ge))},t.\u0275prov=ye({token:t,factory:t.\u0275fac}),t})();function WC(t,e){return Array.isArray(e)?e.reduce(WC,t):Object.assign(Object.assign({},t),e)}let ca=(()=>{class t{constructor(n,r,i,o,s){this._zone=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=o,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new Et(l=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{l.next(this._stable),l.complete()})}),u=new Et(l=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{at.assertNotInAngularZone(),jh(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,l.next(!0))})})});const f=this._zone.onUnstable.subscribe(()=>{at.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{l.next(!1)}))});return()=>{c.unsubscribe(),f.unsubscribe()}});this.isStable=function(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return function(t){return t&&"function"==typeof t.schedule}(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof Et?t[0]:RM(e)(function(t,e){return e?P_(t,e):new Et(A_(t))}(t,n))}(a,u.pipe(t=>F_()(function(t,e){return function(r){let i;i="function"==typeof t?t:function(){return t};const o=Object.create(r,LM);return o.source=r,o.subjectFactory=i,o}}(HM)(t))))}bootstrap(n,r){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let i;i=n instanceof vE?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(i.componentType);const o=function(t){return t.isBoundToModule}(i)?void 0:this._injector.get(Ii),a=i.create(ge.NULL,[],r||i.selector,o),u=a.location.nativeElement,l=a.injector.get(Uh,null),c=l&&a.injector.get(kC);return l&&c&&c.registerApplication(u,l),a.onDestroy(()=>{this.detachView(a.hostView),$h(this.components,a),c&&c.unregisterApplication(u)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;$h(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(lL,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(n){return new(n||t)(ue(at),ue(ge),ue(mi),ue(Di),ue(ko))},t.\u0275prov=ye({token:t,factory:t.\u0275fac}),t})();function $h(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const XL=GC(null,"core",[{provide:Lh,useValue:"unknown"},{provide:zC,deps:[ge]},{provide:kC,deps:[]},{provide:Vh,deps:[]}]),nV=[{provide:ca,useClass:ca,deps:[at,ge,mi,Di,ko]},{provide:eF,deps:[at],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(n){e.push(n)}}},{provide:ko,useClass:ko,deps:[[new Un,fl]]},{provide:hl,useClass:hl,deps:[]},uL,{provide:Ys,useFactory:function(){return qP},deps:[]},{provide:So,useFactory:function(){return KP},deps:[]},{provide:Hr,useFactory:function(t){return th(t=t||"undefined"!=typeof $localize&&$localize.locale||Ku),t},deps:[[new As(Hr),new Un,new gi]]},{provide:NC,useValue:"USD"}];let iV=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(ue(ca))},t.\u0275mod=ar({type:t}),t.\u0275inj=gn({providers:nV}),t})(),Dl=null;function Ri(){return Dl}const At=new fe("DocumentToken");var qe=(()=>((qe=qe||{})[qe.Zero=0]="Zero",qe[qe.One=1]="One",qe[qe.Two=2]="Two",qe[qe.Few=3]="Few",qe[qe.Many=4]="Many",qe[qe.Other=5]="Other",qe))();const dk=function(t){return function(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=q0(e);if(n)return n;const r=e.split("-")[0];if(n=q0(r),n)return n;if("en"===r)return bO;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[O.PluralCase]};class Pl{}let Hk=(()=>{class t extends Pl{constructor(n){super(),this.locale=n}getPluralCategory(n,r){switch(dk(r||this.locale)(n)){case qe.Zero:return"zero";case qe.One:return"one";case qe.Two:return"two";case qe.Few:return"few";case qe.Many:return"many";default:return"other"}}}return t.\u0275fac=function(n){return new(n||t)(ue(Hr))},t.\u0275prov=ye({token:t,factory:t.\u0275fac}),t})();class zk{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Rw=(()=>{class t{constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(r){throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(t){return t.name||typeof t}(n)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=[];n.forEachOperation((i,o,s)=>{if(null==i.previousIndex){const a=this._viewContainer.createEmbeddedView(this._template,new zk(null,this._ngForOf,-1,-1),null===s?void 0:s),u=new Sw(i,a);r.push(u)}else if(null==s)this._viewContainer.remove(null===o?void 0:o);else if(null!==o){const a=this._viewContainer.get(o);this._viewContainer.move(a,s);const u=new Sw(i,a);r.push(u)}});for(let i=0;i<r.length;i++)this._perViewChange(r[i].view,r[i].record);for(let i=0,o=this._viewContainer.length;i<o;i++){const s=this._viewContainer.get(i);s.context.index=i,s.context.count=o,s.context.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{this._viewContainer.get(i.currentIndex).context.$implicit=i.item})}_perViewChange(n,r){n.context.$implicit=r.item}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(A(Yn),A(pr),A(Ys))},t.\u0275dir=K({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class Sw{constructor(e,n){this.record=e,this.view=n}}let E2=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ar({type:t}),t.\u0275inj=gn({providers:[{provide:Pl,useClass:Hk}]}),t})();class mp extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function(t){Dl||(Dl=t)}(new mp)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=(ma=ma||document.querySelector("base"),ma?ma.getAttribute("href"):null);return null==n?null:function(t){Nl=Nl||document.createElement("a"),Nl.setAttribute("href",t);const e=Nl.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){ma=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let Nl,ma=null;const Vw=new fe("TRANSITION_ID"),R2=[{provide:fl,useFactory:function(t,e,n){return()=>{n.get(ko).donePromise.then(()=>{const r=Ri(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[Vw,At,ge],multi:!0}];class yp{static init(){!function(t){Gh=t}(new yp)}addToWindow(e){pe.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},pe.getAllAngularTestabilities=()=>e.getAllTestabilities(),pe.getAllAngularRootElements=()=>e.getAllRootElements(),pe.frameworkStabilizers||(pe.frameworkStabilizers=[]),pe.frameworkStabilizers.push(r=>{const i=pe.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(u){s=s||u,o--,0==o&&r(s)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){if(null==n)return null;const i=e.getTestability(n);return null!=i?i:r?Ri().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}}let S2=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ye({token:t,factory:t.\u0275fac}),t})();const ya=new fe("EventManagerPlugins");let Ll=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const s=i[o];if(s.supports(n))return this._eventNameToPlugin.set(n,s),s}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(ue(ya),ue(at))},t.\u0275prov=ye({token:t,factory:t.\u0275fac}),t})();class vp{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=Ri().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let jw=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ye({token:t,factory:t.\u0275fac}),t})(),va=(()=>{class t extends jw{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,i.push(r.appendChild(s))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(Bw),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(Bw))}}return t.\u0275fac=function(n){return new(n||t)(ue(At))},t.\u0275prov=ye({token:t,factory:t.\u0275fac}),t})();function Bw(t){Ri().remove(t)}const Ep={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Cp=/%COMP%/g;function Vl(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Vl(t,i,n):(i=i.replace(Cp,t),n.push(i))}return n}function Gw(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let wp=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Dp(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case Ye.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new W2(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case Ye.ShadowDom:return new q2(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=Vl(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(ue(Ll),ue(va),ue(la))},t.\u0275prov=ye({token:t,factory:t.\u0275fac}),t})();class Dp{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,n){return n?document.createElementNS(Ep[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){e.appendChild(n)}insertBefore(e,n,r){e&&e.insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=Ep[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Ep[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Kt.DashCase|Kt.Important)?e.style.setProperty(n,r,i&Kt.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Kt.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,Gw(r)):this.eventManager.addEventListener(e,n,Gw(r))}}class W2 extends Dp{constructor(e,n,r,i){super(e),this.component=r;const o=Vl(i+"-"+r.id,r.styles,[]);n.addStyles(o),this.contentAttr=function(t){return"_ngcontent-%COMP%".replace(Cp,t)}(i+"-"+r.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(Cp,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class q2 extends Dp{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Vl(i.id,i.styles,[]);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let K2=(()=>{class t extends vp{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(ue(At))},t.\u0275prov=ye({token:t,factory:t.\u0275fac}),t})();const Ww=["alt","control","meta","shift"],tj={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},qw={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},nj={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let rj=(()=>{class t extends vp{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ri().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=t._normalizeKey(r.pop());let s="";if(Ww.forEach(u=>{const l=r.indexOf(u);l>-1&&(r.splice(l,1),s+=u+".")}),s+=o,0!=r.length||0===o.length)return null;const a={};return a.domEventName=i,a.fullKey=s,a}static getEventFullKey(n){let r="",i=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&qw.hasOwnProperty(e)&&(e=qw[e]))}return tj[e]||e}(n);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Ww.forEach(o=>{o!=i&&nj[o](n)&&(r+=o+".")}),r+=i,r}static eventCallback(n,r,i){return o=>{t.getEventFullKey(o)===n&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){switch(n){case"esc":return"escape";default:return n}}}return t.\u0275fac=function(n){return new(n||t)(ue(At))},t.\u0275prov=ye({token:t,factory:t.\u0275fac}),t})();const fj=GC(XL,"browser",[{provide:Lh,useValue:"browser"},{provide:PC,useValue:function(){mp.makeCurrent(),yp.init()},multi:!0},{provide:At,useFactory:function(){return function(t){Df=t}(document),document},deps:[]}]),dj=[[],{provide:js,useValue:"root"},{provide:mi,useFactory:function(){return new mi},deps:[]},{provide:ya,useClass:K2,multi:!0,deps:[At,at,Lh]},{provide:ya,useClass:rj,multi:!0,deps:[At]},[],{provide:wp,useClass:wp,deps:[Ll,va,la]},{provide:el,useExisting:wp},{provide:jw,useExisting:va},{provide:va,useClass:va,deps:[At]},{provide:Uh,useClass:Uh,deps:[at]},{provide:Ll,useClass:Ll,deps:[ya,at]},{provide:class{},useClass:S2,deps:[]},[]];let hj=(()=>{class t{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:t,providers:[{provide:la,useValue:n.appId},{provide:Vw,useExisting:la},R2]}}}return t.\u0275fac=function(n){return new(n||t)(ue(t,12))},t.\u0275mod=ar({type:t}),t.\u0275inj=gn({providers:dj,imports:[E2,iV]}),t})();function Cj(){}function xp(t){return null==t?Cj:function(){return this.querySelector(t)}}function Zw(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function Dj(){return[]}function Yw(t){return null==t?Dj:function(){return this.querySelectorAll(t)}}function Xw(t){return function(){return this.matches(t)}}function Qw(t){return function(e){return e.matches(t)}}"undefined"!=typeof window&&window;var Tj=Array.prototype.find;function xj(){return this.firstElementChild}var Rj=Array.prototype.filter;function Sj(){return Array.from(this.children)}function Jw(t){return new Array(t.length)}function kl(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function Lj(t){return function(){return t}}function Vj(t,e,n,r,i,o){for(var a,s=0,u=e.length,l=o.length;s<l;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new kl(t,o[s]);for(;s<u;++s)(a=e[s])&&(i[s]=a)}function kj(t,e,n,r,i,o,s){var a,u,h,l=new Map,c=e.length,f=o.length,d=new Array(c);for(a=0;a<c;++a)(u=e[a])&&(d[a]=h=s.call(u,u.__data__,a,e)+"",l.has(h)?i[a]=u:l.set(h,u));for(a=0;a<f;++a)h=s.call(t,o[a],a,o)+"",(u=l.get(h))?(r[a]=u,u.__data__=o[a],l.delete(h)):n[a]=new kl(t,o[a]);for(a=0;a<c;++a)(u=e[a])&&l.get(d[a])===u&&(i[a]=u)}function jj(t){return t.__data__}function Hj(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function qj(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}kl.prototype={constructor:kl,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Ap="http://www.w3.org/1999/xhtml";const eD={svg:"http://www.w3.org/2000/svg",xhtml:Ap,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function jl(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),eD.hasOwnProperty(e)?{space:eD[e],local:t}:t}function eB(t){return function(){this.removeAttribute(t)}}function tB(t){return function(){this.removeAttributeNS(t.space,t.local)}}function nB(t,e){return function(){this.setAttribute(t,e)}}function rB(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function iB(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function oB(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function tD(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function aB(t){return function(){this.style.removeProperty(t)}}function uB(t,e,n){return function(){this.style.setProperty(t,e,n)}}function lB(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Ho(t,e){return t.style.getPropertyValue(e)||tD(t).getComputedStyle(t,null).getPropertyValue(e)}function fB(t){return function(){delete this[t]}}function dB(t,e){return function(){this[t]=e}}function hB(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function nD(t){return t.trim().split(/^|\s+/)}function Rp(t){return t.classList||new rD(t)}function rD(t){this._node=t,this._names=nD(t.getAttribute("class")||"")}function iD(t,e){for(var n=Rp(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function oD(t,e){for(var n=Rp(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function gB(t){return function(){iD(this,t)}}function _B(t){return function(){oD(this,t)}}function mB(t,e){return function(){(e.apply(this,arguments)?iD:oD)(this,t)}}function vB(){this.textContent=""}function EB(t){return function(){this.textContent=t}}function CB(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function DB(){this.innerHTML=""}function bB(t){return function(){this.innerHTML=t}}function IB(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function MB(){this.nextSibling&&this.parentNode.appendChild(this)}function AB(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function SB(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Ap&&e.documentElement.namespaceURI===Ap?e.createElement(t):e.createElementNS(n,t)}}function OB(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function sD(t){var e=jl(t);return(e.local?OB:SB)(e)}function NB(){return null}function LB(){var t=this.parentNode;t&&t.removeChild(this)}function kB(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function jB(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function GB(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function $B(t){return function(){var e=this.__on;if(e){for(var o,n=0,r=-1,i=e.length;n<i;++n)o=e[n],t.type&&o.type!==t.type||o.name!==t.name?e[++r]=o:this.removeEventListener(o.type,o.listener,o.options);++r?e.length=r:delete this.__on}}}function zB(t,e,n){return function(){var i,r=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(r)for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===t.type&&i.name===t.name)return this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),void(i.value=e);this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function aD(t,e,n){var r=tD(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function qB(t,e){return function(){return aD(this,t,e)}}function KB(t,e){return function(){return aD(this,t,e.apply(this,arguments))}}rD.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Sp=[null];function Rt(t,e){this._groups=t,this._parents=e}function uD(){return new Rt([[document.documentElement]],Sp)}Rt.prototype=uD.prototype={constructor:Rt,select:function(t){"function"!=typeof t&&(t=xp(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var u,l,o=e[i],s=o.length,a=r[i]=new Array(s),c=0;c<s;++c)(u=o[c])&&(l=t.call(u,u.__data__,c,o))&&("__data__"in u&&(l.__data__=u.__data__),a[c]=l);return new Rt(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return Zw(t.apply(this,arguments))}}(t):Yw(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var u,s=e[o],a=s.length,l=0;l<a;++l)(u=s[l])&&(r.push(t.call(u,u.__data__,l,s)),i.push(u));return new Rt(r,i)},selectChild:function(t){return this.select(null==t?xj:function(t){return function(){return Tj.call(this.children,t)}}("function"==typeof t?t:Qw(t)))},selectChildren:function(t){return this.selectAll(null==t?Sj:function(t){return function(){return Rj.call(this.children,t)}}("function"==typeof t?t:Qw(t)))},filter:function(t){"function"!=typeof t&&(t=Xw(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var u,o=e[i],s=o.length,a=r[i]=[],l=0;l<s;++l)(u=o[l])&&t.call(u,u.__data__,l,o)&&a.push(u);return new Rt(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,jj);var n=e?kj:Vj,r=this._parents,i=this._groups;"function"!=typeof t&&(t=Lj(t));for(var o=i.length,s=new Array(o),a=new Array(o),u=new Array(o),l=0;l<o;++l){var c=r[l],f=i[l],d=f.length,h=Hj(t.call(c,c&&c.__data__,l,r)),p=h.length,_=a[l]=new Array(p),g=s[l]=new Array(p),m=u[l]=new Array(d);n(c,f,_,g,m,h,e);for(var E,w,y=0,v=0;y<p;++y)if(E=_[y]){for(y>=v&&(v=y+1);!(w=g[v])&&++v<p;);E._next=w||null}}return(s=new Rt(s,r))._enter=a,s._exit=u,s},enter:function(){return new Rt(this._enter||this._groups.map(Jw),this._parents)},exit:function(){return new Rt(this._exit||this._groups.map(Jw),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&(i=e(i))&&(i=i.selection()),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=Math.min(i,r.length),a=new Array(i),u=0;u<s;++u)for(var h,l=n[u],c=r[u],f=l.length,d=a[u]=new Array(f),p=0;p<f;++p)(h=l[p]||c[p])&&(d[p]=h);for(;u<i;++u)a[u]=n[u];return new Rt(a,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var s,r=t[e],i=r.length-1,o=r[i];--i>=0;)(s=r[i])&&(o&&4^s.compareDocumentPosition(o)&&o.parentNode.insertBefore(s,o),o=s);return this},sort:function(t){function e(f,d){return f&&d?t(f.__data__,d.__data__):!f-!d}t||(t=qj);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var l,s=n[o],a=s.length,u=i[o]=new Array(a),c=0;c<a;++c)(l=s[c])&&(u[c]=l);u.sort(e)}return new Rt(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var a,i=e[n],o=0,s=i.length;o<s;++o)(a=i[o])&&t.call(a,a.__data__,o,i);return this},attr:function(t,e){var n=jl(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?tB:eB:"function"==typeof e?n.local?oB:iB:n.local?rB:nB)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?aB:"function"==typeof e?lB:uB)(t,e,null==n?"":n)):Ho(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?fB:"function"==typeof e?hB:dB)(t,e)):this.node()[t]},classed:function(t,e){var n=nD(t+"");if(arguments.length<2){for(var r=Rp(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?mB:e?gB:_B)(n,e))},text:function(t){return arguments.length?this.each(null==t?vB:("function"==typeof t?CB:EB)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?DB:("function"==typeof t?IB:bB)(t)):this.node().innerHTML},raise:function(){return this.each(MB)},lower:function(){return this.each(AB)},append:function(t){var e="function"==typeof t?t:sD(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:sD(t),r=null==e?NB:"function"==typeof e?e:xp(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(LB)},clone:function(t){return this.select(t?jB:kB)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var i,s,r=GB(t+""),o=r.length;if(!(arguments.length<2)){for(a=e?zB:$B,i=0;i<o;++i)this.each(a(r[i],e,n));return this}var a=this.node().__on;if(a)for(var c,u=0,l=a.length;u<l;++u)for(i=0,c=a[u];i<o;++i)if((s=r[i]).type===c.type&&s.name===c.name)return c.value},dispatch:function(t,e){return this.each(("function"==typeof e?KB:qB)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var s,r=t[e],i=0,o=r.length;i<o;++i)(s=r[i])&&(yield s)}};const Ea=uD;var QB={value:()=>{}};function lD(){for(var r,t=0,e=arguments.length,n={};t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Bl(n)}function Bl(t){this._=t}function JB(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}function e3(t,e){for(var i,n=0,r=t.length;n<r;++n)if((i=t[n]).name===e)return i.value}function cD(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=QB,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}Bl.prototype=lD.prototype={constructor:Bl,on:function(t,e){var i,n=this._,r=JB(t+"",n),o=-1,s=r.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<s;)if(i=(t=r[o]).type)n[i]=cD(n[i],t.name,e);else if(null==e)for(i in n)n[i]=cD(n[i],t.name,null);return this}for(;++o<s;)if((i=(t=r[o]).type)&&(i=e3(n[i],t.name)))return i},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Bl(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var i,o,n=new Array(i),r=0;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=0,i=(o=this._[t]).length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};const t3=lD;var Hl,Da,Uo=0,Ca=0,wa=0,Ul=0,Si=0,Gl=0,ba="object"==typeof performance&&performance.now?performance:Date,dD="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Op(){return Si||(dD(n3),Si=ba.now()+Gl)}function n3(){Si=0}function $l(){this._call=this._time=this._next=null}function hD(t,e,n){var r=new $l;return r.restart(t,e,n),r}function pD(){Si=(Ul=ba.now())+Gl,Uo=Ca=0;try{!function(){Op(),++Uo;for(var e,t=Hl;t;)(e=Si-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Uo}()}finally{Uo=0,function(){for(var t,n,e=Hl,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Hl=n);Da=t,Pp(r)}(),Si=0}}function i3(){var t=ba.now(),e=t-Ul;e>1e3&&(Gl-=e,Ul=t)}function Pp(t){Uo||(Ca&&(Ca=clearTimeout(Ca)),t-Si>24?(t<1/0&&(Ca=setTimeout(pD,t-ba.now()-Gl)),wa&&(wa=clearInterval(wa))):(wa||(Ul=ba.now(),wa=setInterval(i3,1e3)),Uo=1,dD(pD)))}function gD(t,e,n){var r=new $l;return r.restart(i=>{r.stop(),t(i+e)},e=null==e?0:+e,n),r}$l.prototype=hD.prototype={constructor:$l,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Op():+n)+(null==e?0:+e),!this._next&&Da!==this&&(Da?Da._next=this:Hl=this,Da=this),this._call=t,this._time=n,Pp()},stop:function(){this._call&&(this._call=null,this._time=1/0,Pp())}};var s3=t3("start","end","cancel","interrupt"),a3=[];function ql(t,e,n,r,i,o){var s=t.__transition;if(s){if(n in s)return}else t.__transition={};!function(t,e,n){var i,r=t.__transition;function s(l){var c,f,d,h;if(1!==n.state)return u();for(c in r)if((h=r[c]).name===n.name){if(3===h.state)return gD(s);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete r[c]):+c<e&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete r[c])}if(gD(function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(l))}),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,i=new Array(d=n.tween.length),c=0,f=-1;c<d;++c)(h=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++f]=h);i.length=f+1}}function a(l){for(var c=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(u),n.state=5,1),f=-1,d=i.length;++f<d;)i[f].call(t,c);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){for(var l in n.state=6,n.timer.stop(),delete r[e],r)return;delete t.__transition}r[e]=n,n.timer=hD(function(l){n.state=1,n.timer.restart(s,n.delay,n.time),n.delay<=l&&s(l-n.delay)},0,n.time)}(t,n,{name:e,index:r,group:i,on:s3,tween:a3,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function Lp(t,e){var n=On(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function Xn(t,e){var n=On(t,e);if(n.state>3)throw new Error("too late; already running");return n}function On(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Pn(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Kl,vD=180/Math.PI,Vp={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ED(t,e,n,r,i,o){var s,a,u;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,u/=a),t*r<e*n&&(t=-t,e=-e,u=-u,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*vD,skewX:Math.atan(u)*vD,scaleX:s,scaleY:a}}function CD(t,e,n,r){function i(l){return l.length?l.pop()+" ":""}return function(l,c){var f=[],d=[];return l=t(l),c=t(c),function(l,c,f,d,h,p){if(l!==f||c!==d){var _=h.push("translate(",null,e,null,n);p.push({i:_-4,x:Pn(l,f)},{i:_-2,x:Pn(c,d)})}else(f||d)&&h.push("translate("+f+e+d+n)}(l.translateX,l.translateY,c.translateX,c.translateY,f,d),function(l,c,f,d){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:Pn(l,c)})):c&&f.push(i(f)+"rotate("+c+r)}(l.rotate,c.rotate,f,d),function(l,c,f,d){l!==c?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:Pn(l,c)}):c&&f.push(i(f)+"skewX("+c+r)}(l.skewX,c.skewX,f,d),function(l,c,f,d,h,p){if(l!==f||c!==d){var _=h.push(i(h)+"scale(",null,",",null,")");p.push({i:_-4,x:Pn(l,f)},{i:_-2,x:Pn(c,d)})}else(1!==f||1!==d)&&h.push(i(h)+"scale("+f+","+d+")")}(l.scaleX,l.scaleY,c.scaleX,c.scaleY,f,d),l=c=null,function(h){for(var g,p=-1,_=d.length;++p<_;)f[(g=d[p]).i]=g.x(h);return f.join("")}}}var h3=CD(function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Vp:ED(e.a,e.b,e.c,e.d,e.e,e.f)},"px, ","px)","deg)"),p3=CD(function(t){return null!=t&&(Kl||(Kl=document.createElementNS("http://www.w3.org/2000/svg","g")),Kl.setAttribute("transform",t),t=Kl.transform.baseVal.consolidate())?ED((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Vp},", ",")",")");function g3(t,e){var n,r;return function(){var i=Xn(this,t),o=i.tween;if(o!==n)for(var s=0,a=(r=n=o).length;s<a;++s)if(r[s].name===e){(r=r.slice()).splice(s,1);break}i.tween=r}}function _3(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=Xn(this,t),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:e,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===e){i[u]=a;break}u===l&&i.push(a)}o.tween=i}}function kp(t,e,n){var r=t._id;return t.each(function(){var i=Xn(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return On(i,r).value[e]}}function jp(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function wD(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ia(){}var Zl=1/.7,Go="\\s*([+-]?\\d+)\\s*",Ma="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",y3=/^#([0-9a-f]{3,8})$/,v3=new RegExp("^rgb\\("+[Go,Go,Go]+"\\)$"),E3=new RegExp("^rgb\\("+[Qn,Qn,Qn]+"\\)$"),C3=new RegExp("^rgba\\("+[Go,Go,Go,Ma]+"\\)$"),w3=new RegExp("^rgba\\("+[Qn,Qn,Qn,Ma]+"\\)$"),D3=new RegExp("^hsl\\("+[Ma,Qn,Qn]+"\\)$"),b3=new RegExp("^hsla\\("+[Ma,Qn,Qn,Ma]+"\\)$"),DD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function bD(){return this.rgb().formatHex()}function ID(){return this.rgb().formatRgb()}function Oi(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=y3.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?TD(e):3===n?new Xt(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Yl(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Yl(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=v3.exec(t))?new Xt(e[1],e[2],e[3],1):(e=E3.exec(t))?new Xt(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=C3.exec(t))?Yl(e[1],e[2],e[3],e[4]):(e=w3.exec(t))?Yl(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=D3.exec(t))?AD(e[1],e[2]/100,e[3]/100,1):(e=b3.exec(t))?AD(e[1],e[2]/100,e[3]/100,e[4]):DD.hasOwnProperty(t)?TD(DD[t]):"transparent"===t?new Xt(NaN,NaN,NaN,0):null}function TD(t){return new Xt(t>>16&255,t>>8&255,255&t,1)}function Yl(t,e,n,r){return r<=0&&(t=e=n=NaN),new Xt(t,e,n,r)}function T3(t){return t instanceof Ia||(t=Oi(t)),t?new Xt((t=t.rgb()).r,t.g,t.b,t.opacity):new Xt}function Xl(t,e,n,r){return 1===arguments.length?T3(t):new Xt(t,e,n,null==r?1:r)}function Xt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function MD(){return"#"+Bp(this.r)+Bp(this.g)+Bp(this.b)}function xD(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Bp(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function AD(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Jn(t,e,n,r)}function RD(t){if(t instanceof Jn)return new Jn(t.h,t.s,t.l,t.opacity);if(t instanceof Ia||(t=Oi(t)),!t)return new Jn;if(t instanceof Jn)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,u=(o+i)/2;return a?(s=e===o?(n-r)/a+6*(n<r):n===o?(r-e)/a+2:(e-n)/a+4,a/=u<.5?o+i:2-o-i,s*=60):a=u>0&&u<1?0:s,new Jn(s,a,u,t.opacity)}function Jn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Hp(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function SD(t,e,n,r,i){var o=t*t,s=o*t;return((1-3*t+3*o-s)*e+(4-6*o+3*s)*n+(1+3*t+3*o-3*s)*r+s*i)/6}jp(Ia,Oi,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:bD,formatHex:bD,formatHsl:function(){return RD(this).formatHsl()},formatRgb:ID,toString:ID}),jp(Xt,Xl,wD(Ia,{brighter:function(t){return t=null==t?Zl:Math.pow(Zl,t),new Xt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Xt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:MD,formatHex:MD,formatRgb:xD,toString:xD})),jp(Jn,function(t,e,n,r){return 1===arguments.length?RD(t):new Jn(t,e,n,null==r?1:r)},wD(Ia,{brighter:function(t){return t=null==t?Zl:Math.pow(Zl,t),new Jn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Jn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Xt(Hp(t>=240?t-240:t+120,i,r),Hp(t,i,r),Hp(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));const Up=t=>()=>t;function PD(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):Up(isNaN(t)?e:t)}const Ql=function t(e){var n=function(t){return 1==(t=+t)?PD:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Up(isNaN(e)?n:e)}}(e);function r(i,o){var s=n((i=Xl(i)).r,(o=Xl(o)).r),a=n(i.g,o.g),u=n(i.b,o.b),l=PD(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=u(c),i.opacity=l(c),i+""}}return r.gamma=t,r}(1);function ND(t){return function(e){var s,a,n=e.length,r=new Array(n),i=new Array(n),o=new Array(n);for(s=0;s<n;++s)a=Xl(e[s]),r[s]=a.r||0,i[s]=a.g||0,o[s]=a.b||0;return r=t(r),i=t(i),o=t(o),a.opacity=1,function(u){return a.r=r(u),a.g=i(u),a.b=o(u),a+""}}}ND(function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1];return SD((n-r/e)*e,r>0?t[r-1]:2*i-o,i,o,r<e-1?t[r+2]:2*o-i)}}),ND(function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e);return SD((n-r/e)*e,t[(r+e-1)%e],t[r%e],t[(r+1)%e],t[(r+2)%e])}});var Gp=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$p=new RegExp(Gp.source,"g");function FD(t,e){var r,i,o,n=Gp.lastIndex=$p.lastIndex=0,s=-1,a=[],u=[];for(t+="",e+="";(r=Gp.exec(t))&&(i=$p.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,u.push({i:s,x:Pn(r,i)})),n=$p.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(l){for(var f,c=0;c<e;++c)a[(f=u[c]).i]=f.x(l);return a.join("")})}function LD(t,e){var n;return("number"==typeof e?Pn:e instanceof Oi?Ql:(n=Oi(e))?(e=n,Ql):FD)(t,e)}function N3(t){return function(){this.removeAttribute(t)}}function F3(t){return function(){this.removeAttributeNS(t.space,t.local)}}function L3(t,e,n){var r,o,i=n+"";return function(){var s=this.getAttribute(t);return s===i?null:s===r?o:o=e(r=s,n)}}function V3(t,e,n){var r,o,i=n+"";return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===r?o:o=e(r=s,n)}}function k3(t,e,n){var r,i,o;return function(){var s,u,a=n(this);return null==a?void this.removeAttribute(t):(s=this.getAttribute(t))===(u=a+"")?null:s===r&&u===i?o:(i=u,o=e(r=s,a))}}function j3(t,e,n){var r,i,o;return function(){var s,u,a=n(this);return null==a?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local))===(u=a+"")?null:s===r&&u===i?o:(i=u,o=e(r=s,a))}}function H3(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function U3(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function G3(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&U3(t,o)),n}return i._value=e,i}function $3(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&H3(t,o)),n}return i._value=e,i}function W3(t,e){return function(){Lp(this,t).delay=+e.apply(this,arguments)}}function q3(t,e){return e=+e,function(){Lp(this,t).delay=e}}function Z3(t,e){return function(){Xn(this,t).duration=+e.apply(this,arguments)}}function Y3(t,e){return e=+e,function(){Xn(this,t).duration=e}}function Q3(t,e){if("function"!=typeof e)throw new Error;return function(){Xn(this,t).ease=e}}function oH(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||"start"===e})}(e)?Lp:Xn;return function(){var s=o(this,t),a=s.on;a!==r&&(i=(r=a).copy()).on(e,n),s.on=i}}var fH=Ea.prototype.constructor;function VD(t){return function(){this.style.removeProperty(t)}}function yH(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function vH(t,e,n){var r,i;function o(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&yH(t,s,n)),r}return o._value=e,o}function bH(t){return function(e){this.textContent=t.call(this,e)}}function IH(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&bH(i)),e}return r._value=t,r}var AH=0;function mr(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function kD(){return++AH}var yr=Ea.prototype;mr.prototype=function(t){return Ea().transition(t)}.prototype={constructor:mr,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=xp(t));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var c,f,a=r[s],u=a.length,l=o[s]=new Array(u),d=0;d<u;++d)(c=a[d])&&(f=t.call(c,c.__data__,d,a))&&("__data__"in c&&(f.__data__=c.__data__),l[d]=f,ql(l[d],e,n,d,l,On(c,n)));return new mr(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Yw(t));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var c,u=r[a],l=u.length,f=0;f<l;++f)if(c=u[f]){for(var h,d=t.call(c,c.__data__,f,u),p=On(c,n),_=0,g=d.length;_<g;++_)(h=d[_])&&ql(h,e,n,_,d,p);o.push(d),s.push(c)}return new mr(o,s,e,n)},selectChild:yr.selectChild,selectChildren:yr.selectChildren,filter:function(t){"function"!=typeof t&&(t=Xw(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var u,o=e[i],s=o.length,a=r[i]=[],l=0;l<s;++l)(u=o[l])&&t.call(u,u.__data__,l,o)&&a.push(u);return new mr(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,o=Math.min(r,n.length),s=new Array(r),a=0;a<o;++a)for(var d,u=e[a],l=n[a],c=u.length,f=s[a]=new Array(c),h=0;h<c;++h)(d=u[h]||l[h])&&(f[h]=d);for(;a<r;++a)s[a]=e[a];return new mr(s,this._parents,this._name,this._id)},selection:function(){return new fH(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=kD(),r=this._groups,i=r.length,o=0;o<i;++o)for(var u,s=r[o],a=s.length,l=0;l<a;++l)if(u=s[l]){var c=On(u,e);ql(u,t,n,l,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new mr(r,this._parents,t,n)},call:yr.call,nodes:yr.nodes,node:yr.node,size:yr.size,empty:yr.empty,each:yr.each,on:function(t,e){var n=this._id;return arguments.length<2?On(this.node(),n).on.on(t):this.each(oH(n,t,e))},attr:function(t,e){var n=jl(t),r="transform"===n?p3:LD;return this.attrTween(t,"function"==typeof e?(n.local?j3:k3)(n,r,kp(this,"attr."+t,e)):null==e?(n.local?F3:N3)(n):(n.local?V3:L3)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=jl(t);return this.tween(n,(r.local?G3:$3)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?h3:LD;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=Ho(this,t),s=(this.style.removeProperty(t),Ho(this,t));return o===s?null:o===n&&s===r?i:i=e(n=o,r=s)}}(t,r)).on("end.style."+t,VD(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var s=Ho(this,t),a=n(this),u=a+"";return null==a&&(this.style.removeProperty(t),u=a=Ho(this,t)),s===u?null:s===r&&u===i?o:(i=u,o=e(r=s,a))}}(t,r,kp(this,"style."+t,e))).each(function(t,e){var n,r,i,a,o="style."+e,s="end."+o;return function(){var u=Xn(this,t),l=u.on,c=null==u.value[o]?a||(a=VD(e)):void 0;(l!==n||i!==c)&&(r=(n=l).copy()).on(s,i=c),u.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,o,i=n+"";return function(){var s=Ho(this,t);return s===i?null:s===r?o:o=e(r=s,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,vH(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(kp(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,IH(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var s,r=On(this.node(),n).tween,i=0,o=r.length;i<o;++i)if((s=r[i]).name===t)return s.value;return null}return this.each((null==e?g3:_3)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?W3:q3)(e,t)):On(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Z3:Y3)(e,t)):On(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(Q3(e,t)):On(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;Xn(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},u={value:function(){0==--i&&o()}};n.each(function(){var l=Xn(this,r),c=l.on;c!==t&&((e=(t=c).copy())._.cancel.push(a),e._.interrupt.push(a),e._.end.push(u)),l.on=e}),0===i&&o()})},[Symbol.iterator]:yr[Symbol.iterator]};var OH={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function PH(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}Ea.prototype.interrupt=function(t){return this.each(function(){!function(t,e){var r,i,s,n=t.__transition,o=!0;if(n){for(s in e=null==e?null:e+"",n)(r=n[s]).name===e?(i=r.state>2&&r.state<5,r.state=6,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[s]):o=!1;o&&delete t.__transition}}(this,t)})},Ea.prototype.transition=function(t){var e,n;t instanceof mr?(e=t._id,t=t._name):(e=kD(),(n=OH).time=Op(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var u,s=r[o],a=s.length,l=0;l<a;++l)(u=s[l])&&ql(u,t,e,l,s,n||PH(u,e));return new mr(r,this._parents,t,e)};Math;function xa(t){return{type:t}}function tc(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Wo(t){return(t=tc(Math.abs(t)))?t[1]:NaN}["w","e"].map(xa),["n","s"].map(xa),["n","w","e","s","nw","ne","sw","se"].map(xa);var $D,zH=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function nc(t){if(!(e=zH.exec(t)))throw new Error("invalid format: "+t);var e;return new Zp({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Zp(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function zD(t,e){var n=tc(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}nc.prototype=Zp.prototype,Zp.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const WD={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>zD(100*t,e),r:zD,s:function(t,e){var n=tc(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-($D=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+tc(t,Math.max(0,e+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function qD(t){return t}var rc,$r,YD,KD=Array.prototype.map,ZD=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];rc=function(t){var e=void 0===t.grouping||void 0===t.thousands?qD:function(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],u=0;i>0&&a>0&&(u+a+1>r&&(a=Math.max(1,r-u)),o.push(n.substring(i-=a,i+a)),!((u+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}(KD.call(t.grouping,Number),t.thousands+""),n=void 0===t.currency?"":t.currency[0]+"",r=void 0===t.currency?"":t.currency[1]+"",i=void 0===t.decimal?".":t.decimal+"",o=void 0===t.numerals?qD:function(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}(KD.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",a=void 0===t.minus?"\u2212":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function l(f){var d=(f=nc(f)).fill,h=f.align,p=f.sign,_=f.symbol,g=f.zero,m=f.width,y=f.comma,v=f.precision,E=f.trim,w=f.type;"n"===w?(y=!0,w="g"):WD[w]||(void 0===v&&(v=12),E=!0,w="g"),(g||"0"===d&&"="===h)&&(g=!0,d="0",h="=");var M="$"===_?n:"#"===_&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",P="$"===_?r:/[%p]/.test(w)?s:"",N=WD[w],j=/[defgprs%]/.test(w);function V(x){var C,b,D,te=M,B=P;if("c"===w)B=N(x)+B,x="";else{var T=(x=+x)<0||1/x<0;if(x=isNaN(x)?u:N(Math.abs(x),v),E&&(x=function(t){e:for(var i,e=t.length,n=1,r=-1;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":0===r&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0)}return r>0?t.slice(0,r)+t.slice(i+1):t}(x)),T&&0==+x&&"+"!==p&&(T=!1),te=(T?"("===p?p:a:"-"===p||"("===p?"":p)+te,B=("s"===w?ZD[8+$D/3]:"")+B+(T&&"("===p?")":""),j)for(C=-1,b=x.length;++C<b;)if(48>(D=x.charCodeAt(C))||D>57){B=(46===D?i+x.slice(C+1):x.slice(C))+B,x=x.slice(0,C);break}}y&&!g&&(x=e(x,1/0));var F=te.length+x.length+B.length,S=F<m?new Array(m-F+1).join(d):"";switch(y&&g&&(x=e(S+x,S.length?m-B.length:1/0),S=""),h){case"<":x=te+x+B+S;break;case"=":x=te+S+x+B;break;case"^":x=S.slice(0,F=S.length>>1)+te+x+B+S.slice(F);break;default:x=S+te+x+B}return o(x)}return v=void 0===v?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),V.toString=function(){return f+""},V}return{format:l,formatPrefix:function(f,d){var h=l(((f=nc(f)).type="f",f)),p=3*Math.max(-8,Math.min(8,Math.floor(Wo(d)/3))),_=Math.pow(10,-p),g=ZD[8+p/3];return function(m){return h(_*m)+g}}}}({thousands:",",grouping:[3],currency:["$",""]}),$r=rc.format,YD=rc.formatPrefix;var Yp=Math.sqrt(50),Xp=Math.sqrt(10),Qp=Math.sqrt(2);function XD(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=Yp?10:o>=Xp?5:o>=Qp?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=Yp?10:o>=Xp?5:o>=Qp?2:1)}function Jp(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function QD(t){let e=t,n=t,r=t;function i(a,u,l=0,c=a.length){if(l<c){if(0!==n(u,u))return c;do{const f=l+c>>>1;r(a[f],u)<0?l=f+1:c=f}while(l<c)}return l}return 1===t.length&&(e=(a,u)=>t(a)-u,n=Jp,r=(a,u)=>Jp(t(a),u)),{left:i,center:function(a,u,l=0,c=a.length){const f=i(a,u,l,c-1);return f>l&&e(a[f-1],u)>-e(a[f],u)?f-1:f},right:function(a,u,l=0,c=a.length){if(l<c){if(0!==n(u,u))return c;do{const f=l+c>>>1;r(a[f],u)<=0?l=f+1:c=f}while(l<c)}return l}}}const JH=QD(Jp).right,eU=(QD(function(t){return null===t?NaN:+t}),JH);function eb(t,e){var s,n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n);for(s=0;s<r;++s)i[s]=eg(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function tU(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function nU(t,e){var i,n={},r={};for(i in(null===t||"object"!=typeof t)&&(t={}),(null===e||"object"!=typeof e)&&(e={}),e)i in t?n[i]=eg(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}function rU(t,e){e||(e=[]);var i,n=t?Math.min(e.length,t.length):0,r=e.slice();return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function eg(t,e){var r,n=typeof e;return null==e||"boolean"===n?Up(e):("number"===n?Pn:"string"===n?(r=Oi(e))?(e=r,Ql):FD:e instanceof Oi?Ql:e instanceof Date?tU:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?rU:Array.isArray(e)?eb:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?nU:Pn)(t,e)}function oU(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function aU(t){return+t}var tb=[0,1];function qo(t){return t}function tg(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function lU(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=tg(i,r),o=n(s,o)):(r=tg(r,i),o=n(o,s)),function(a){return o(r(a))}}function cU(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=tg(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var u=eU(t,a,1,r)-1;return o[u](i[u](a))}}function fU(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function hU(){return function(){var r,i,o,a,u,l,t=tb,e=tb,n=eg,s=qo;function c(){var d=Math.min(t.length,e.length);return s!==qo&&(s=function(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}(t[0],t[d-1])),a=d>2?cU:lU,u=l=null,f}function f(d){return null==d||isNaN(d=+d)?o:(u||(u=a(t.map(r),e,n)))(r(s(d)))}return f.invert=function(d){return s(i((l||(l=a(e,t.map(r),Pn)))(d)))},f.domain=function(d){return arguments.length?(t=Array.from(d,aU),c()):t.slice()},f.range=function(d){return arguments.length?(e=Array.from(d),c()):e.slice()},f.rangeRound=function(d){return e=Array.from(d),n=oU,c()},f.clamp=function(d){return arguments.length?(s=!!d||qo,c()):s!==qo},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(o=d,f):o},function(d,h){return r=d,i=h,c()}}()(qo,qo)}function pU(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function vU(t){var e=t.domain;return t.ticks=function(n){var r=e();return function(t,e,n){var r,o,s,a,i=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(o=t,t=e,e=o),0===(a=XD(t,e,n))||!isFinite(a))return[];if(a>0){let u=Math.round(t/a),l=Math.round(e/a);for(u*a<t&&++u,l*a>e&&--l,s=new Array(o=l-u+1);++i<o;)s[i]=(u+i)*a}else{a=-a;let u=Math.round(t*a),l=Math.round(e*a);for(u/a<t&&++u,l/a>e&&--l,s=new Array(o=l-u+1);++i<o;)s[i]=(u+i)/a}return r&&s.reverse(),s}(r[0],r[r.length-1],null==n?10:n)},t.tickFormat=function(n,r){var i=e();return function(t,e,n,r){var o,i=function(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=Yp?i*=10:o>=Xp?i*=5:o>=Qp&&(i*=2),e<t?-i:i}(t,e,n);switch((r=nc(null==r?",f":r)).type){case"s":var s=Math.max(Math.abs(t),Math.abs(e));return null==r.precision&&!isNaN(o=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Wo(e)/3)))-Wo(Math.abs(t)))}(i,s))&&(r.precision=o),YD(r,s);case"":case"e":case"g":case"p":case"r":null==r.precision&&!isNaN(o=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Wo(e)-Wo(t))+1}(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-("e"===r.type));break;case"f":case"%":null==r.precision&&!isNaN(o=function(t){return Math.max(0,-Wo(Math.abs(t)))}(i))&&(r.precision=o-2*("%"===r.type))}return $r(r)}(i[0],i[i.length-1],null==n?10:n,r)},t.nice=function(n){null==n&&(n=10);var u,l,r=e(),i=0,o=r.length-1,s=r[i],a=r[o],c=10;for(a<s&&(l=s,s=a,a=l,l=i,i=o,o=l);c-- >0;){if((l=XD(s,a,n))===u)return r[i]=s,r[o]=a,e(r);if(l>0)s=Math.floor(s/l)*l,a=Math.ceil(a/l)*l;else{if(!(l<0))break;s=Math.ceil(s*l)/l,a=Math.floor(a*l)/l}u=l}return t},t}function ic(){var t=hU();return t.copy=function(){return fU(t,ic())},pU.apply(t,arguments),vU(t)}function nb(t){return"string"==typeof t?new Rt([[document.querySelector(t)]],[document.documentElement]):new Rt([[t]],Sp)}function Ko(t,e,n){this.k=t,this.x=e,this.y=n}Ko.prototype={constructor:Ko,scale:function(t){return 1===t?this:new Ko(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Ko(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new Ko(1,0,0);let ib=(()=>{class t{constructor(){this.width=400,this.height=200,this.margin=25,this.scales=[360,540,720],this.seasons=["winter","spring","summer"],this.winterScale=ic().domain([0,this.scales[0]]).range([0,199]),this.springScale=ic().domain([0,this.scales[1]]).range([0,199]),this.summerScale=ic().domain([0,this.scales[2]]).range([0,199])}ngAfterViewInit(){nb("#chart").append("svg").attr("class","bar-svg").attr("width",this.width).attr("height",this.height).append("rect").attr("class","bar-container").attr("width",this.width).attr("height",this.height).style("fill","white").style("opacity",.85)}updateValues(n){new Rt([document.querySelectorAll("g")],[document.documentElement]).remove();var r=nb(".bar-svg").selectAll("g").data(this.seasons).enter().append("g");r.append("text").attr("x",5).attr("y",(i,o)=>30+70*o).text(i=>"winter"===i?"Winter: ":"spring"===i?"Spring/Fall: ":"Summer: "),r.append("rect").attr("width",200).attr("height",this.height/3-this.margin).attr("x",70).attr("y",(i,o)=>10+65*o).style("fill","none").style("stroke-width",3).style("stroke","black"),r.append("rect").attr("width",i=>"winter"===i?this.winterScale(n[this.seasons[0]]):"spring"===i?this.springScale(n[this.seasons[1]]):this.summerScale(n[this.seasons[2]])).attr("height",this.height/3-(this.margin+1.5)).attr("x",70.5).attr("y",(i,o)=>11.5+65*o).style("fill",i=>"winter"===i?"rgb(66,113,143)":"spring"===i?"rgb(27,158,119)":"rgb(217,95,2)"),r.append("text").attr("x",275).attr("y",(i,o)=>30+70*o).text(i=>{if("winter"===i){let o=100*n[this.seasons[0]]/this.scales[0];return $r(".2f")(n[this.seasons[0]])+" min. ("+$r(".1f")(o)+"%)"}if("spring"===i){let o=100*n[this.seasons[1]]/this.scales[1];return $r(".2f")(n[this.seasons[1]])+" min. ("+$r(".1f")(o)+"%)"}if("summer"===i){let o=100*n[this.seasons[2]]/this.scales[2];return $r(".2f")(n[this.seasons[2]])+" min. ("+$r(".1f")(o)+"%)"}return 0})}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=ps({type:t,selectors:[["app-chart"]],decls:1,vars:0,consts:[["id","chart"]],template:function(n,r){1&n&&$u(0,"div",0)},styles:["#chart[_ngcontent-%COMP%]{position:absolute;right:2%}text[_ngcontent-%COMP%]{font-size:1em}"]}),t})();const ng_filesurl="https://github.com/nafiul-nipu/distribution-accumulated-shadows/tree/main/docs/assets/",oc=function(){function t(){this.disposed=!1}return t.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},t.prototype.disposeInternal=function(){},t}();function sc(t,e){return t>e?1:t<e?-1:0}function ac(t,e,n){var r=t.length;if(t[0]<=e)return 0;if(e<=t[r-1])return r-1;var i=void 0;if(n>0){for(i=1;i<r;++i)if(t[i]<e)return i-1}else if(n<0){for(i=1;i<r;++i)if(t[i]<=e)return i}else for(i=1;i<r;++i){if(t[i]==e)return i;if(t[i]<e)return t[i-1]-e<e-t[i]?i-1:i}return r-1}function ob(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Aa(){return!0}function uc(){return!1}function lc(){}function Ee(){return function(){throw new Error("Unimplemented abstract method.")}()}var OU=0;function Lt(t){return t.ol_uid||(t.ol_uid=String(++OU))}var PU=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const sb=function(t){function e(n){var r=this,o="Assertion failed. See https://openlayers.org/en/v"+"6.5.0".split("-")[0]+"/doc/errors/#"+n+" for details.";return(r=t.call(this,o)||this).code=n,r.name="AssertionError",r.message=o,r}return PU(e,t),e}(Error);function Ce(t,e){if(!t)throw new sb(e)}function ut(t,e){var n=e[0],r=e[1];return e[0]=t[0]*n+t[2]*r+t[4],e[1]=t[1]*n+t[3]*r+t[5],e}function zr(t,e,n,r,i,o,s,a){var u=Math.sin(o),l=Math.cos(o);return t[0]=r*l,t[1]=i*u,t[2]=-r*u,t[3]=i*l,t[4]=s*r*l-a*r*u+e,t[5]=s*i*u+a*i*l+n,t}function cc(t,e){var n=function(t){return t[0]*t[3]-t[1]*t[2]}(e);Ce(0!==n,32);var r=e[0],i=e[1],o=e[2],s=e[3],a=e[4],u=e[5];return t[0]=s/n,t[1]=-i/n,t[2]=-o/n,t[3]=r/n,t[4]=(o*u-s*a)/n,t[5]=-(r*u-i*a)/n,t}function sg(t){return"matrix("+t.join(", ")+")"}new Array(6);function ab(t){for(var e=[1/0,1/0,-1/0,-1/0],n=0,r=t.length;n<r;++n)Oa(e,t[n]);return e}function ub(t,e,n){var r,i;return(r=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*r+(i=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0)*i}function ag(t,e){return cb(t,e[0],e[1])}function lb(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function cb(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function fb(t,e){var s=e[0],a=e[1],u=0;return s<t[0]?u|=16:s>t[2]&&(u|=4),a<t[1]?u|=8:a>t[3]&&(u|=2),0===u&&(u=1),u}function Ni(t,e,n,r,i){return i?(i[0]=t,i[1]=e,i[2]=n,i[3]=r,i):[t,e,n,r]}function Zo(t){return Ni(1/0,1/0,-1/0,-1/0,t)}function Yo(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function Oa(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function hb(t,e,n,r,i){for(;n<r;n+=i)GU(t,e[n],e[n+1]);return t}function GU(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function pb(t,e){var n;return!!((n=e(Xo(t)))||(n=e(Pa(t)),n)||(n=e(Qo(t)),n)||(n=e(Kr(t)),n))&&n}function fc(t){var e=0;return hc(t)||(e=Be(t)*Vt(t)),e}function Xo(t){return[t[0],t[1]]}function Pa(t){return[t[2],t[1]]}function Wr(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function $U(t,e){var n;return"bottom-left"===e?n=Xo(t):"bottom-right"===e?n=Pa(t):"top-left"===e?n=Kr(t):"top-right"===e?n=Qo(t):Ce(!1,13),n}function gb(t,e,n,r,i){var o=e*r[0]/2,s=e*r[1]/2,a=Math.cos(n),u=Math.sin(n),l=o*a,c=o*u,f=s*a,d=s*u,h=t[0],p=t[1],_=h-l+d,g=h-l-d,m=h+l-d,y=h+l+d,v=p-c-f,E=p-c+f,w=p+c+f,M=p+c-f;return Ni(Math.min(_,g,m,y),Math.min(v,E,w,M),Math.max(_,g,m,y),Math.max(v,E,w,M),i)}function Vt(t){return t[3]-t[1]}function qr(t,e,n){var r=n||[1/0,1/0,-1/0,-1/0];return dc(t,e)?(r[0]=t[0]>e[0]?t[0]:e[0],r[1]=t[1]>e[1]?t[1]:e[1],r[2]=t[2]<e[2]?t[2]:e[2],r[3]=t[3]<e[3]?t[3]:e[3]):Zo(r),r}function Kr(t){return[t[0],t[3]]}function Qo(t){return[t[2],t[3]]}function Be(t){return t[2]-t[0]}function dc(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function hc(t){return t[2]<t[0]||t[3]<t[1]}function it(t,e,n){return Math.min(Math.max(t,e),n)}var ZU="cosh"in Math?Math.cosh:function(e){var n=Math.exp(e);return(n+1/n)/2},YU="log2"in Math?Math.log2:function(e){return Math.log(e)*Math.LOG2E};function XU(t,e,n,r,i,o){var s=i-n,a=o-r;if(0!==s||0!==a){var u=((t-n)*s+(e-r)*a)/(s*s+a*a);u>1?(n=i,r=o):u>0&&(n+=s*u,r+=a*u)}return Jo(t,e,n,r)}function Jo(t,e,n,r){var i=n-t,o=r-e;return i*i+o*o}function pc(t){return t*Math.PI/180}function es(t,e){var n=t%e;return n*e<0?n+e:n}function JU(t,e,n){return t+n*(e-t)}function Eb(t,e,n){var r=n?function(t){return"string"==typeof t?t:function(t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var n=t[1];n!=(0|n)&&(n=n+.5|0);var r=t[2];return r!=(0|r)&&(r=r+.5|0),"rgba("+e+","+n+","+r+","+(void 0===t[3]?1:t[3])+")"}(t)}(n):"null";return e+":"+t+":"+r}var Cb=new(function(){function t(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return t.prototype.clear=function(){this.cache_={},this.cacheSize_=0},t.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},t.prototype.expire=function(){if(this.canExpireCache()){var e=0;for(var n in this.cache_)0==(3&e++)&&!this.cache_[n].hasListener()&&(delete this.cache_[n],--this.cacheSize_)}},t.prototype.get=function(e,n,r){var i=Eb(e,n,r);return i in this.cache_?this.cache_[i]:null},t.prototype.set=function(e,n,r,i){var o=Eb(e,n,r);this.cache_[o]=i,++this.cacheSize_},t.prototype.setSize=function(e){this.maxCacheSize_=e,this.expire()},t}());const Cr=function(){function t(e){this.type=e,this.target=null}return t.prototype.preventDefault=function(){this.propagationStopped=!0},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t}();var ot="function"==typeof Object.assign?Object.assign:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),r=1,i=arguments.length;r<i;++r){var o=arguments[r];if(null!=o)for(var s in o)o.hasOwnProperty(s)&&(n[s]=o[s])}return n};function Na(t){for(var e in t)delete t[e]}var sG="function"==typeof Object.values?Object.values:function(t){var e=[];for(var n in t)e.push(t[n]);return e},uG=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Fa=function(t){function e(n){var r=t.call(this)||this;return r.eventTarget_=n,r.pendingRemovals_=null,r.dispatching_=null,r.listeners_=null,r}return uG(e,t),e.prototype.addEventListener=function(n,r){if(n&&r){var i=this.listeners_||(this.listeners_={}),o=i[n]||(i[n]=[]);-1===o.indexOf(r)&&o.push(r)}},e.prototype.dispatchEvent=function(n){var r="string"==typeof n?new Cr(n):n,i=r.type;r.target||(r.target=this.eventTarget_||this);var s,o=this.listeners_&&this.listeners_[i];if(o){var a=this.dispatching_||(this.dispatching_={}),u=this.pendingRemovals_||(this.pendingRemovals_={});i in a||(a[i]=0,u[i]=0),++a[i];for(var l=0,c=o.length;l<c;++l)if(!1===(s="handleEvent"in o[l]?o[l].handleEvent(r):o[l].call(this,r))||r.propagationStopped){s=!1;break}if(--a[i],0===a[i]){var f=u[i];for(delete u[i];f--;)this.removeEventListener(i,lc);delete a[i]}return s}},e.prototype.disposeInternal=function(){this.listeners_&&Na(this.listeners_)},e.prototype.getListeners=function(n){return this.listeners_&&this.listeners_[n]||void 0},e.prototype.hasListener=function(n){return!!this.listeners_&&(n?n in this.listeners_:Object.keys(this.listeners_).length>0)},e.prototype.removeEventListener=function(n,r){var i=this.listeners_&&this.listeners_[n];if(i){var o=i.indexOf(r);-1!==o&&(this.pendingRemovals_&&n in this.pendingRemovals_?(i[o]=lc,++this.pendingRemovals_[n]):(i.splice(o,1),0===i.length&&delete this.listeners_[n]))}},e}(oc);function we(t,e,n,r,i){if(r&&r!==t&&(n=n.bind(r)),i){var o=n;n=function(){t.removeEventListener(e,n),o.apply(this,arguments)}}var s={target:t,type:e,listener:n};return t.addEventListener(e,n),s}function gc(t,e,n,r){return we(t,e,n,r,!0)}function He(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),Na(t))}var cG=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const wb=function(t){function e(){var n=t.call(this)||this;return n.revision_=0,n}return cG(e,t),e.prototype.changed=function(){++this.revision_,this.dispatchEvent("change")},e.prototype.getRevision=function(){return this.revision_},e.prototype.on=function(n,r){if(Array.isArray(n)){for(var i=n.length,o=new Array(i),s=0;s<i;++s)o[s]=we(this,n[s],r);return o}return we(this,n,r)},e.prototype.once=function(n,r){var i;if(Array.isArray(n)){var o=n.length;i=new Array(o);for(var s=0;s<o;++s)i[s]=gc(this,n[s],r)}else i=gc(this,n,r);return r.ol_key=i,i},e.prototype.un=function(n,r){var i=r.ol_key;if(i)!function(t){if(Array.isArray(t))for(var e=0,n=t.length;e<n;++e)He(t[e]);else He(t)}(i);else if(Array.isArray(n))for(var o=0,s=n.length;o<s;++o)this.removeEventListener(n[o],r);else this.removeEventListener(n,r)},e}(Fa);var Db=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bb=function(t){function e(n,r,i){var o=t.call(this,n)||this;return o.key=r,o.oldValue=i,o}return Db(e,t),e}(Cr),hG=function(t){function e(n){var r=t.call(this)||this;return Lt(r),r.values_=null,void 0!==n&&r.setProperties(n),r}return Db(e,t),e.prototype.get=function(n){var r;return this.values_&&this.values_.hasOwnProperty(n)&&(r=this.values_[n]),r},e.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},e.prototype.getProperties=function(){return this.values_&&ot({},this.values_)||{}},e.prototype.hasProperties=function(){return!!this.values_},e.prototype.notify=function(n,r){var i;i=Fi(n),this.dispatchEvent(new bb(i,n,r)),this.dispatchEvent(new bb(i="propertychange",n,r))},e.prototype.set=function(n,r,i){var o=this.values_||(this.values_={});if(i)o[n]=r;else{var s=o[n];o[n]=r,s!==r&&this.notify(n,s)}},e.prototype.setProperties=function(n,r){for(var i in n)this.set(i,n[i],r)},e.prototype.applyProperties=function(n){!n.values_||ot(this.values_||(this.values_={}),n.values_)},e.prototype.unset=function(n,r){if(this.values_&&n in this.values_){var i=this.values_[n];delete this.values_[n],function(t){var e;for(e in t)return!1;return!e}(this.values_)&&(this.values_=null),r||this.notify(n,i)}},e}(wb),ug={};function Fi(t){return ug.hasOwnProperty(t)?ug[t]:ug[t]="change:"+t}const wr=hG;var pG=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Ib=function(t){function e(n){var r=t.call(this)||this,i=ot({},n);return i.opacity=void 0!==n.opacity?n.opacity:1,Ce("number"==typeof i.opacity,64),i.visible=void 0===n.visible||n.visible,i.zIndex=n.zIndex,i.maxResolution=void 0!==n.maxResolution?n.maxResolution:1/0,i.minResolution=void 0!==n.minResolution?n.minResolution:0,i.minZoom=void 0!==n.minZoom?n.minZoom:-1/0,i.maxZoom=void 0!==n.maxZoom?n.maxZoom:1/0,r.className_=void 0!==i.className?n.className:"ol-layer",delete i.className,r.setProperties(i),r.state_=null,r}return pG(e,t),e.prototype.getClassName=function(){return this.className_},e.prototype.getLayerState=function(n){var r=this.state_||{layer:this,managed:void 0===n||n},i=this.getZIndex();return r.opacity=it(Math.round(100*this.getOpacity())/100,0,1),r.sourceState=this.getSourceState(),r.visible=this.getVisible(),r.extent=this.getExtent(),r.zIndex=void 0!==i?i:!1===r.managed?1/0:0,r.maxResolution=this.getMaxResolution(),r.minResolution=Math.max(this.getMinResolution(),0),r.minZoom=this.getMinZoom(),r.maxZoom=this.getMaxZoom(),this.state_=r,r},e.prototype.getLayersArray=function(n){return Ee()},e.prototype.getLayerStatesArray=function(n){return Ee()},e.prototype.getExtent=function(){return this.get("extent")},e.prototype.getMaxResolution=function(){return this.get("maxResolution")},e.prototype.getMinResolution=function(){return this.get("minResolution")},e.prototype.getMinZoom=function(){return this.get("minZoom")},e.prototype.getMaxZoom=function(){return this.get("maxZoom")},e.prototype.getOpacity=function(){return this.get("opacity")},e.prototype.getSourceState=function(){return Ee()},e.prototype.getVisible=function(){return this.get("visible")},e.prototype.getZIndex=function(){return this.get("zIndex")},e.prototype.setExtent=function(n){this.set("extent",n)},e.prototype.setMaxResolution=function(n){this.set("maxResolution",n)},e.prototype.setMinResolution=function(n){this.set("minResolution",n)},e.prototype.setMaxZoom=function(n){this.set("maxZoom",n)},e.prototype.setMinZoom=function(n){this.set("minZoom",n)},e.prototype.setOpacity=function(n){Ce("number"==typeof n,64),this.set("opacity",n)},e.prototype.setVisible=function(n){this.set("visible",n)},e.prototype.setZIndex=function(n){this.set("zIndex",n)},e.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),t.prototype.disposeInternal.call(this)},e}(wr);var _G=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function _c(t,e){if(!t.visible)return!1;var n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;var r=e.zoom;return r>t.minZoom&&r<=t.maxZoom}const Tb=function(t){function e(n){var r=this,i=ot({},n);return delete i.source,(r=t.call(this,i)||this).mapPrecomposeKey_=null,r.mapRenderKey_=null,r.sourceChangeKey_=null,r.renderer_=null,n.render&&(r.render=n.render),n.map&&r.setMap(n.map),r.addEventListener(Fi("source"),r.handleSourcePropertyChange_),r.setSource(n.source?n.source:null),r}return _G(e,t),e.prototype.getLayersArray=function(n){var r=n||[];return r.push(this),r},e.prototype.getLayerStatesArray=function(n){var r=n||[];return r.push(this.getLayerState()),r},e.prototype.getSource=function(){return this.get("source")||null},e.prototype.getSourceState=function(){var n=this.getSource();return n?n.getState():"undefined"},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(He(this.sourceChangeKey_),this.sourceChangeKey_=null);var n=this.getSource();n&&(this.sourceChangeKey_=we(n,"change",this.handleSourceChange_,this)),this.changed()},e.prototype.getFeatures=function(n){return this.renderer_.getFeatures(n)},e.prototype.render=function(n,r){var i=this.getRenderer();if(i.prepareFrame(n))return i.renderFrame(n,r)},e.prototype.setMap=function(n){this.mapPrecomposeKey_&&(He(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),n||this.changed(),this.mapRenderKey_&&(He(this.mapRenderKey_),this.mapRenderKey_=null),n&&(this.mapPrecomposeKey_=we(n,"precompose",function(r){var o=r.frameState.layerStatesArray,s=this.getLayerState(!1);Ce(!o.some(function(a){return a.layer===s.layer}),67),o.push(s)},this),this.mapRenderKey_=we(this,"change",n.render,n),this.changed())},e.prototype.setSource=function(n){this.set("source",n)},e.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},e.prototype.hasRenderer=function(){return!!this.renderer_},e.prototype.createRenderer=function(){return null},e.prototype.disposeInternal=function(){this.setSource(null),t.prototype.disposeInternal.call(this)},e}(Ib);function lg(t,e){for(var n=!0,r=t.length-1;r>=0;--r)if(t[r]!=e[r]){n=!1;break}return n}function cg(t,e){var n=Math.cos(e),r=Math.sin(e),o=t[1]*n+t[0]*r;return t[0]=t[0]*n-t[1]*r,t[1]=o,t}var IG=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function MG(t,e){Cb.expire()}const xG=function(t){function e(n){var r=t.call(this)||this;return r.map_=n,r}return IG(e,t),e.prototype.dispatchRenderEvent=function(n,r){Ee()},e.prototype.calculateMatrices2D=function(n){var r=n.viewState,i=n.coordinateToPixelTransform,o=n.pixelToCoordinateTransform;zr(i,n.size[0]/2,n.size[1]/2,1/r.resolution,-1/r.resolution,-r.rotation,-r.center[0],-r.center[1]),cc(o,i)},e.prototype.forEachFeatureAtCoordinate=function(n,r,i,o,s,a,u,l){var c,f=r.viewState;function d(b,D,T,F){return s.call(a,D,b?T:null,F)}var h=f.projection,p=function(t,e){if(e.canWrapX()){var n=Be(e.getExtent()),r=function(t,e,n){var r=e.getExtent(),i=0;if(e.canWrapX()&&(t[0]<r[0]||t[0]>r[2])){var o=n||Be(r);i=Math.floor((t[0]-r[0])/o)}return i}(t,e,n);r&&(t[0]-=r*n)}return t}(n.slice(),h),_=[[0,0]];if(h.canWrapX()&&o){var m=Be(h.getExtent());_.push([-m,0],[m,0])}for(var y=r.layerStatesArray,v=y.length,E=[],w=[],M=0;M<_.length;M++)for(var P=v-1;P>=0;--P){var N=y[P],j=N.layer;if(j.hasRenderer()&&_c(N,f)&&u.call(l,j)){var V=j.getRenderer(),x=j.getSource();if(V&&x){var te=x.getWrapX()?p:n,B=d.bind(null,N.managed);w[0]=te[0]+_[M][0],w[1]=te[1]+_[M][1],c=V.forEachFeatureAtCoordinate(w,r,i,B,E)}if(c)return c}}if(0!==E.length){var C=1/E.length;return E.forEach(function(b,D){return b.distanceSq+=D*C}),E.sort(function(b,D){return b.distanceSq-D.distanceSq}),E.some(function(b){return c=b.callback(b.feature,b.layer,b.geometry)}),c}},e.prototype.forEachLayerAtPixel=function(n,r,i,o,s){return Ee()},e.prototype.hasFeatureAtCoordinate=function(n,r,i,o,s,a){return void 0!==this.forEachFeatureAtCoordinate(n,r,i,o,Aa,this,s,a)},e.prototype.getMap=function(){return this.map_},e.prototype.renderFrame=function(n){Ee()},e.prototype.scheduleExpireIconCache=function(n){Cb.canExpireCache()&&n.postRenderFunctions.push(MG)},e}(oc);var AG=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Ab=function(t){function e(n,r,i,o){var s=t.call(this,n)||this;return s.inversePixelTransform=r,s.frameState=i,s.context=o,s}return AG(e,t),e}(Cr);var mc="ol-hidden",yc="ol-unselectable",fg="ol-control",Rb="ol-collapsed",ns=(new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),"undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():""),OG=-1!==ns.indexOf("firefox"),PG=(-1!==ns.indexOf("safari")&&ns.indexOf("chrom"),-1!==ns.indexOf("webkit")&&-1==ns.indexOf("edge")),NG=-1!==ns.indexOf("macintosh"),vc="undefined"!=typeof devicePixelRatio?devicePixelRatio:1,dg="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,Pb="undefined"!=typeof Image&&Image.prototype.decode,Nb=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch(n){}return t}();function Dr(t,e,n){var r=n&&n.length?n.shift():dg?new OffscreenCanvas(t||300,e||300):document.createElement("canvas");return t&&(r.width=t),e&&(r.height=e),r.getContext("2d")}function Fb(t,e){var n=e.parentNode;n&&n.replaceChild(t,e)}function hg(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}var br=new wr;(new Fa).setSize=function(){console.warn("labelCache is deprecated.")};function Vb(t,e,n,r){0!==e&&(t.translate(n,r),t.rotate(e),t.translate(-n,-r))}var Cc=null;function kb(t){return dg?sg(t):(Cc||(Cc=Dr(1,1).canvas),Cc.style.transform=sg(t),Cc.style.transform)}var jG=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const HG=function(t){function e(n){var r=t.call(this,n)||this;r.fontChangeListenerKey_=we(br,"propertychange",n.redrawText.bind(n)),r.element_=document.createElement("div");var i=r.element_.style;i.position="absolute",i.width="100%",i.height="100%",i.zIndex="0",r.element_.className=yc+" ol-layers";var o=n.getViewport();return o.insertBefore(r.element_,o.firstChild||null),r.children_=[],r.renderedVisible_=!0,r}return jG(e,t),e.prototype.dispatchRenderEvent=function(n,r){var i=this.getMap();if(i.hasListener(n)){var o=new Ab(n,void 0,r);i.dispatchEvent(o)}},e.prototype.disposeInternal=function(){He(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),t.prototype.disposeInternal.call(this)},e.prototype.renderFrame=function(n){if(n){this.calculateMatrices2D(n),this.dispatchRenderEvent("precompose",n);var r=n.layerStatesArray.sort(function(d,h){return d.zIndex-h.zIndex}),i=n.viewState;this.children_.length=0;for(var o=[],s=null,a=0,u=r.length;a<u;++a){var l=r[a];if(n.layerIndex=a,_c(l,i)&&("ready"==l.sourceState||"undefined"==l.sourceState)){var c=l.layer,f=c.render(n,s);!f||(f!==s&&(this.children_.push(f),s=f),"getDeclutter"in c&&o.push(c))}}for(a=o.length-1;a>=0;--a)o[a].renderDeclutter(n);(function(t,e){for(var n=t.childNodes,r=0;;++r){var i=n[r],o=e[r];if(!i&&!o)break;if(i!==o){if(!i){t.appendChild(o);continue}if(!o){t.removeChild(i),--r;continue}t.insertBefore(o,i)}}})(this.element_,this.children_),this.dispatchRenderEvent("postcompose",n),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(n)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)},e.prototype.forEachLayerAtPixel=function(n,r,i,o,s){for(var a=r.viewState,u=r.layerStatesArray,c=u.length-1;c>=0;--c){var f=u[c],d=f.layer;if(d.hasRenderer()&&_c(f,a)&&s(d)){var p=d.getRenderer().getDataAtPixel(n,r,i);if(p){var _=o(d,p);if(_)return _}}}},e}(xG);var jb=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wc=function(t){function e(n,r,i){var o=t.call(this,n)||this;return o.element=r,o.index=i,o}return jb(e,t),e}(Cr);const er=function(t){function e(n,r){var i=t.call(this)||this;if(i.unique_=!!(r||{}).unique,i.array_=n||[],i.unique_)for(var s=0,a=i.array_.length;s<a;++s)i.assertUnique_(i.array_[s],s);return i.updateLength_(),i}return jb(e,t),e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(n){for(var r=0,i=n.length;r<i;++r)this.push(n[r]);return this},e.prototype.forEach=function(n){for(var r=this.array_,i=0,o=r.length;i<o;++i)n(r[i],i,r)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(n){return this.array_[n]},e.prototype.getLength=function(){return this.get("length")},e.prototype.insertAt=function(n,r){this.unique_&&this.assertUnique_(r),this.array_.splice(n,0,r),this.updateLength_(),this.dispatchEvent(new wc("add",r,n))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(n){this.unique_&&this.assertUnique_(n);var r=this.getLength();return this.insertAt(r,n),this.getLength()},e.prototype.remove=function(n){for(var r=this.array_,i=0,o=r.length;i<o;++i)if(r[i]===n)return this.removeAt(i)},e.prototype.removeAt=function(n){var r=this.array_[n];return this.array_.splice(n,1),this.updateLength_(),this.dispatchEvent(new wc("remove",r,n)),r},e.prototype.setAt=function(n,r){var i=this.getLength();if(n<i){this.unique_&&this.assertUnique_(r,n);var o=this.array_[n];this.array_[n]=r,this.dispatchEvent(new wc("remove",o,n)),this.dispatchEvent(new wc("add",r,n))}else{for(var s=i;s<n;++s)this.insertAt(s,void 0);this.insertAt(n,r)}},e.prototype.updateLength_=function(){this.set("length",this.array_.length)},e.prototype.assertUnique_=function(n,r){for(var i=0,o=this.array_.length;i<o;++i)if(this.array_[i]===n&&i!==r)throw new sb(58)},e}(wr);var GG=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const zG=function(t){function e(n){var r=this,i=n||{},o=ot({},i);delete o.layers;var s=i.layers;return(r=t.call(this,o)||this).layersListenerKeys_=[],r.listenerKeys_={},r.addEventListener(Fi("layers"),r.handleLayersChanged_),s?Array.isArray(s)?s=new er(s.slice(),{unique:!0}):Ce("function"==typeof s.getArray,43):s=new er(void 0,{unique:!0}),r.setLayers(s),r}return GG(e,t),e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(He),this.layersListenerKeys_.length=0;var n=this.getLayers();for(var r in this.layersListenerKeys_.push(we(n,"add",this.handleLayersAdd_,this),we(n,"remove",this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[r].forEach(He);Na(this.listenerKeys_);for(var i=n.getArray(),o=0,s=i.length;o<s;o++){var a=i[o];this.listenerKeys_[Lt(a)]=[we(a,"propertychange",this.handleLayerChange_,this),we(a,"change",this.handleLayerChange_,this)]}this.changed()},e.prototype.handleLayersAdd_=function(n){var r=n.element;this.listenerKeys_[Lt(r)]=[we(r,"propertychange",this.handleLayerChange_,this),we(r,"change",this.handleLayerChange_,this)],this.changed()},e.prototype.handleLayersRemove_=function(n){var i=Lt(n.element);this.listenerKeys_[i].forEach(He),delete this.listenerKeys_[i],this.changed()},e.prototype.getLayers=function(){return this.get("layers")},e.prototype.setLayers=function(n){this.set("layers",n)},e.prototype.getLayersArray=function(n){var r=void 0!==n?n:[];return this.getLayers().forEach(function(i){i.getLayersArray(r)}),r},e.prototype.getLayerStatesArray=function(n){var r=void 0!==n?n:[],i=r.length;this.getLayers().forEach(function(l){l.getLayerStatesArray(r)});for(var o=this.getLayerState(),s=i,a=r.length;s<a;s++){var u=r[s];u.opacity*=o.opacity,u.visible=u.visible&&o.visible,u.maxResolution=Math.min(u.maxResolution,o.maxResolution),u.minResolution=Math.max(u.minResolution,o.minResolution),u.minZoom=Math.max(u.minZoom,o.minZoom),u.maxZoom=Math.min(u.maxZoom,o.maxZoom),void 0!==o.extent&&(u.extent=void 0!==u.extent?qr(u.extent,o.extent):o.extent)}return r},e.prototype.getSourceState=function(){return"ready"},e}(Ib);var WG=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Dc=function(t){function e(n,r,i){var o=t.call(this,n)||this;return o.map=r,o.frameState=void 0!==i?i:null,o}return WG(e,t),e}(Cr);var KG=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Zr=function(t){function e(n,r,i,o,s){var a=t.call(this,n,r,s)||this;return a.originalEvent=i,a.pixel_=null,a.coordinate_=null,a.dragging=void 0!==o&&o,a}return KG(e,t),Object.defineProperty(e.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(n){this.pixel_=n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(n){this.coordinate_=n},enumerable:!1,configurable:!0}),e.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},e}(Dc),Se={SINGLECLICK:"singleclick",CLICK:"click",DBLCLICK:"dblclick",POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};var YG=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const QG=function(t){function e(n,r){var i=t.call(this,n)||this;i.map_=n,i.emulateClicks_=!1,i.dragging_=!1,i.dragListenerKeys_=[],i.moveTolerance_=r?r*vc:vc,i.down_=null;var o=i.map_.getViewport();return i.activePointers_=0,i.trackedTouches_={},i.element_=o,i.pointerdownListenerKey_=we(o,"pointerdown",i.handlePointerDown_,i),i.relayedListenerKey_=we(o,"pointermove",i.relayEvent_,i),i.boundHandleTouchMove_=i.handleTouchMove_.bind(i),i.element_.addEventListener("touchmove",i.boundHandleTouchMove_,!!Nb&&{passive:!1}),i}return YG(e,t),e.prototype.emulateClick_=function(n){var r=new Zr(Se.CLICK,this.map_,n);this.dispatchEvent(r),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,r=new Zr(Se.DBLCLICK,this.map_,n),this.dispatchEvent(r)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var i=new Zr(Se.SINGLECLICK,this.map_,n);this.dispatchEvent(i)}.bind(this),250)},e.prototype.updateActivePointers_=function(n){var r=n;r.type==Se.POINTERUP||r.type==Se.POINTERCANCEL?delete this.trackedTouches_[r.pointerId]:r.type==Se.POINTERDOWN&&(this.trackedTouches_[r.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},e.prototype.handlePointerUp_=function(n){this.updateActivePointers_(n);var r=new Zr(Se.POINTERUP,this.map_,n);this.dispatchEvent(r),this.emulateClicks_&&!r.propagationStopped&&!this.dragging_&&this.isMouseActionButton_(n)&&this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(He),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},e.prototype.isMouseActionButton_=function(n){return 0===n.button},e.prototype.handlePointerDown_=function(n){this.emulateClicks_=0===this.activePointers_,this.updateActivePointers_(n);var r=new Zr(Se.POINTERDOWN,this.map_,n);if(this.dispatchEvent(r),this.down_=n,0===this.dragListenerKeys_.length){var i=this.map_.getOwnerDocument();this.dragListenerKeys_.push(we(i,Se.POINTERMOVE,this.handlePointerMove_,this),we(i,Se.POINTERUP,this.handlePointerUp_,this),we(this.element_,Se.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==i&&this.dragListenerKeys_.push(we(this.element_.getRootNode(),Se.POINTERUP,this.handlePointerUp_,this))}},e.prototype.handlePointerMove_=function(n){if(this.isMoving_(n)){this.dragging_=!0;var r=new Zr(Se.POINTERDRAG,this.map_,n,this.dragging_);this.dispatchEvent(r)}},e.prototype.relayEvent_=function(n){this.originalPointerMoveEvent_=n;var r=!(!this.down_||!this.isMoving_(n));this.dispatchEvent(new Zr(n.type,this.map_,n,r))},e.prototype.handleTouchMove_=function(n){(!this.originalPointerMoveEvent_||this.originalPointerMoveEvent_.defaultPrevented)&&n.preventDefault()},e.prototype.isMoving_=function(n){return this.dragging_||Math.abs(n.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(n.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&(He(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener("touchmove",this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(He(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(He),this.dragListenerKeys_.length=0,this.element_=null,t.prototype.disposeInternal.call(this)},e}(Fa);var Ic=1/0;const e8=function(){function t(e,n){this.priorityFunction_=e,this.keyFunction_=n,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return t.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,Na(this.queuedElements_)},t.prototype.dequeue=function(){var e=this.elements_,n=this.priorities_,r=e[0];1==e.length?(e.length=0,n.length=0):(e[0]=e.pop(),n[0]=n.pop(),this.siftUp_(0));var i=this.keyFunction_(r);return delete this.queuedElements_[i],r},t.prototype.enqueue=function(e){Ce(!(this.keyFunction_(e)in this.queuedElements_),31);var n=this.priorityFunction_(e);return n!=Ic&&(this.elements_.push(e),this.priorities_.push(n),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},t.prototype.getCount=function(){return this.elements_.length},t.prototype.getLeftChildIndex_=function(e){return 2*e+1},t.prototype.getRightChildIndex_=function(e){return 2*e+2},t.prototype.getParentIndex_=function(e){return e-1>>1},t.prototype.heapify_=function(){var e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)},t.prototype.isEmpty=function(){return 0===this.elements_.length},t.prototype.isKeyQueued=function(e){return e in this.queuedElements_},t.prototype.isQueued=function(e){return this.isKeyQueued(this.keyFunction_(e))},t.prototype.siftUp_=function(e){for(var n=this.elements_,r=this.priorities_,i=n.length,o=n[e],s=r[e],a=e;e<i>>1;){var u=this.getLeftChildIndex_(e),l=this.getRightChildIndex_(e),c=l<i&&r[l]<r[u]?l:u;n[e]=n[c],r[e]=r[c],e=c}n[e]=o,r[e]=s,this.siftDown_(a,e)},t.prototype.siftDown_=function(e,n){for(var r=this.elements_,i=this.priorities_,o=r[n],s=i[n];n>e;){var a=this.getParentIndex_(n);if(!(i[a]>s))break;r[n]=r[a],i[n]=i[a],n=a}r[n]=o,i[n]=s},t.prototype.reprioritize=function(){var s,a,u,e=this.priorityFunction_,n=this.elements_,r=this.priorities_,i=0,o=n.length;for(a=0;a<o;++a)(u=e(s=n[a]))==Ic?delete this.queuedElements_[this.keyFunction_(s)]:(r[i]=u,n[i++]=s);n.length=i,r.length=i,this.heapify_()},t}();var t8=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Hb=function(t){function e(n,r){var i=t.call(this,function(o){return n.apply(null,o)},function(o){return o[0].getKey()})||this;return i.boundHandleTileChange_=i.handleTileChange.bind(i),i.tileChangeCallback_=r,i.tilesLoading_=0,i.tilesLoadingKeys_={},i}return t8(e,t),e.prototype.enqueue=function(n){var r=t.prototype.enqueue.call(this,n);return r&&n[0].addEventListener("change",this.boundHandleTileChange_),r},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(n){var r=n.target,i=r.getState();if(r.hifi&&2===i||3===i||4===i){r.removeEventListener("change",this.boundHandleTileChange_);var o=r.getKey();o in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[o],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(n,r){for(var s,a,i=0;this.tilesLoading_<n&&i<r&&this.getCount()>0;)a=(s=this.dequeue()[0]).getKey(),0===s.getState()&&!(a in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[a]=!0,++this.tilesLoading_,++i,s.load())},e}(e8);var La={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},Ir={};Ir[La.DEGREES]=2*Math.PI*6370997/360,Ir[La.FEET]=.3048,Ir[La.METERS]=1,Ir[La.USFEET]=1200/3937;const Yr=La,Ub=function(){function t(e){this.code_=e.code,this.units_=e.units,this.extent_=void 0!==e.extent?e.extent:null,this.worldExtent_=void 0!==e.worldExtent?e.worldExtent:null,this.axisOrientation_=void 0!==e.axisOrientation?e.axisOrientation:"enu",this.global_=void 0!==e.global&&e.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}return t.prototype.canWrapX=function(){return this.canWrapX_},t.prototype.getCode=function(){return this.code_},t.prototype.getExtent=function(){return this.extent_},t.prototype.getUnits=function(){return this.units_},t.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||Ir[this.units_]},t.prototype.getWorldExtent=function(){return this.worldExtent_},t.prototype.getAxisOrientation=function(){return this.axisOrientation_},t.prototype.isGlobal=function(){return this.global_},t.prototype.setGlobal=function(e){this.global_=e,this.canWrapX_=!(!e||!this.extent_)},t.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},t.prototype.setDefaultTileGrid=function(e){this.defaultTileGrid_=e},t.prototype.setExtent=function(e){this.extent_=e,this.canWrapX_=!(!this.global_||!e)},t.prototype.setWorldExtent=function(e){this.worldExtent_=e},t.prototype.setGetPointResolution=function(e){this.getPointResolutionFunc_=e},t.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},t}();var s8=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Va=6378137,is=Math.PI*Va,a8=[-is,-is,is,is],u8=[-180,-85,180,85],Mc=Va*Math.log(Math.tan(Math.PI/2)),ka=function(t){function e(n){return t.call(this,{code:n,units:Yr.METERS,extent:a8,global:!0,worldExtent:u8,getPointResolution:function(r,i){return r/ZU(i[1]/Va)}})||this}return s8(e,t),e}(Ub),Gb=[new ka("EPSG:3857"),new ka("EPSG:102100"),new ka("EPSG:102113"),new ka("EPSG:900913"),new ka("http://www.opengis.net/gml/srs/epsg.xml#3857")];var f8=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$b=[-180,-90,180,90],h8=6378137*Math.PI/180,ja=function(t){function e(n,r){return t.call(this,{code:n,units:Yr.DEGREES,extent:$b,axisOrientation:r,global:!0,metersPerUnit:h8,worldExtent:$b})||this}return f8(e,t),e}(Ub),zb=[new ja("CRS:84"),new ja("EPSG:4326","neu"),new ja("urn:ogc:def:crs:OGC:1.3:CRS84"),new ja("urn:ogc:def:crs:OGC:2:84"),new ja("http://www.opengis.net/gml/srs/epsg.xml#4326","neu")],xc={},Nn={};function Ac(t,e,n){var r=t.getCode(),i=e.getCode();r in Nn||(Nn[r]={}),Nn[r][i]=n}function vg(t,e,n){var r=n||6371008.8,i=pc(t[1]),o=pc(e[1]),s=(o-i)/2,a=pc(e[0]-t[0])/2,u=Math.sin(s)*Math.sin(s)+Math.sin(a)*Math.sin(a)*Math.cos(i)*Math.cos(o);return 2*r*Math.atan2(Math.sqrt(u),Math.sqrt(1-u))}function Cg(t,e,n){var r;if(void 0!==e){for(var i=0,o=t.length;i<o;++i)e[i]=t[i];r=e}else r=t.slice();return r}function Wb(t,e,n){if(void 0!==e&&t!==e){for(var r=0,i=t.length;r<i;++r)e[r]=t[r];t=e}return t}function v8(t){(function(t,e){xc[t]=e})(t.getCode(),t),Ac(t,t,Cg)}function jt(t){return"string"==typeof t?function(t){return xc[t]||xc[t.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}(t):t||null}function qb(t,e,n,r){var i,o=(t=jt(t)).getPointResolutionFunc();if(o)i=o(e,n),r&&r!==t.getUnits()&&(s=t.getMetersPerUnit())&&(i=i*s/Ir[r]);else{var a=t.getUnits();if(a==Yr.DEGREES&&!r||r==Yr.DEGREES)i=e;else{var s,u=Oc(t,jt("EPSG:4326"));if(u===Wb&&a!==Yr.DEGREES)i=e*t.getMetersPerUnit();else{var l=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];i=(vg((l=u(l,l,2)).slice(0,2),l.slice(2,4))+vg(l.slice(4,6),l.slice(6,8)))/2}void 0!==(s=r?Ir[r]:t.getMetersPerUnit())&&(i/=s)}}return i}function Kb(t){(function(t){t.forEach(v8)})(t),t.forEach(function(e){t.forEach(function(n){e!==n&&Ac(e,n,Cg)})})}function wg(t,e){return t?"string"==typeof t?jt(t):t:jt(e)}function Xr(t,e){if(t===e)return!0;var n=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||Oc(t,e)===Cg)&&n}function Oc(t,e){var i=function(t,e){var n;return t in Nn&&e in Nn[t]&&(n=Nn[t][e]),n}(t.getCode(),e.getCode());return i||(i=Wb),i}function Ba(t,e){return Oc(jt(t),jt(e))}function os(t,e,n){return Ba(e,n)(t,void 0,t.length)}function Dg(t,e){return t}function Tr(t,e){return t}function Qr(t,e){return t}function Xb(t,e,n){return function(r,i,o,s,a){if(r){var u=e?0:o[0]*i,l=e?0:o[1]*i,c=a?a[0]:0,f=a?a[1]:0,d=t[0]+u/2+c,h=t[2]-u/2+c,p=t[1]+l/2+f,_=t[3]-l/2+f;d>h&&(h=d=(h+d)/2),p>_&&(_=p=(_+p)/2);var g=it(r[0],d,h),m=it(r[1],p,_),y=30*i;return s&&n&&(g+=-y*Math.log(1+Math.max(0,d-r[0])/y)+y*Math.log(1+Math.max(0,r[0]-h)/y),m+=-y*Math.log(1+Math.max(0,p-r[1])/y)+y*Math.log(1+Math.max(0,r[1]-_)/y)),[g,m]}}}function T8(t){return t}function bg(t,e,n,r){var i=Be(e)/n[0],o=Vt(e)/n[1];return r?Math.min(t,Math.max(i,o)):Math.min(t,Math.min(i,o))}function Ig(t,e,n){var r=Math.min(t,e);return r*=Math.log(1+50*Math.max(0,t/e-1))/50+1,n&&(r=Math.max(r,n),r/=Math.log(1+50*Math.max(0,n/t-1))/50+1),it(r,n/2,2*e)}function Qb(t,e,n,r,i){return function(o,s,a,u){if(void 0!==o){var l=r?bg(t,r,a,i):t;return(void 0===n||n)&&u?Ig(o,l,e):it(o,e,l)}}}function Tg(t){if(void 0!==t)return 0}function Jb(t){if(void 0!==t)return t}function eI(t){return Math.pow(t,3)}function ss(t){return 1-eI(1-t)}function Mg(t){return 3*t*t-2*t*t*t}function S8(t){return t}Kb(Gb),Kb(zb),function(t,e,n,r){t.forEach(function(i){e.forEach(function(o){Ac(i,o,n),Ac(o,i,r)})})}(zb,Gb,function(t,e,n){var r=t.length,i=n>1?n:2,o=e;void 0===o&&(o=i>2?t.slice():new Array(r));for(var s=0;s<r;s+=i){o[s]=is*t[s]/180;var a=Va*Math.log(Math.tan(Math.PI*(+t[s+1]+90)/360));a>Mc?a=Mc:a<-Mc&&(a=-Mc),o[s+1]=a}return o},function(t,e,n){var r=t.length,i=n>1?n:2,o=e;void 0===o&&(o=i>2?t.slice():new Array(r));for(var s=0;s<r;s+=i)o[s]=180*t[s]/is,o[s+1]=360*Math.atan(Math.exp(t[s+1]/Va))/Math.PI-90;return o});var L8=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),tI=[1,0,0,1,0,0];const k8=function(t){function e(){var n=t.call(this)||this;return n.extent_=[1/0,1/0,-1/0,-1/0],n.extentRevision_=-1,n.simplifiedGeometryMaxMinSquaredTolerance=0,n.simplifiedGeometryRevision=0,n.simplifyTransformedInternal=function(t){var n,r,i,e=!1;return function(){var o=Array.prototype.slice.call(arguments);return(!e||this!==i||!ob(o,r))&&(e=!0,i=this,r=o,n=t.apply(this,arguments)),n}}(function(r,i,o){if(!o)return this.getSimplifiedGeometry(i);var s=this.clone();return s.applyTransform(o),s.getSimplifiedGeometry(i)}),n}return L8(e,t),e.prototype.simplifyTransformed=function(n,r){return this.simplifyTransformedInternal(this.getRevision(),n,r)},e.prototype.clone=function(){return Ee()},e.prototype.closestPointXY=function(n,r,i,o){return Ee()},e.prototype.containsXY=function(n,r){var i=this.getClosestPoint([n,r]);return i[0]===n&&i[1]===r},e.prototype.getClosestPoint=function(n,r){var i=r||[NaN,NaN];return this.closestPointXY(n[0],n[1],i,1/0),i},e.prototype.intersectsCoordinate=function(n){return this.containsXY(n[0],n[1])},e.prototype.computeExtent=function(n){return Ee()},e.prototype.getExtent=function(n){if(this.extentRevision_!=this.getRevision()){var r=this.computeExtent(this.extent_);(isNaN(r[0])||isNaN(r[1]))&&Zo(r),this.extentRevision_=this.getRevision()}return function(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}(this.extent_,n)},e.prototype.rotate=function(n,r){Ee()},e.prototype.scale=function(n,r,i){Ee()},e.prototype.simplify=function(n){return this.getSimplifiedGeometry(n*n)},e.prototype.getSimplifiedGeometry=function(n){return Ee()},e.prototype.getType=function(){return Ee()},e.prototype.applyTransform=function(n){Ee()},e.prototype.intersectsExtent=function(n){return Ee()},e.prototype.translate=function(n,r){Ee()},e.prototype.transform=function(n,r){var i=jt(n),o=i.getUnits()==Yr.TILE_PIXELS?function(s,a,u){var l=i.getExtent(),c=i.getWorldExtent(),f=Vt(c)/Vt(l);return zr(tI,c[0],c[3],f,-f,0,0,0),function(t,e,n,r,i,o){for(var s=o||[],a=0,u=0;u<n;u+=r){var l=t[u],c=t[u+1];s[a++]=i[0]*l+i[2]*c+i[4],s[a++]=i[1]*l+i[3]*c+i[5]}o&&s.length!=a&&(s.length=a)}(s,0,s.length,u,tI,a),Ba(i,r)(s,a,u)}:Ba(i,r);return this.applyTransform(o),this},e}(wr);var j8=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function nI(t){var e;return"XY"==t?e=2:"XYZ"==t||"XYM"==t?e=3:"XYZM"==t&&(e=4),e}const xg=function(t){function e(){var n=t.call(this)||this;return n.layout="XY",n.stride=2,n.flatCoordinates=null,n}return j8(e,t),e.prototype.computeExtent=function(n){return function(t,e,n,r,i){return hb(Zo(i),t,0,n,r)}(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,n)},e.prototype.getCoordinates=function(){return Ee()},e.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.getFlatCoordinates=function(){return this.flatCoordinates},e.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},e.prototype.getLayout=function(){return this.layout},e.prototype.getSimplifiedGeometry=function(n){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),n<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&n<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var r=this.getSimplifiedGeometryInternal(n);return r.getFlatCoordinates().length<this.flatCoordinates.length?r:(this.simplifiedGeometryMaxMinSquaredTolerance=n,this)},e.prototype.getSimplifiedGeometryInternal=function(n){return this},e.prototype.getStride=function(){return this.stride},e.prototype.setFlatCoordinates=function(n,r){this.stride=nI(n),this.layout=n,this.flatCoordinates=r},e.prototype.setCoordinates=function(n,r){Ee()},e.prototype.setLayout=function(n,r,i){var o;if(n)o=nI(n);else{for(var s=0;s<i;++s){if(0===r.length)return this.layout="XY",void(this.stride=2);r=r[0]}n=function(t){var e;return 2==t?e="XY":3==t?e="XYZ":4==t&&(e="XYZM"),e}(o=r.length)}this.layout=n,this.stride=o},e.prototype.applyTransform=function(n){this.flatCoordinates&&(n(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},e.prototype.rotate=function(n,r){var i=this.getFlatCoordinates();if(i){var o=this.getStride();(function(t,e,n,r,i,o,s){for(var a=s||[],u=Math.cos(i),l=Math.sin(i),c=o[0],f=o[1],d=0,h=0;h<n;h+=r){var p=t[h]-c,_=t[h+1]-f;a[d++]=c+p*u-_*l,a[d++]=f+p*l+_*u;for(var g=h+2;g<h+r;++g)a[d++]=t[g]}s&&a.length!=d&&(a.length=d)})(i,0,i.length,o,n,r,i),this.changed()}},e.prototype.scale=function(n,r,i){var o=r;void 0===o&&(o=n);var s=i;s||(s=Wr(this.getExtent()));var a=this.getFlatCoordinates();if(a){var u=this.getStride();(function(t,e,n,r,i,o,s,a){for(var u=a||[],l=s[0],c=s[1],f=0,d=0;d<n;d+=r){var p=t[d+1]-c;u[f++]=l+i*(t[d]-l),u[f++]=c+o*p;for(var _=d+2;_<d+r;++_)u[f++]=t[_]}a&&u.length!=f&&(u.length=f)})(a,0,a.length,u,n,o,s,a),this.changed()}},e.prototype.translate=function(n,r){var i=this.getFlatCoordinates();if(i){var o=this.getStride();(function(t,e,n,r,i,o,s){for(var a=s||[],u=0,l=0;l<n;l+=r){a[u++]=t[l]+i,a[u++]=t[l+1]+o;for(var c=l+2;c<l+r;++c)a[u++]=t[c]}s&&a.length!=u&&(a.length=u)})(i,0,i.length,o,n,r,i),this.changed()}},e}(k8);function rI(t,e,n,r,i,o,s){var f,a=t[e],u=t[e+1],l=t[n]-a,c=t[n+1]-u;if(0===l&&0===c)f=e;else{var d=((i-a)*l+(o-u)*c)/(l*l+c*c);if(d>1)f=n;else{if(d>0){for(var h=0;h<r;++h)s[h]=JU(t[e+h],t[n+h],d);return void(s.length=r)}f=e}}for(h=0;h<r;++h)s[h]=t[f+h];s.length=r}function iI(t,e,n,r,i){var o=t[e],s=t[e+1];for(e+=r;e<n;e+=r){var a=t[e],u=t[e+1],l=Jo(o,s,a,u);l>i&&(i=l),o=a,s=u}return i}function sI(t,e,n,r,i,o,s,a,u,l,c){if(e==n)return l;var f,d;if(0===i){if((d=Jo(s,a,t[e],t[e+1]))<l){for(f=0;f<r;++f)u[f]=t[e+f];return u.length=r,d}return l}for(var h=c||[NaN,NaN],p=e+r;p<n;)if(rI(t,p-r,p,r,s,a,h),(d=Jo(s,a,h[0],h[1]))<l){for(l=d,f=0;f<r;++f)u[f]=h[f];u.length=r,p+=r}else p+=r*Math.max((Math.sqrt(d)-Math.sqrt(l))/i|0,1);if(o&&(rI(t,n-r,e,r,s,a,h),(d=Jo(s,a,h[0],h[1]))<l)){for(l=d,f=0;f<r;++f)u[f]=h[f];u.length=r}return l}function uI(t,e,n,r){for(var i=0,o=n.length;i<o;++i)for(var s=n[i],a=0;a<r;++a)t[e++]=s[a];return e}function as(t,e){return e*Math.round(t/e)}function z8(t,e,n,r,i,o,s){if(e==n)return s;var l,c,a=as(t[e],i),u=as(t[e+1],i);e+=r,o[s++]=a,o[s++]=u;do{if(l=as(t[e],i),c=as(t[e+1],i),(e+=r)==n)return o[s++]=l,o[s++]=c,s}while(l==a&&c==u);for(;e<n;){var f=as(t[e],i),d=as(t[e+1],i);if(e+=r,f!=l||d!=c){var h=l-a,p=c-u,_=f-a,g=d-u;if(h*g==p*_&&(h<0&&_<h||h==_||h>0&&_>h)&&(p<0&&g<p||p==g||p>0&&g>p)){l=f,c=d;continue}o[s++]=l,o[s++]=c,a=l,u=c,l=f,c=d}}return o[s++]=l,o[s++]=c,s}function fI(t,e,n,r,i){for(var o=void 0!==i?i:[],s=0,a=e;a<n;a+=r)o[s++]=t.slice(a,a+r);return o.length=s,o}function hI(t,e,n,r){for(var i=0,o=t[n-r],s=t[n-r+1];e<n;e+=r){var a=t[e],u=t[e+1];i+=s*a-o*u,o=a,s=u}return i/2}var W8=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const gI=function(t){function e(n,r){var i=t.call(this)||this;return i.maxDelta_=-1,i.maxDeltaRevision_=-1,void 0===r||Array.isArray(n[0])?i.setCoordinates(n,r):i.setFlatCoordinates(r,n),i}return W8(e,t),e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(n,r,i,o){return o<ub(this.getExtent(),n,r)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(iI(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),sI(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,n,r,i,o))},e.prototype.getArea=function(){return hI(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return fI(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(n){var r=[];return r.length=function(t,e,n,r,i,o,s){var a=(n-e)/r;if(a<3){for(;e<n;e+=r)o[s++]=t[e],o[s++]=t[e+1];return s}var u=new Array(a);u[0]=1,u[a-1]=1;for(var l=[e,n-r],c=0;l.length>0;){for(var f=l.pop(),d=l.pop(),h=0,p=t[d],_=t[d+1],g=t[f],m=t[f+1],y=d+r;y<f;y+=r){var w=XU(t[y],t[y+1],p,_,g,m);w>h&&(c=y,h=w)}h>i&&(u[(c-e)/r]=1,d+r<c&&l.push(d,c),c+r<f&&l.push(c,f))}for(y=0;y<a;++y)u[y]&&(o[s++]=t[e+y*r],o[s++]=t[e+y*r+1]);return s}(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,n,r,0),new e(r,"XY")},e.prototype.getType=function(){return"LinearRing"},e.prototype.intersectsExtent=function(n){return!1},e.prototype.setCoordinates=function(n,r){this.setLayout(r,n,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=uI(this.flatCoordinates,0,n,this.stride),this.changed()},e}(xg);var K8=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Y8=function(t){function e(n,r){var i=t.call(this)||this;return i.setCoordinates(n,r),i}return K8(e,t),e.prototype.clone=function(){var n=new e(this.flatCoordinates.slice(),this.layout);return n.applyProperties(this),n},e.prototype.closestPointXY=function(n,r,i,o){var s=this.flatCoordinates,a=Jo(n,r,s[0],s[1]);if(a<o){for(var u=this.stride,l=0;l<u;++l)i[l]=s[l];return i.length=u,a}return o},e.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},e.prototype.computeExtent=function(n){return function(t,e){var n=t[0],r=t[1];return Ni(n,r,n,r,e)}(this.flatCoordinates,n)},e.prototype.getType=function(){return"Point"},e.prototype.intersectsExtent=function(n){return cb(n,this.flatCoordinates[0],this.flatCoordinates[1])},e.prototype.setCoordinates=function(n,r){this.setLayout(r,n,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=function(t,e,n,r){for(var i=0,o=n.length;i<o;++i)t[e++]=n[i];return e}(this.flatCoordinates,0,n),this.changed()},e}(xg);function X8(t,e,n,r,i){return!pb(i,function(s){return!ki(t,e,n,r,s[0],s[1])})}function ki(t,e,n,r,i,o){for(var s=0,a=t[n-r],u=t[n-r+1];e<n;e+=r){var l=t[e],c=t[e+1];u<=o?c>o&&(l-a)*(o-u)-(i-a)*(c-u)>0&&s++:c<=o&&(l-a)*(o-u)-(i-a)*(c-u)<0&&s--,a=l,u=c}return 0!==s}function Rg(t,e,n,r,i,o){if(0===n.length||!ki(t,e,n[0],r,i,o))return!1;for(var s=1,a=n.length;s<a;++s)if(ki(t,n[s-1],n[s],r,i,o))return!1;return!0}function Sg(t,e,n,r,i){var o=hb([1/0,1/0,-1/0,-1/0],t,e,n,r);return!!dc(i,o)&&(!!(lb(i,o)||o[0]>=i[0]&&o[2]<=i[2]||o[1]>=i[1]&&o[3]<=i[3])||function(t,e,n,r,i){for(var a,o=[t[e],t[e+1]],s=[];e+r<n;e+=r){if(s[0]=t[e+r],s[1]=t[e+r+1],a=i(o,s))return a;o[0]=s[0],o[1]=s[1]}return!1}(t,e,n,r,function(s,a){return function(t,e,n){var r=!1,i=fb(t,e),o=fb(t,n);if(1===i||1===o)r=!0;else{var s=t[0],a=t[1],u=t[2],l=t[3],d=n[0],h=n[1],p=(h-e[1])/(d-e[0]),_=void 0,g=void 0;!!(2&o)&&!(2&i)&&(r=(_=d-(h-l)/p)>=s&&_<=u),r||!(4&o)||4&i||(r=(g=h-(d-u)*p)>=a&&g<=l),r||!(8&o)||8&i||(r=(_=d-(h-a)/p)>=s&&_<=u),!r&&16&o&&!(16&i)&&(r=(g=h-(d-s)*p)>=a&&g<=l)}return r}(i,s,a)}))}function e$(t,e,n,r){for(;e<n-r;){for(var i=0;i<r;++i){var o=t[e+i];t[e+i]=t[n-r+i],t[n-r+i]=o}e+=r,n-=r}}function yI(t,e,n,r){for(var i=0,o=t[n-r],s=t[n-r+1];e<n;e+=r){var a=t[e],u=t[e+1];i+=(a-o)*(u+s),o=a,s=u}return 0===i?void 0:i>0}function Og(t,e,n,r,i){for(var o=void 0!==i&&i,s=0,a=n.length;s<a;++s){var u=n[s],l=yI(t,e,u,r);(0===s?o&&l||!o&&!l:o&&!l||!o&&l)&&e$(t,e,u,r),e=u}return e}var t$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pc=function(t){function e(n,r,i){var o=t.call(this)||this;return o.ends_=[],o.flatInteriorPointRevision_=-1,o.flatInteriorPoint_=null,o.maxDelta_=-1,o.maxDeltaRevision_=-1,o.orientedRevision_=-1,o.orientedFlatCoordinates_=null,void 0!==r&&i?(o.setFlatCoordinates(r,n),o.ends_=i):o.setCoordinates(n,r),o}return t$(e,t),e.prototype.appendLinearRing=function(n){this.flatCoordinates?function(t,e){for(var n=Array.isArray(e)?e:[e],r=n.length,i=0;i<r;i++)t[t.length]=n[i]}(this.flatCoordinates,n.getFlatCoordinates()):this.flatCoordinates=n.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){var n=new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return n.applyProperties(this),n},e.prototype.closestPointXY=function(n,r,i,o){return o<ub(this.getExtent(),n,r)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(function(t,e,n,r,i){for(var o=0,s=n.length;o<s;++o){var a=n[o];i=iI(t,e,a,r,i),e=a}return i}(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),function(t,e,n,r,i,o,s,a,u,l,c){for(var f=c||[NaN,NaN],d=0,h=n.length;d<h;++d){var p=n[d];l=sI(t,e,p,r,i,o,s,a,u,l,f),e=p}return l}(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,n,r,i,o))},e.prototype.containsXY=function(n,r){return Rg(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,n,r)},e.prototype.getArea=function(){return function(t,e,n,r){for(var i=0,o=0,s=n.length;o<s;++o){var a=n[o];i+=hI(t,e,a,r),e=a}return i}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(n){var r;return void 0!==n?Og(r=this.getOrientedFlatCoordinates().slice(),0,this.ends_,this.stride,n):r=this.flatCoordinates,function(t,e,n,r,i){for(var o=void 0!==i?i:[],s=0,a=0,u=n.length;a<u;++a){var l=n[a];o[s++]=fI(t,e,l,r,o[s]),e=l}return o.length=s,o}(r,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var n=Wr(this.getExtent());this.flatInteriorPoint_=function(t,e,n,r,i,o,s){for(var a,u,l,c,f,d,h,p=i[o+1],_=[],g=0,m=n.length;g<m;++g){var y=n[g];for(c=t[y-r],d=t[y-r+1],a=e;a<y;a+=r)f=t[a],h=t[a+1],(p<=d&&h<=p||d<=p&&p<=h)&&_.push(l=(p-d)/(h-d)*(f-c)+c),c=f,d=h}var v=NaN,E=-1/0;for(_.sort(sc),c=_[0],a=1,u=_.length;a<u;++a){f=_[a];var w=Math.abs(f-c);w>E&&Rg(t,e,n,r,l=(c+f)/2,p)&&(v=l,E=w),c=f}return isNaN(v)&&(v=i[o]),s?(s.push(v,p,E),s):[v,p,E]}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,n,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new Y8(this.getFlatInteriorPoint(),"XYM")},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(n){return n<0||this.ends_.length<=n?null:new gI(this.flatCoordinates.slice(0===n?0:this.ends_[n-1],this.ends_[n]),this.layout)},e.prototype.getLinearRings=function(){for(var n=this.layout,r=this.flatCoordinates,i=this.ends_,o=[],s=0,a=0,u=i.length;a<u;++a){var l=i[a],c=new gI(r.slice(s,l),n);o.push(c),s=l}return o},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var n=this.flatCoordinates;!function(t,e,n,r,i){for(var o=void 0!==i&&i,s=0,a=n.length;s<a;++s){var u=n[s],l=yI(t,e,u,r);if(0===s){if(o&&l||!o&&!l)return!1}else if(o&&!l||!o&&l)return!1;e=u}return!0}(n,0,this.ends_,this.stride)?(this.orientedFlatCoordinates_=n.slice(),this.orientedFlatCoordinates_.length=Og(this.orientedFlatCoordinates_,0,this.ends_,this.stride)):this.orientedFlatCoordinates_=n,this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(n){var r=[],i=[];return r.length=function(t,e,n,r,i,o,s,a){for(var u=0,l=n.length;u<l;++u){var c=n[u];s=z8(t,e,c,r,i,o,s),a.push(s),e=c}return s}(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(n),r,0,i),new e(r,"XY",i)},e.prototype.getType=function(){return"Polygon"},e.prototype.intersectsExtent=function(n){return function(t,e,n,r,i){if(!function(t,e,n,r,i){return!!(Sg(t,e,n,r,i)||ki(t,e,n,r,i[0],i[1])||ki(t,e,n,r,i[0],i[3])||ki(t,e,n,r,i[2],i[1])||ki(t,e,n,r,i[2],i[3]))}(t,e,n[0],r,i))return!1;if(1===n.length)return!0;for(var o=1,s=n.length;o<s;++o)if(X8(t,n[o-1],n[o],r,i)&&!Sg(t,n[o-1],n[o],r,i))return!1;return!0}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,n)},e.prototype.setCoordinates=function(n,r){this.setLayout(r,n,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=function(t,e,n,r,i){for(var o=i||[],s=0,a=0,u=n.length;a<u;++a){var l=uI(t,e,n[a],r);o[s++]=l,e=l}return o.length=s,o}(this.flatCoordinates,0,n,this.stride,this.ends_);this.flatCoordinates.length=0===i.length?0:i[i.length-1],this.changed()},e}(xg);const n$=Pc;function EI(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=[e,n,e,i,r,i,r,n,e,n];return new Pc(o,"XY",[o.length])}var i$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function Nc(t,e){setTimeout(function(){t(e)},0)}function l$(t){return!(t.sourceCenter&&t.targetCenter&&!lg(t.sourceCenter,t.targetCenter)||t.sourceResolution!==t.targetResolution||t.sourceRotation!==t.targetRotation)}function Ng(t,e,n,r,i){var o=Math.cos(-i),s=Math.sin(-i),a=t[0]*o-t[1]*s,u=t[1]*o+t[0]*s;return[(a+=(e[0]/2-n[0])*r)*o-(u+=(n[1]-e[1]/2)*r)*(s=-s),u*o+a*s]}const CI=function(t){function e(n){var r=t.call(this)||this,i=ot({},n);return r.hints_=[0,0],r.animations_=[],r.projection_=wg(i.projection,"EPSG:3857"),r.viewportSize_=[100,100],r.targetCenter_=null,r.cancelAnchor_=void 0,i.center&&(i.center=Tr(i.center)),i.extent&&(i.extent=Qr(i.extent)),r.applyOptions_(i),r}return i$(e,t),e.prototype.applyOptions_=function(n){var i=function(t){var e,n,r,s=void 0!==t.minZoom?t.minZoom:0,a=void 0!==t.maxZoom?t.maxZoom:28,u=void 0!==t.zoomFactor?t.zoomFactor:2,l=void 0!==t.multiWorld&&t.multiWorld,c=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint,f=void 0!==t.showFullExtent&&t.showFullExtent,d=wg(t.projection,"EPSG:3857"),h=d.getExtent(),p=t.constrainOnlyCenter,_=t.extent;if(!l&&!_&&d.isGlobal()&&(p=!1,_=h),void 0!==t.resolutions){var g=t.resolutions;n=g[s],r=void 0!==g[a]?g[a]:g[g.length-1],e=t.constrainResolution?function(t,e,n,r){return function(i,o,s,a){if(void 0!==i){var u=t[0],l=t[t.length-1],c=n?bg(u,n,s,r):u;if(a)return void 0===e||e?Ig(i,c,l):it(i,l,c);var d=Math.min(c,i),h=Math.floor(ac(t,d,o));return t[h]>c&&h<t.length-1?t[h+1]:t[h]}}}(g,c,!p&&_,f):Qb(n,r,c,!p&&_,f)}else{var y=(h?Math.max(Be(h),Vt(h)):360*Ir[Yr.DEGREES]/d.getMetersPerUnit())/256/Math.pow(2,0),v=y/Math.pow(2,28);void 0!==(n=t.maxResolution)?s=0:n=y/Math.pow(u,s),void 0===(r=t.minResolution)&&(r=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(u,a):y/Math.pow(u,a):v),a=s+Math.floor(Math.log(n/r)/Math.log(u)),r=n/Math.pow(u,a-s),e=t.constrainResolution?function(t,e,n,r,i,o){return function(s,a,u,l){if(void 0!==s){var c=i?bg(e,i,u,o):e,f=void 0!==n?n:0;if(l)return void 0===r||r?Ig(s,c,f):it(s,f,c);var p=Math.ceil(Math.log(e/c)/Math.log(t)-1e-9),_=-a*(.5-1e-9)+.5,g=Math.min(c,s),m=Math.floor(Math.log(e/g)/Math.log(t)+_),y=Math.max(p,m);return it(e/Math.pow(t,y),f,c)}}}(u,n,r,c,!p&&_,f):Qb(n,r,c,!p&&_,f)}return{constraint:e,maxResolution:n,minResolution:r,minZoom:s,zoomFactor:u}}(n);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=n.resolutions,this.padding=n.padding,this.minZoom_=i.minZoom;var o=function(t){if(void 0!==t.extent)return Xb(t.extent,t.constrainOnlyCenter,void 0===t.smoothExtentConstraint||t.smoothExtentConstraint);var n=wg(t.projection,"EPSG:3857");if(!0!==t.multiWorld&&n.isGlobal()){var r=n.getExtent().slice();return r[0]=-1/0,r[2]=1/0,Xb(r,!1,!1)}return T8}(n),s=i.constraint,a=function(t){if(void 0===t.enableRotation||t.enableRotation){var n=t.constrainRotation;return void 0===n||!0===n?function(t){var e=pc(5);return function(n,r){return r?n:void 0!==n?Math.abs(n)<=e?0:n:void 0}}():!1===n?Jb:"number"==typeof n?function(t){var e=2*Math.PI/t;return function(n,r){return r?n:void 0!==n?n=Math.floor(n/e+.5)*e:void 0}}(n):Jb}return Tg}(n);this.constraints_={center:o,resolution:s,rotation:a},this.setRotation(void 0!==n.rotation?n.rotation:0),this.setCenterInternal(void 0!==n.center?n.center:null),void 0!==n.resolution?this.setResolution(n.resolution):void 0!==n.zoom&&this.setZoom(n.zoom),this.setProperties({}),this.options_=n},e.prototype.getUpdatedOptions_=function(n){var r=ot({},this.options_);return void 0!==r.resolution?r.resolution=this.getResolution():r.zoom=this.getZoom(),r.center=this.getCenterInternal(),r.rotation=this.getRotation(),ot({},r,n)},e.prototype.animate=function(n){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var r=new Array(arguments.length),i=0;i<r.length;++i){var o=arguments[i];o.center&&((o=ot({},o)).center=Tr(o.center,this.getProjection())),o.anchor&&((o=ot({},o)).anchor=Tr(o.anchor,this.getProjection())),r[i]=o}this.animateInternal.apply(this,r)},e.prototype.animateInternal=function(n){var i,r=arguments.length;if(r>1&&"function"==typeof arguments[r-1]&&(i=arguments[r-1],--r),!this.isDef()){var o=arguments[r-1];return o.center&&this.setCenterInternal(o.center),void 0!==o.zoom&&this.setZoom(o.zoom),void 0!==o.rotation&&this.setRotation(o.rotation),void(i&&Nc(i,!0))}for(var s=Date.now(),a=this.targetCenter_.slice(),u=this.targetResolution_,l=this.targetRotation_,c=[],f=0;f<r;++f){var d=arguments[f],h={start:s,complete:!1,anchor:d.anchor,duration:void 0!==d.duration?d.duration:1e3,easing:d.easing||Mg,callback:i};if(d.center&&(h.sourceCenter=a,h.targetCenter=d.center.slice(),a=h.targetCenter),void 0!==d.zoom?(h.sourceResolution=u,h.targetResolution=this.getResolutionForZoom(d.zoom),u=h.targetResolution):d.resolution&&(h.sourceResolution=u,h.targetResolution=d.resolution,u=h.targetResolution),void 0!==d.rotation){h.sourceRotation=l;var p=es(d.rotation-l+Math.PI,2*Math.PI)-Math.PI;h.targetRotation=l+p,l=h.targetRotation}l$(h)?h.complete=!0:s+=h.duration,c.push(h)}this.animations_.push(c),this.setHint(0,1),this.updateAnimations_()},e.prototype.getAnimating=function(){return this.hints_[0]>0},e.prototype.getInteracting=function(){return this.hints_[1]>0},e.prototype.cancelAnimations=function(){this.setHint(0,-this.hints_[0]);for(var n,r=0,i=this.animations_.length;r<i;++r){var o=this.animations_[r];if(o[0].callback&&Nc(o[0].callback,!1),!n)for(var s=0,a=o.length;s<a;++s){var u=o[s];if(!u.complete){n=u.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=n},e.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var n=Date.now(),r=!1,i=this.animations_.length-1;i>=0;--i){for(var o=this.animations_[i],s=!0,a=0,u=o.length;a<u;++a){var l=o[a];if(!l.complete){var f=l.duration>0?(n-l.start)/l.duration:1;f>=1?(l.complete=!0,f=1):s=!1;var d=l.easing(f);if(l.sourceCenter){var h=l.sourceCenter[0],p=l.sourceCenter[1];this.targetCenter_=[h+d*(l.targetCenter[0]-h),p+d*(l.targetCenter[1]-p)]}if(l.sourceResolution&&l.targetResolution){var v=1===d?l.targetResolution:l.sourceResolution+d*(l.targetResolution-l.sourceResolution);if(l.anchor){var E=this.getViewportSize_(this.getRotation()),w=this.constraints_.resolution(v,0,E,!0);this.targetCenter_=this.calculateCenterZoom(w,l.anchor)}this.targetResolution_=v,this.applyTargetState_(!0)}if(void 0!==l.sourceRotation&&void 0!==l.targetRotation){var M=1===d?es(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+d*(l.targetRotation-l.sourceRotation);if(l.anchor){var P=this.constraints_.rotation(M,!0);this.targetCenter_=this.calculateCenterRotate(P,l.anchor)}this.targetRotation_=M}if(this.applyTargetState_(!0),r=!0,!l.complete)break}}if(s){this.animations_[i]=null,this.setHint(0,-1);var N=o[0].callback;N&&Nc(N,!0)}}this.animations_=this.animations_.filter(Boolean),r&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},e.prototype.calculateCenterRotate=function(n,r){var i,o=this.getCenterInternal();return void 0!==o&&(cg(i=[o[0]-r[0],o[1]-r[1]],n-this.getRotation()),function(t,e){t[0]+=+e[0],t[1]+=+e[1]}(i,r)),i},e.prototype.calculateCenterZoom=function(n,r){var i,o=this.getCenterInternal(),s=this.getResolution();return void 0!==o&&void 0!==s&&(i=[r[0]-n*(r[0]-o[0])/s,r[1]-n*(r[1]-o[1])/s]),i},e.prototype.getViewportSize_=function(n){var r=this.viewportSize_;if(n){var i=r[0],o=r[1];return[Math.abs(i*Math.cos(n))+Math.abs(o*Math.sin(n)),Math.abs(i*Math.sin(n))+Math.abs(o*Math.cos(n))]}return r},e.prototype.setViewportSize=function(n){this.viewportSize_=Array.isArray(n)?n.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},e.prototype.getCenter=function(){var n=this.getCenterInternal();return n&&Dg(n,this.getProjection())},e.prototype.getCenterInternal=function(){return this.get("center")},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getConstrainResolution=function(){return this.options_.constrainResolution},e.prototype.getHints=function(n){return void 0!==n?(n[0]=this.hints_[0],n[1]=this.hints_[1],n):this.hints_.slice()},e.prototype.calculateExtent=function(n){return function(t,e){return t}(this.calculateExtentInternal(n),this.getProjection())},e.prototype.calculateExtentInternal=function(n){var r=n||this.getViewportSize_(),i=this.getCenterInternal();Ce(i,1);var o=this.getResolution();Ce(void 0!==o,2);var s=this.getRotation();return Ce(void 0!==s,3),gb(i,o,s,r)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(n){this.applyOptions_(this.getUpdatedOptions_({maxZoom:n}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(n){this.applyOptions_(this.getUpdatedOptions_({minZoom:n}))},e.prototype.setConstrainResolution=function(n){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:n}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get("resolution")},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(n,r){return this.getResolutionForExtentInternal(Qr(n,this.getProjection()),r)},e.prototype.getResolutionForExtentInternal=function(n,r){var i=r||this.getViewportSize_(),o=Be(n)/i[0],s=Vt(n)/i[1];return Math.max(o,s)},e.prototype.getResolutionForValueFunction=function(n){var r=n||2,i=this.getConstrainedResolution(this.maxResolution_),s=Math.log(i/this.minResolution_)/Math.log(r);return function(a){return i/Math.pow(r,a*s)}},e.prototype.getRotation=function(){return this.get("rotation")},e.prototype.getValueForResolutionFunction=function(n){var r=Math.log(n||2),i=this.getConstrainedResolution(this.maxResolution_),s=Math.log(i/this.minResolution_)/r;return function(a){return Math.log(i/a)/r/s}},e.prototype.getViewportSizeMinusPadding_=function(n){var r=this.getViewportSize_(n),i=this.padding;return i&&(r=[r[0]-i[1]-i[3],r[1]-i[0]-i[2]]),r},e.prototype.getState=function(){var n=this.getProjection(),r=this.getResolution(),i=this.getRotation(),o=this.getCenterInternal(),s=this.padding;if(s){var a=this.getViewportSizeMinusPadding_();o=Ng(o,this.getViewportSize_(),[a[0]/2+s[3],a[1]/2+s[0]],r,i)}return{center:o.slice(0),projection:void 0!==n?n:null,resolution:r,rotation:i,zoom:this.getZoom()}},e.prototype.getZoom=function(){var n,r=this.getResolution();return void 0!==r&&(n=this.getZoomForResolution(r)),n},e.prototype.getZoomForResolution=function(n){var i,o,r=this.minZoom_||0;if(this.resolutions_){var s=ac(this.resolutions_,n,1);r=s,i=this.resolutions_[s],o=s==this.resolutions_.length-1?2:i/this.resolutions_[s+1]}else i=this.maxResolution_,o=this.zoomFactor_;return r+Math.log(i/n)/Math.log(o)},e.prototype.getResolutionForZoom=function(n){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var r=it(Math.floor(n),0,this.resolutions_.length-2);return this.resolutions_[r]/Math.pow(this.resolutions_[r]/this.resolutions_[r+1],it(n-r,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,n-this.minZoom_)},e.prototype.fit=function(n,r){var i;if(Ce(Array.isArray(n)||"function"==typeof n.getSimplifiedGeometry,24),Array.isArray(n))Ce(!hc(n),25),i=EI(o=Qr(n,this.getProjection()));else if("Circle"===n.getType()){var o;(i=EI(o=Qr(n.getExtent(),this.getProjection()))).rotate(this.getRotation(),Wr(o))}else{i=n}this.fitInternal(i,r)},e.prototype.fitInternal=function(n,r){var i=r||{},o=i.size;o||(o=this.getViewportSizeMinusPadding_());var u,s=void 0!==i.padding?i.padding:[0,0,0,0],a=void 0!==i.nearest&&i.nearest;u=void 0!==i.minResolution?i.minResolution:void 0!==i.maxZoom?this.getResolutionForZoom(i.maxZoom):0;for(var l=n.getFlatCoordinates(),c=this.getRotation(),f=Math.cos(-c),d=Math.sin(-c),h=1/0,p=1/0,_=-1/0,g=-1/0,m=n.getStride(),y=0,v=l.length;y<v;y+=m){var E=l[y]*f-l[y+1]*d,w=l[y]*d+l[y+1]*f;h=Math.min(h,E),p=Math.min(p,w),_=Math.max(_,E),g=Math.max(g,w)}var M=this.getResolutionForExtentInternal([h,p,_,g],[o[0]-s[1]-s[3],o[1]-s[0]-s[2]]);M=isNaN(M)?u:Math.max(M,u),M=this.getConstrainedResolution(M,a?0:1);var P=(h+_)/2,N=(p+g)/2,x=this.getConstrainedCenter([(P+=(s[1]-s[3])/2*M)*f-(N+=(s[0]-s[2])/2*M)*(d=-d),N*f+P*d],M),te=i.callback?i.callback:lc;void 0!==i.duration?this.animateInternal({resolution:M,center:x,duration:i.duration,easing:i.easing},te):(this.targetResolution_=M,this.targetCenter_=x,this.applyTargetState_(!1,!0),Nc(te,!0))},e.prototype.centerOn=function(n,r,i){this.centerOnInternal(Tr(n,this.getProjection()),r,i)},e.prototype.centerOnInternal=function(n,r,i){this.setCenterInternal(Ng(n,r,i,this.getResolution(),this.getRotation()))},e.prototype.calculateCenterShift=function(n,r,i,o){var s,a=this.padding;if(a&&n){var u=this.getViewportSizeMinusPadding_(-i),l=Ng(n,o,[u[0]/2+a[3],u[1]/2+a[0]],r,i);s=[n[0]-l[0],n[1]-l[1]]}return s},e.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()},e.prototype.adjustCenter=function(n){var r=Dg(this.targetCenter_,this.getProjection());this.setCenter([r[0]+n[0],r[1]+n[1]])},e.prototype.adjustCenterInternal=function(n){var r=this.targetCenter_;this.setCenterInternal([r[0]+n[0],r[1]+n[1]])},e.prototype.adjustResolution=function(n,r){var i=r&&Tr(r,this.getProjection());this.adjustResolutionInternal(n,i)},e.prototype.adjustResolutionInternal=function(n,r){var i=this.getAnimating()||this.getInteracting(),o=this.getViewportSize_(this.getRotation()),s=this.constraints_.resolution(this.targetResolution_*n,0,o,i);r&&(this.targetCenter_=this.calculateCenterZoom(s,r)),this.targetResolution_*=n,this.applyTargetState_()},e.prototype.adjustZoom=function(n,r){this.adjustResolution(Math.pow(this.zoomFactor_,-n),r)},e.prototype.adjustRotation=function(n,r){r&&(r=Tr(r,this.getProjection())),this.adjustRotationInternal(n,r)},e.prototype.adjustRotationInternal=function(n,r){var i=this.getAnimating()||this.getInteracting(),o=this.constraints_.rotation(this.targetRotation_+n,i);r&&(this.targetCenter_=this.calculateCenterRotate(o,r)),this.targetRotation_+=n,this.applyTargetState_()},e.prototype.setCenter=function(n){this.setCenterInternal(Tr(n,this.getProjection()))},e.prototype.setCenterInternal=function(n){this.targetCenter_=n,this.applyTargetState_()},e.prototype.setHint=function(n,r){return this.hints_[n]+=r,this.changed(),this.hints_[n]},e.prototype.setResolution=function(n){this.targetResolution_=n,this.applyTargetState_()},e.prototype.setRotation=function(n){this.targetRotation_=n,this.applyTargetState_()},e.prototype.setZoom=function(n){this.setResolution(this.getResolutionForZoom(n))},e.prototype.applyTargetState_=function(n,r){var i=this.getAnimating()||this.getInteracting()||r,o=this.constraints_.rotation(this.targetRotation_,i),s=this.getViewportSize_(o),a=this.constraints_.resolution(this.targetResolution_,0,s,i),u=this.constraints_.center(this.targetCenter_,a,s,i,this.calculateCenterShift(this.targetCenter_,a,o,s));this.get("rotation")!==o&&this.set("rotation",o),this.get("resolution")!==a&&this.set("resolution",a),(!this.get("center")||!lg(this.get("center"),u))&&this.set("center",u),this.getAnimating()&&!n&&this.cancelAnimations(),this.cancelAnchor_=void 0},e.prototype.resolveConstraints=function(n,r,i){var o=void 0!==n?n:200,s=r||0,a=this.constraints_.rotation(this.targetRotation_),u=this.getViewportSize_(a),l=this.constraints_.resolution(this.targetResolution_,s,u),c=this.constraints_.center(this.targetCenter_,l,u,!1,this.calculateCenterShift(this.targetCenter_,l,a,u));if(0===o&&!this.cancelAnchor_)return this.targetResolution_=l,this.targetRotation_=a,this.targetCenter_=c,void this.applyTargetState_();var f=i||(0===o?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,(this.getResolution()!==l||this.getRotation()!==a||!this.getCenterInternal()||!lg(this.getCenterInternal(),c))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:a,center:c,resolution:l,duration:o,easing:ss,anchor:f}))},e.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(1,1)},e.prototype.endInteraction=function(n,r,i){var o=i&&Tr(i,this.getProjection());this.endInteractionInternal(n,r,o)},e.prototype.endInteractionInternal=function(n,r,i){this.setHint(1,-1),this.resolveConstraints(n,r,i)},e.prototype.getConstrainedCenter=function(n,r){var i=this.getViewportSize_(this.getRotation());return this.constraints_.center(n,r||this.getResolution(),i)},e.prototype.getConstrainedZoom=function(n,r){var i=this.getResolutionForZoom(n);return this.getZoomForResolution(this.getConstrainedResolution(i,r))},e.prototype.getConstrainedResolution=function(n,r){var i=r||0,o=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(n,i,o)},e}(wr);function Jr(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:(e[0]=t,e[1]=t),e)}var d$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const g$=function(t){function e(n){var r=t.call(this)||this,i=function(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var i,o,s,n={},r=t.layers&&"function"==typeof t.layers.getLayers?t.layers:new zG({layers:t.layers});return n.layergroup=r,n.target=t.target,n.view=void 0!==t.view?t.view:new CI,void 0!==t.controls&&(Array.isArray(t.controls)?i=new er(t.controls.slice()):(Ce("function"==typeof t.controls.getArray,47),i=t.controls)),void 0!==t.interactions&&(Array.isArray(t.interactions)?o=new er(t.interactions.slice()):(Ce("function"==typeof t.interactions.getArray,48),o=t.interactions)),void 0!==t.overlays?Array.isArray(t.overlays)?s=new er(t.overlays.slice()):(Ce("function"==typeof t.overlays.getArray,49),s=t.overlays):s=new er,{controls:i,interactions:o,keyboardEventTarget:e,overlays:s,values:n}}(n);return r.boundHandleBrowserEvent_=r.handleBrowserEvent.bind(r),r.maxTilesLoading_=void 0!==n.maxTilesLoading?n.maxTilesLoading:16,r.pixelRatio_=void 0!==n.pixelRatio?n.pixelRatio:vc,r.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(r),r.coordinateToPixelTransform_=[1,0,0,1,0,0],r.pixelToCoordinateTransform_=[1,0,0,1,0,0],r.frameIndex_=0,r.frameState_=null,r.previousExtent_=null,r.viewPropertyListenerKey_=null,r.viewChangeListenerKey_=null,r.layerGroupPropertyListenerKeys_=null,r.viewport_=document.createElement("div"),r.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),r.viewport_.style.position="relative",r.viewport_.style.overflow="hidden",r.viewport_.style.width="100%",r.viewport_.style.height="100%",r.overlayContainer_=document.createElement("div"),r.overlayContainer_.style.position="absolute",r.overlayContainer_.style.zIndex="0",r.overlayContainer_.style.width="100%",r.overlayContainer_.style.height="100%",r.overlayContainer_.style.pointerEvents="none",r.overlayContainer_.className="ol-overlaycontainer",r.viewport_.appendChild(r.overlayContainer_),r.overlayContainerStopEvent_=document.createElement("div"),r.overlayContainerStopEvent_.style.position="absolute",r.overlayContainerStopEvent_.style.zIndex="0",r.overlayContainerStopEvent_.style.width="100%",r.overlayContainerStopEvent_.style.height="100%",r.overlayContainerStopEvent_.style.pointerEvents="none",r.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",r.viewport_.appendChild(r.overlayContainerStopEvent_),r.mapBrowserEventHandler_=null,r.moveTolerance_=n.moveTolerance,r.keyboardEventTarget_=i.keyboardEventTarget,r.keyHandlerKeys_=null,r.controls=i.controls||new er,r.interactions=i.interactions||new er,r.overlays_=i.overlays,r.overlayIdIndex_={},r.renderer_=null,r.postRenderFunctions_=[],r.tileQueue_=new Hb(r.getTilePriority.bind(r),r.handleTileChange_.bind(r)),r.addEventListener(Fi("layergroup"),r.handleLayerGroupChanged_),r.addEventListener(Fi("view"),r.handleViewChanged_),r.addEventListener(Fi("size"),r.handleSizeChanged_),r.addEventListener(Fi("target"),r.handleTargetChanged_),r.setProperties(i.values),r.controls.forEach(function(o){o.setMap(this)}.bind(r)),r.controls.addEventListener("add",function(o){o.element.setMap(this)}.bind(r)),r.controls.addEventListener("remove",function(o){o.element.setMap(null)}.bind(r)),r.interactions.forEach(function(o){o.setMap(this)}.bind(r)),r.interactions.addEventListener("add",function(o){o.element.setMap(this)}.bind(r)),r.interactions.addEventListener("remove",function(o){o.element.setMap(null)}.bind(r)),r.overlays_.forEach(r.addOverlayInternal_.bind(r)),r.overlays_.addEventListener("add",function(o){this.addOverlayInternal_(o.element)}.bind(r)),r.overlays_.addEventListener("remove",function(o){var a=o.element.getId();void 0!==a&&delete this.overlayIdIndex_[a.toString()],o.element.setMap(null)}.bind(r)),r}return d$(e,t),e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(n){this.getControls().push(n)},e.prototype.addInteraction=function(n){this.getInteractions().push(n)},e.prototype.addLayer=function(n){this.getLayerGroup().getLayers().push(n)},e.prototype.addOverlay=function(n){this.getOverlays().push(n)},e.prototype.addOverlayInternal_=function(n){var r=n.getId();void 0!==r&&(this.overlayIdIndex_[r.toString()]=n),n.setMap(this)},e.prototype.disposeInternal=function(){this.setTarget(null),t.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(n,r,i){if(this.frameState_){var o=this.getCoordinateFromPixelInternal(n);return this.renderer_.forEachFeatureAtCoordinate(o,this.frameState_,void 0!==(i=void 0!==i?i:{}).hitTolerance?i.hitTolerance:0,!1!==i.checkWrapped,r,null,void 0!==i.layerFilter?i.layerFilter:Aa,null)}},e.prototype.getFeaturesAtPixel=function(n,r){var i=[];return this.forEachFeatureAtPixel(n,function(o){i.push(o)},r),i},e.prototype.forEachLayerAtPixel=function(n,r,i){if(this.frameState_){var o=i||{};return this.renderer_.forEachLayerAtPixel(n,this.frameState_,void 0!==o.hitTolerance?o.hitTolerance:0,r,o.layerFilter||Aa)}},e.prototype.hasFeatureAtPixel=function(n,r){if(!this.frameState_)return!1;var i=this.getCoordinateFromPixelInternal(n);return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,void 0!==(r=void 0!==r?r:{}).hitTolerance?r.hitTolerance:0,!1!==r.checkWrapped,void 0!==r.layerFilter?r.layerFilter:Aa,null)},e.prototype.getEventCoordinate=function(n){return this.getCoordinateFromPixel(this.getEventPixel(n))},e.prototype.getEventCoordinateInternal=function(n){return this.getCoordinateFromPixelInternal(this.getEventPixel(n))},e.prototype.getEventPixel=function(n){var r=this.viewport_.getBoundingClientRect(),i="changedTouches"in n?n.changedTouches[0]:n;return[i.clientX-r.left,i.clientY-r.top]},e.prototype.getTarget=function(){return this.get("target")},e.prototype.getTargetElement=function(){var n=this.getTarget();return void 0!==n?"string"==typeof n?document.getElementById(n):n:null},e.prototype.getCoordinateFromPixel=function(n){return Dg(this.getCoordinateFromPixelInternal(n),this.getView().getProjection())},e.prototype.getCoordinateFromPixelInternal=function(n){var r=this.frameState_;return r?ut(r.pixelToCoordinateTransform,n.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(n){var r=this.overlayIdIndex_[n.toString()];return void 0!==r?r:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get("layergroup")},e.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},e.prototype.getLoading=function(){for(var n=this.getLayerGroup().getLayerStatesArray(),r=0,i=n.length;r<i;++r){var s=n[r].layer.getSource();if(s&&s.loading)return!0}return!1},e.prototype.getPixelFromCoordinate=function(n){var r=Tr(n,this.getView().getProjection());return this.getPixelFromCoordinateInternal(r)},e.prototype.getPixelFromCoordinateInternal=function(n){var r=this.frameState_;return r?ut(r.coordinateToPixelTransform,n.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get("size")},e.prototype.getView=function(){return this.get("view")},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getOwnerDocument=function(){return this.getTargetElement()?this.getTargetElement().ownerDocument:document},e.prototype.getTilePriority=function(n,r,i,o){return function(t,e,n,r,i){if(!t||!(n in t.wantedTiles)||!t.wantedTiles[n][e.getKey()])return Ic;var o=t.viewState.center,s=r[0]-o[0],a=r[1]-o[1];return 65536*Math.log(i)+Math.sqrt(s*s+a*a)/i}(this.frameState_,n,r,i,o)},e.prototype.handleBrowserEvent=function(n,r){var o=new Zr(r||n.type,this,n);this.handleMapBrowserEvent(o)},e.prototype.handleMapBrowserEvent=function(n){if(this.frameState_){var r=n.originalEvent,i=r.type;if("pointerdown"===i||"wheel"===i||"keydown"===i){var o=this.getOwnerDocument(),s=this.viewport_.getRootNode?this.viewport_.getRootNode():o,a="host"in s?s.elementFromPoint(r.clientX,r.clientY):r.target;if(this.overlayContainerStopEvent_.contains(a)||!(s===o?o.documentElement:s).contains(a))return}if(n.frameState=this.frameState_,!1!==this.dispatchEvent(n))for(var u=this.getInteractions().getArray().slice(),l=u.length-1;l>=0;l--){var c=u[l];if(c.getMap()===this&&c.getActive()&&this.getTargetElement()&&(!c.handleEvent(n)||n.propagationStopped))break}}},e.prototype.handlePostRender=function(){var n=this.frameState_,r=this.tileQueue_;if(!r.isEmpty()){var i=this.maxTilesLoading_,o=i;if(n){var s=n.viewHints;if(s[0]||s[1]){var a=!Pb&&Date.now()-n.time>8;i=a?0:8,o=a?0:2}}r.getTilesLoading()<i&&(r.reprioritize(),r.loadMoreTiles(i,o))}n&&this.hasListener("rendercomplete")&&!n.animate&&!this.tileQueue_.getTilesLoading()&&!this.getLoading()&&this.renderer_.dispatchRenderEvent("rendercomplete",n);for(var u=this.postRenderFunctions_,l=0,c=u.length;l<c;++l)u[l](this,n);u.length=0},e.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},e.prototype.handleTargetChanged_=function(){var n;if(this.getTarget()&&(n=this.getTargetElement()),this.mapBrowserEventHandler_){for(var r=0,i=this.keyHandlerKeys_.length;r<i;++r)He(this.keyHandlerKeys_[r]);this.keyHandlerKeys_=null,this.viewport_.removeEventListener("contextmenu",this.boundHandleBrowserEvent_),this.viewport_.removeEventListener("wheel",this.boundHandleBrowserEvent_),void 0!==this.handleResize_&&(removeEventListener("resize",this.handleResize_,!1),this.handleResize_=void 0),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,hg(this.viewport_)}if(n){for(var o in n.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new QG(this,this.moveTolerance_),Se)this.mapBrowserEventHandler_.addEventListener(Se[o],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener("contextmenu",this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener("wheel",this.boundHandleBrowserEvent_,!!Nb&&{passive:!1});var s=this.keyboardEventTarget_?this.keyboardEventTarget_:n;this.keyHandlerKeys_=[we(s,"keydown",this.handleBrowserEvent,this),we(s,"keypress",this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener("resize",this.handleResize_,!1))}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(He(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(He(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var n=this.getView();n&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=we(n,"propertychange",this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=we(n,"change",this.handleViewPropertyChanged_,this),n.resolveConstraints(0)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(He),this.layerGroupPropertyListenerKeys_=null);var n=this.getLayerGroup();n&&(this.layerGroupPropertyListenerKeys_=[we(n,"propertychange",this.render,this),we(n,"change",this.render,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.redrawText=function(){for(var n=this.getLayerGroup().getLayerStatesArray(),r=0,i=n.length;r<i;++r){var o=n[r].layer;o.hasRenderer()&&o.getRenderer().handleFontsChanged()}},e.prototype.render=function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(n){return this.getControls().remove(n)},e.prototype.removeInteraction=function(n){return this.getInteractions().remove(n)},e.prototype.removeLayer=function(n){return this.getLayerGroup().getLayers().remove(n)},e.prototype.removeOverlay=function(n){return this.getOverlays().remove(n)},e.prototype.renderFrame_=function(n){var r=this,i=this.getSize(),o=this.getView(),s=this.frameState_,a=null;if(void 0!==i&&function(t){return t[0]>0&&t[1]>0}(i)&&o&&o.isDef()){var u=o.getHints(this.frameState_?this.frameState_.viewHints:void 0),l=o.getState();a={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:gb(l.center,l.resolution,l.rotation,i),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:i,tileQueue:this.tileQueue_,time:n,usedTiles:{},viewState:l,viewHints:u,wantedTiles:{}}}this.frameState_=a,this.renderer_.renderFrame(a),a&&(a.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,a.postRenderFunctions),s&&(!this.previousExtent_||!hc(this.previousExtent_)&&!Yo(a.extent,this.previousExtent_))&&(this.dispatchEvent(new Dc("movestart",this,s)),this.previousExtent_=Zo(this.previousExtent_)),this.previousExtent_&&!a.viewHints[0]&&!a.viewHints[1]&&!Yo(a.extent,this.previousExtent_)&&(this.dispatchEvent(new Dc("moveend",this,a)),function(t,e){e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]):t.slice()}(a.extent,this.previousExtent_))),this.dispatchEvent(new Dc("postrender",this,a)),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(function(){r.postRenderTimeoutHandle_=void 0,r.handlePostRender()},0))},e.prototype.setLayerGroup=function(n){this.set("layergroup",n)},e.prototype.setSize=function(n){this.set("size",n)},e.prototype.setTarget=function(n){this.set("target",n)},e.prototype.setView=function(n){this.set("view",n)},e.prototype.updateSize=function(){var n=this.getTargetElement();if(n){var r=getComputedStyle(n);this.setSize([n.offsetWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.paddingLeft)-parseFloat(r.paddingRight)-parseFloat(r.borderRightWidth),n.offsetHeight-parseFloat(r.borderTopWidth)-parseFloat(r.paddingTop)-parseFloat(r.paddingBottom)-parseFloat(r.borderBottomWidth)])}else this.setSize(void 0);this.updateViewportSize_()},e.prototype.updateViewportSize_=function(){var n=this.getView();if(n){var r=void 0,i=getComputedStyle(this.viewport_);i.width&&i.height&&(r=[parseInt(i.width,10),parseInt(i.height,10)]),n.setViewportSize(r)}},e}(wr);var _$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Fg=function(t){function e(n){var r=t.call(this)||this,i=n.element;return i&&!n.target&&!i.style.pointerEvents&&(i.style.pointerEvents="auto"),r.element=i||null,r.target_=null,r.map_=null,r.listenerKeys=[],n.render&&(r.render=n.render),n.target&&r.setTarget(n.target),r}return _$(e,t),e.prototype.disposeInternal=function(){hg(this.element),t.prototype.disposeInternal.call(this)},e.prototype.getMap=function(){return this.map_},e.prototype.setMap=function(n){this.map_&&hg(this.element);for(var r=0,i=this.listenerKeys.length;r<i;++r)He(this.listenerKeys[r]);this.listenerKeys.length=0,this.map_=n,this.map_&&((this.target_?this.target_:n.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==lc&&this.listenerKeys.push(we(n,"postrender",this.render,this)),n.render())},e.prototype.render=function(n){},e.prototype.setTarget=function(n){this.target_="string"==typeof n?document.getElementById(n):n},e}(wr);var y$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const E$=function(t){function e(n){var r=this,i=n||{};(r=t.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this).ulElement_=document.createElement("ul"),r.collapsed_=void 0===i.collapsed||i.collapsed,r.userCollapsed_=r.collapsed_,r.overrideCollapsible_=void 0!==i.collapsible,r.collapsible_=void 0===i.collapsible||i.collapsible,r.collapsible_||(r.collapsed_=!1);var o=void 0!==i.className?i.className:"ol-attribution",s=void 0!==i.tipLabel?i.tipLabel:"Attributions",a=void 0!==i.expandClassName?i.expandClassName:o+"-expand",u=void 0!==i.collapseLabel?i.collapseLabel:"\xbb",l=void 0!==i.collapseClassName?i.collapseClassName:o+"-collpase";"string"==typeof u?(r.collapseLabel_=document.createElement("span"),r.collapseLabel_.textContent=u,r.collapseLabel_.className=l):r.collapseLabel_=u;var c=void 0!==i.label?i.label:"i";"string"==typeof c?(r.label_=document.createElement("span"),r.label_.textContent=c,r.label_.className=a):r.label_=c;var f=r.collapsible_&&!r.collapsed_?r.collapseLabel_:r.label_,d=document.createElement("button");d.setAttribute("type","button"),d.title=s,d.appendChild(f),d.addEventListener("click",r.handleClick_.bind(r),!1);var p=r.element;return p.className=o+" "+yc+" "+fg+(r.collapsed_&&r.collapsible_?" "+Rb:"")+(r.collapsible_?"":" ol-uncollapsible"),p.appendChild(r.ulElement_),p.appendChild(d),r.renderedAttributions_=[],r.renderedVisible_=!0,r}return y$(e,t),e.prototype.collectSourceAttributions_=function(n){for(var r={},i=[],o=!0,s=n.layerStatesArray,a=0,u=s.length;a<u;++a){var l=s[a];if(_c(l,n.viewState)){var c=l.layer.getSource();if(c){var f=c.getAttributions();if(f){var d=f(n);if(d)if(o=o&&!1!==c.getAttributionsCollapsible(),Array.isArray(d))for(var h=0,p=d.length;h<p;++h)d[h]in r||(i.push(d[h]),r[d[h]]=!0);else d in r||(i.push(d),r[d]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(o),i},e.prototype.updateElement_=function(n){if(n){var r=this.collectSourceAttributions_(n),i=r.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!ob(r,this.renderedAttributions_)){!function(t){for(;t.lastChild;)t.removeChild(t.lastChild)}(this.ulElement_);for(var o=0,s=r.length;o<s;++o){var a=document.createElement("li");a.innerHTML=r[o],this.ulElement_.appendChild(a)}this.renderedAttributions_=r}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e.prototype.handleClick_=function(n){n.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},e.prototype.handleToggle_=function(){this.element.classList.toggle(Rb),this.collapsed_?Fb(this.collapseLabel_,this.label_):Fb(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(n){this.collapsible_!==n&&(this.collapsible_=n,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(n){this.userCollapsed_=n,this.collapsible_&&this.collapsed_!==n&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e.prototype.render=function(n){this.updateElement_(n.frameState)},e}(Fg);var C$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const D$=function(t){function e(n){var r=this,i=n||{};r=t.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this;var o=void 0!==i.className?i.className:"ol-rotate",s=void 0!==i.label?i.label:"\u21e7",a=void 0!==i.compassClassName?i.compassClassName:"ol-compass";r.label_=null,"string"==typeof s?(r.label_=document.createElement("span"),r.label_.className=a,r.label_.textContent=s):(r.label_=s,r.label_.classList.add(a));var u=i.tipLabel?i.tipLabel:"Reset rotation",l=document.createElement("button");l.className=o+"-reset",l.setAttribute("type","button"),l.title=u,l.appendChild(r.label_),l.addEventListener("click",r.handleClick_.bind(r),!1);var f=r.element;return f.className=o+" "+yc+" "+fg,f.appendChild(l),r.callResetNorth_=i.resetNorth?i.resetNorth:void 0,r.duration_=void 0!==i.duration?i.duration:250,r.autoHide_=void 0===i.autoHide||i.autoHide,r.rotation_=void 0,r.autoHide_&&r.element.classList.add(mc),r}return C$(e,t),e.prototype.handleClick_=function(n){n.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},e.prototype.resetNorth_=function(){var r=this.getMap().getView();if(r){var i=r.getRotation();void 0!==i&&(this.duration_>0&&i%(2*Math.PI)!=0?r.animate({rotation:0,duration:this.duration_,easing:ss}):r.setRotation(0))}},e.prototype.render=function(n){var r=n.frameState;if(r){var i=r.viewState.rotation;if(i!=this.rotation_){var o="rotate("+i+"rad)";if(this.autoHide_){var s=this.element.classList.contains(mc);s||0!==i?s&&0!==i&&this.element.classList.remove(mc):this.element.classList.add(mc)}this.label_.style.transform=o}this.rotation_=i}},e}(Fg);var b$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const T$=function(t){function e(n){var r=this,i=n||{};r=t.call(this,{element:document.createElement("div"),target:i.target})||this;var o=void 0!==i.className?i.className:"ol-zoom",s=void 0!==i.delta?i.delta:1,a=void 0!==i.zoomInClassName?i.zoomInClassName:o+"-in",u=void 0!==i.zoomOutClassName?i.zoomOutClassName:o+"-out",l=void 0!==i.zoomInLabel?i.zoomInLabel:"+",c=void 0!==i.zoomOutLabel?i.zoomOutLabel:"\u2212",f=void 0!==i.zoomInTipLabel?i.zoomInTipLabel:"Zoom in",d=void 0!==i.zoomOutTipLabel?i.zoomOutTipLabel:"Zoom out",h=document.createElement("button");h.className=a,h.setAttribute("type","button"),h.title=f,h.appendChild("string"==typeof l?document.createTextNode(l):l),h.addEventListener("click",r.handleClick_.bind(r,s),!1);var p=document.createElement("button");p.className=u,p.setAttribute("type","button"),p.title=d,p.appendChild("string"==typeof c?document.createTextNode(c):c),p.addEventListener("click",r.handleClick_.bind(r,-s),!1);var g=r.element;return g.className=o+" "+yc+" "+fg,g.appendChild(h),g.appendChild(p),r.duration_=void 0!==i.duration?i.duration:250,r}return b$(e,t),e.prototype.handleClick_=function(n,r){r.preventDefault(),this.zoomByDelta_(n)},e.prototype.zoomByDelta_=function(n){var i=this.getMap().getView();if(i){var o=i.getZoom();if(void 0!==o){var s=i.getConstrainedZoom(o+n);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:s,duration:this.duration_,easing:ss})):i.setZoom(s)}}},e}(Fg);var x$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function Lg(t,e,n,r){var i=t.getZoom();if(void 0!==i){var o=t.getConstrainedZoom(i+e),s=t.getResolutionForZoom(o);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:s,anchor:n,duration:void 0!==r?r:250,easing:ss})}}const Ha=function(t){function e(n){var r=t.call(this)||this;return n&&n.handleEvent&&(r.handleEvent=n.handleEvent),r.map_=null,r.setActive(!0),r}return x$(e,t),e.prototype.getActive=function(){return this.get("active")},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(n){return!0},e.prototype.setActive=function(n){this.set("active",n)},e.prototype.setMap=function(n){this.map_=n},e}(wr);var S$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const P$=function(t){function e(n){var r=t.call(this)||this,i=n||{};return r.delta_=i.delta?i.delta:1,r.duration_=void 0!==i.duration?i.duration:250,r}return S$(e,t),e.prototype.handleEvent=function(n){var r=!1;if(n.type==Se.DBLCLICK){var i=n.originalEvent,s=n.coordinate,a=i.shiftKey?-this.delta_:this.delta_;Lg(n.map.getView(),a,s,this.duration_),i.preventDefault(),r=!0}return!r},e}(Ha);var N$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function Vg(t){for(var e=t.length,n=0,r=0,i=0;i<e;i++)n+=t[i].clientX,r+=t[i].clientY;return[n/e,r/e]}const Ua=function(t){function e(n){var r=this,i=n||{};return r=t.call(this,i)||this,i.handleDownEvent&&(r.handleDownEvent=i.handleDownEvent),i.handleDragEvent&&(r.handleDragEvent=i.handleDragEvent),i.handleMoveEvent&&(r.handleMoveEvent=i.handleMoveEvent),i.handleUpEvent&&(r.handleUpEvent=i.handleUpEvent),i.stopDown&&(r.stopDown=i.stopDown),r.handlingDownUpSequence=!1,r.trackedPointers_={},r.targetPointers=[],r}return N$(e,t),e.prototype.getPointerCount=function(){return this.targetPointers.length},e.prototype.handleDownEvent=function(n){return!1},e.prototype.handleDragEvent=function(n){},e.prototype.handleEvent=function(n){if(!n.originalEvent)return!0;var r=!1;if(this.updateTrackedPointers_(n),this.handlingDownUpSequence){if(n.type==Se.POINTERDRAG)this.handleDragEvent(n),n.originalEvent.preventDefault();else if(n.type==Se.POINTERUP){var i=this.handleUpEvent(n);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(n.type==Se.POINTERDOWN){var o=this.handleDownEvent(n);this.handlingDownUpSequence=o,r=this.stopDown(o)}else n.type==Se.POINTERMOVE&&this.handleMoveEvent(n);return!r},e.prototype.handleMoveEvent=function(n){},e.prototype.handleUpEvent=function(n){return!1},e.prototype.stopDown=function(n){return n},e.prototype.updateTrackedPointers_=function(n){if(function(t){var e=t.type;return e===Se.POINTERDOWN||e===Se.POINTERDRAG||e===Se.POINTERUP}(n)){var r=n.originalEvent,i=r.pointerId.toString();n.type==Se.POINTERUP?delete this.trackedPointers_[i]:(n.type==Se.POINTERDOWN||i in this.trackedPointers_)&&(this.trackedPointers_[i]=r),this.targetPointers=sG(this.trackedPointers_)}},e}(Ha);function kg(t){var e=arguments;return function(n){for(var r=!0,i=0,o=e.length;i<o&&(r=r&&e[i](n));++i);return r}}var V$=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},DI=function(t){return!t.map.getTargetElement().hasAttribute("tabindex")||function(t){return t.target.getTargetElement().contains(document.activeElement)}(t)},j$=Aa,bI=function(t){var e=t.originalEvent;return 0==e.button&&!(PG&&NG&&e.ctrlKey)},II=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},B$=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},TI=function(t){var n=t.originalEvent.target.tagName;return"INPUT"!==n&&"SELECT"!==n&&"TEXTAREA"!==n},jg=function(t){var e=t.originalEvent;return Ce(void 0!==e,56),"mouse"==e.pointerType},H$=function(t){var e=t.originalEvent;return Ce(void 0!==e,56),e.isPrimary&&0===e.button},U$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const $$=function(t){function e(n){var r=t.call(this,{stopDown:uc})||this,i=n||{};r.kinetic_=i.kinetic,r.lastCentroid=null,r.panning_=!1;var o=i.condition?i.condition:kg(II,H$);return r.condition_=i.onFocusOnly?kg(DI,o):o,r.noKinetic_=!1,r}return U$(e,t),e.prototype.handleDragEvent=function(n){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var r=this.targetPointers,i=Vg(r);if(r.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){var o=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],a=n.map.getView();(function(t,e){t[0]*=e,t[1]*=e})(o,a.getResolution()),cg(o,a.getRotation()),a.adjustCenterInternal(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=r.length,n.originalEvent.preventDefault()},e.prototype.handleUpEvent=function(n){var r=n.map,i=r.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var o=this.kinetic_.getDistance(),s=this.kinetic_.getAngle(),a=i.getCenterInternal(),u=r.getPixelFromCoordinateInternal(a),l=r.getCoordinateFromPixelInternal([u[0]-o*Math.cos(s),u[1]-o*Math.sin(s)]);i.animateInternal({center:i.getConstrainedCenter(l),duration:500,easing:ss})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},e.prototype.handleDownEvent=function(n){if(this.targetPointers.length>0&&this.condition_(n)){var i=n.map.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},e}(Ua);var z$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const q$=function(t){function e(n){var r=this,i=n||{};return(r=t.call(this,{stopDown:uc})||this).condition_=i.condition?i.condition:V$,r.lastAngle_=void 0,r.duration_=void 0!==i.duration?i.duration:250,r}return z$(e,t),e.prototype.handleDragEvent=function(n){if(jg(n)){var r=n.map,i=r.getView();if(i.getConstraints().rotation!==Tg){var o=r.getSize(),s=n.pixel,a=Math.atan2(o[1]/2-s[1],s[0]-o[0]/2);void 0!==this.lastAngle_&&i.adjustRotationInternal(-(a-this.lastAngle_)),this.lastAngle_=a}}},e.prototype.handleUpEvent=function(n){return!jg(n)||(n.map.getView().endInteraction(this.duration_),!1)},e.prototype.handleDownEvent=function(n){return!(!jg(n)||!bI(n)||!this.condition_(n)||(n.map.getView().beginInteraction(),this.lastAngle_=void 0,0))},e}(Ua);var K$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Y$=function(t){function e(n){var r=t.call(this)||this;return r.geometry_=null,r.element_=document.createElement("div"),r.element_.style.position="absolute",r.element_.style.pointerEvents="auto",r.element_.className="ol-box "+n,r.map_=null,r.startPixel_=null,r.endPixel_=null,r}return K$(e,t),e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var n=this.startPixel_,r=this.endPixel_,i="px",o=this.element_.style;o.left=Math.min(n[0],r[0])+i,o.top=Math.min(n[1],r[1])+i,o.width=Math.abs(r[0]-n[0])+i,o.height=Math.abs(r[1]-n[1])+i},e.prototype.setMap=function(n){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var r=this.element_.style;r.left="inherit",r.top="inherit",r.width="inherit",r.height="inherit"}this.map_=n,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(n,r){this.startPixel_=n,this.endPixel_=r,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var n=this.startPixel_,r=this.endPixel_,o=[n,[n[0],r[1]],r,[r[0],n[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);o[4]=o[0].slice(),this.geometry_?this.geometry_.setCoordinates([o]):this.geometry_=new n$([o])},e.prototype.getGeometry=function(){return this.geometry_},e}(oc);var MI=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bg=function(t){function e(n,r,i){var o=t.call(this,n)||this;return o.coordinate=r,o.mapBrowserEvent=i,o}return MI(e,t),e}(Cr);const Q$=function(t){function e(n){var r=t.call(this)||this,i=n||{};return r.box_=new Y$(i.className||"ol-dragbox"),r.minArea_=void 0!==i.minArea?i.minArea:64,i.onBoxEnd&&(r.onBoxEnd=i.onBoxEnd),r.startPixel_=null,r.condition_=i.condition?i.condition:bI,r.boxEndCondition_=i.boxEndCondition?i.boxEndCondition:r.defaultBoxEndCondition,r}return MI(e,t),e.prototype.defaultBoxEndCondition=function(n,r,i){var o=i[0]-r[0],s=i[1]-r[1];return o*o+s*s>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(n){this.box_.setPixels(this.startPixel_,n.pixel),this.dispatchEvent(new Bg("boxdrag",n.coordinate,n))},e.prototype.handleUpEvent=function(n){this.box_.setMap(null);var r=this.boxEndCondition_(n,this.startPixel_,n.pixel);return r&&this.onBoxEnd(n),this.dispatchEvent(new Bg(r?"boxend":"boxcancel",n.coordinate,n)),!1},e.prototype.handleDownEvent=function(n){return!!this.condition_(n)&&(this.startPixel_=n.pixel,this.box_.setMap(n.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Bg("boxstart",n.coordinate,n)),!0)},e.prototype.onBoxEnd=function(n){},e}(Ua);var J$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const t4=function(t){function e(n){var r=this,i=n||{};return(r=t.call(this,{condition:i.condition?i.condition:B$,className:i.className||"ol-dragzoom",minArea:i.minArea})||this).duration_=void 0!==i.duration?i.duration:200,r.out_=void 0!==i.out&&i.out,r}return J$(e,t),e.prototype.onBoxEnd=function(n){var r=this.getMap(),i=r.getView(),o=r.getSize(),s=this.getGeometry().getExtent();if(this.out_){var a=i.calculateExtentInternal(o),u=function(t,e){return function(t,e){for(var n=0,r=e.length;n<r;++n)Oa(t,e[n]);return t}(Zo(void 0),t)}([r.getPixelFromCoordinateInternal(Xo(s)),r.getPixelFromCoordinateInternal(Qo(s))]);(function(t,e){var n=(t[2]-t[0])/2*(e-1),r=(t[3]-t[1])/2*(e-1);t[0]-=n,t[2]+=n,t[1]-=r,t[3]+=r})(a,1/i.getResolutionForExtentInternal(u,o)),s=a}var c=i.getConstrainedResolution(i.getResolutionForExtentInternal(s,o)),f=i.getConstrainedCenter(Wr(s),c);i.animateInternal({resolution:c,center:f,duration:this.duration_,easing:ss})},e}(Q$);var n4=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const i4=function(t){function e(n){var r=t.call(this)||this,i=n||{};return r.defaultCondition_=function(o){return II(o)&&TI(o)},r.condition_=void 0!==i.condition?i.condition:r.defaultCondition_,r.duration_=void 0!==i.duration?i.duration:100,r.pixelDelta_=void 0!==i.pixelDelta?i.pixelDelta:128,r}return n4(e,t),e.prototype.handleEvent=function(n){var r=!1;if("keydown"==n.type){var i=n.originalEvent,o=i.keyCode;if(this.condition_(n)&&(40==o||37==o||39==o||38==o)){var a=n.map.getView(),u=a.getResolution()*this.pixelDelta_,l=0,c=0;40==o?c=-u:37==o?l=-u:39==o?l=u:c=u;var f=[l,c];cg(f,a.getRotation()),function(t,e,n){var r=t.getCenterInternal();r&&t.animateInternal({duration:void 0!==n?n:250,easing:S8,center:t.getConstrainedCenter([r[0]+e[0],r[1]+e[1]])})}(a,f,this.duration_),i.preventDefault(),r=!0}}return!r},e}(Ha);var o4=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const a4=function(t){function e(n){var r=t.call(this)||this,i=n||{};return r.condition_=i.condition?i.condition:TI,r.delta_=i.delta?i.delta:1,r.duration_=void 0!==i.duration?i.duration:100,r}return o4(e,t),e.prototype.handleEvent=function(n){var r=!1;if("keydown"==n.type||"keypress"==n.type){var i=n.originalEvent,o=i.charCode;if(this.condition_(n)&&(o=="+".charCodeAt(0)||o=="-".charCodeAt(0))){var s=n.map,a=o=="+".charCodeAt(0)?this.delta_:-this.delta_;Lg(s.getView(),a,void 0,this.duration_),i.preventDefault(),r=!0}}return!r},e}(Ha),l4=function(){function t(e,n,r){this.decay_=e,this.minVelocity_=n,this.delay_=r,this.points_=[],this.angle_=0,this.initialVelocity_=0}return t.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},t.prototype.update=function(e,n){this.points_.push(e,n,Date.now())},t.prototype.end=function(){if(this.points_.length<6)return!1;var e=Date.now()-this.delay_,n=this.points_.length-3;if(this.points_[n+2]<e)return!1;for(var r=n-3;r>0&&this.points_[r+2]>e;)r-=3;var i=this.points_[n+2]-this.points_[r+2];if(i<1e3/60)return!1;var o=this.points_[n]-this.points_[r],s=this.points_[n+1]-this.points_[r+1];return this.angle_=Math.atan2(s,o),this.initialVelocity_=Math.sqrt(o*o+s*s)/i,this.initialVelocity_>this.minVelocity_},t.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},t.prototype.getAngle=function(){return this.angle_},t}();var c4=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const d4=function(t){function e(n){var r=this,i=n||{};(r=t.call(this,i)||this).totalDelta_=0,r.lastDelta_=0,r.maxDelta_=void 0!==i.maxDelta?i.maxDelta:1,r.duration_=void 0!==i.duration?i.duration:250,r.timeout_=void 0!==i.timeout?i.timeout:80,r.useAnchor_=void 0===i.useAnchor||i.useAnchor,r.constrainResolution_=void 0!==i.constrainResolution&&i.constrainResolution;var o=i.condition?i.condition:j$;return r.condition_=i.onFocusOnly?kg(DI,o):o,r.lastAnchor_=null,r.startTime_=void 0,r.mode_=void 0,r.trackpadEventGap_=400,r.deltaPerZoom_=300,r}return c4(e,t),e.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)},e.prototype.handleEvent=function(n){if(!this.condition_(n))return!0;if("wheel"!==n.type)return!0;var s,i=n.map,o=n.originalEvent;if(o.preventDefault(),this.useAnchor_&&(this.lastAnchor_=n.coordinate),"wheel"==n.type&&(s=o.deltaY,OG&&o.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(s/=vc),o.deltaMode===WheelEvent.DOM_DELTA_LINE&&(s*=40)),0===s)return!1;this.lastDelta_=s;var a=Date.now();void 0===this.startTime_&&(this.startTime_=a),(!this.mode_||a-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(s)<4?"trackpad":"wheel");var u=i.getView();if("trackpad"===this.mode_&&!u.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(u.getAnimating()&&u.cancelAnimations(),u.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),u.adjustZoom(-s/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=a,!1;this.totalDelta_+=s;var l=Math.max(this.timeout_-(a-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),l),!1},e.prototype.handleWheelZoom_=function(n){var r=n.getView();r.getAnimating()&&r.cancelAnimations();var i=-it(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(r.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),Lg(r,i,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(n){this.useAnchor_=n,n||(this.lastAnchor_=null)},e}(Ha);var h4=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const g4=function(t){function e(n){var r=this,i=n||{},o=i;return o.stopDown||(o.stopDown=uc),(r=t.call(this,o)||this).anchor_=null,r.lastAngle_=void 0,r.rotating_=!1,r.rotationDelta_=0,r.threshold_=void 0!==i.threshold?i.threshold:.3,r.duration_=void 0!==i.duration?i.duration:250,r}return h4(e,t),e.prototype.handleDragEvent=function(n){var r=0,i=this.targetPointers[0],o=this.targetPointers[1],s=Math.atan2(o.clientY-i.clientY,o.clientX-i.clientX);if(void 0!==this.lastAngle_){var a=s-this.lastAngle_;this.rotationDelta_+=a,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),r=a}this.lastAngle_=s;var u=n.map,l=u.getView();if(l.getConstraints().rotation!==Tg){var c=u.getViewport().getBoundingClientRect(),f=Vg(this.targetPointers);f[0]-=c.left,f[1]-=c.top,this.anchor_=u.getCoordinateFromPixelInternal(f),this.rotating_&&(u.render(),l.adjustRotationInternal(r,this.anchor_))}},e.prototype.handleUpEvent=function(n){return!(this.targetPointers.length<2&&(n.map.getView().endInteraction(this.duration_),1))},e.prototype.handleDownEvent=function(n){if(this.targetPointers.length>=2){var r=n.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||r.getView().beginInteraction(),!0}return!1},e}(Ua);var _4=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const y4=function(t){function e(n){var r=this,i=n||{},o=i;return o.stopDown||(o.stopDown=uc),(r=t.call(this,o)||this).anchor_=null,r.duration_=void 0!==i.duration?i.duration:400,r.lastDistance_=void 0,r.lastScaleDelta_=1,r}return _4(e,t),e.prototype.handleDragEvent=function(n){var r=1,i=this.targetPointers[0],o=this.targetPointers[1],s=i.clientX-o.clientX,a=i.clientY-o.clientY,u=Math.sqrt(s*s+a*a);void 0!==this.lastDistance_&&(r=this.lastDistance_/u),this.lastDistance_=u;var l=n.map,c=l.getView();1!=r&&(this.lastScaleDelta_=r);var f=l.getViewport().getBoundingClientRect(),d=Vg(this.targetPointers);d[0]-=f.left,d[1]-=f.top,this.anchor_=l.getCoordinateFromPixelInternal(d),l.render(),c.adjustResolutionInternal(r,this.anchor_)},e.prototype.handleUpEvent=function(n){return!(this.targetPointers.length<2&&(n.map.getView().endInteraction(this.duration_,this.lastScaleDelta_>1?1:-1),1))},e.prototype.handleDownEvent=function(n){if(this.targetPointers.length>=2){var r=n.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||r.getView().beginInteraction(),!0}return!1},e}(Ua);var E4=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const w4=function(t){function e(n){return(n=ot({},n)).controls||(n.controls=function(t){var e={},n=new er;return(void 0===e.zoom||e.zoom)&&n.push(new T$(e.zoomOptions)),(void 0===e.rotate||e.rotate)&&n.push(new D$(e.rotateOptions)),(void 0===e.attribution||e.attribution)&&n.push(new E$(e.attributionOptions)),n}()),n.interactions||(n.interactions=function(t){var e={onFocusOnly:!0}||{},n=new er,r=new l4(-.005,.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&n.push(new q$),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&n.push(new P$({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&n.push(new $$({onFocusOnly:e.onFocusOnly,kinetic:r})),(void 0===e.pinchRotate||e.pinchRotate)&&n.push(new g4),(void 0===e.pinchZoom||e.pinchZoom)&&n.push(new y4({duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(n.push(new i4),n.push(new a4({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&n.push(new d4({onFocusOnly:e.onFocusOnly,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&n.push(new t4({duration:e.zoomDuration})),n}()),t.call(this,n)||this}return E4(e,t),e.prototype.createRenderer=function(){return new HG(this)},e}(g$);var D4=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const I4=function(t){function e(n){var r=this,i=n||{},o=ot({},i);return delete o.preload,delete o.useInterimTilesOnError,(r=t.call(this,o)||this).setPreload(void 0!==i.preload?i.preload:0),r.setUseInterimTilesOnError(void 0===i.useInterimTilesOnError||i.useInterimTilesOnError),r}return D4(e,t),e.prototype.getPreload=function(){return this.get("preload")},e.prototype.setPreload=function(n){this.set("preload",n)},e.prototype.getUseInterimTilesOnError=function(){return this.get("useInterimTilesOnError")},e.prototype.setUseInterimTilesOnError=function(n){this.set("useInterimTilesOnError",n)},e}(Tb);var T4=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const x4=function(t){function e(n){var r=t.call(this)||this;return r.boundHandleImageChange_=r.handleImageChange_.bind(r),r.layer_=n,r.declutterExecutorGroup=null,r}return T4(e,t),e.prototype.getFeatures=function(n){return Ee()},e.prototype.prepareFrame=function(n){return Ee()},e.prototype.renderFrame=function(n,r){return Ee()},e.prototype.loadedTileCallback=function(n,r,i){n[r]||(n[r]={}),n[r][i.tileCoord.toString()]=i},e.prototype.createLoadedTileFinder=function(n,r,i){return function(o,s){var a=this.loadedTileCallback.bind(this,i,o);return n.forEachLoadedTile(r,o,s,a)}.bind(this)},e.prototype.forEachFeatureAtCoordinate=function(n,r,i,o,s){},e.prototype.getDataAtPixel=function(n,r,i){return Ee()},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleFontsChanged=function(){},e.prototype.handleImageChange_=function(n){2===n.target.getState()&&this.renderIfReadyAndVisible()},e.prototype.loadImage=function(n){var r=n.getState();return 2!=r&&3!=r&&n.addEventListener("change",this.boundHandleImageChange_),0==r&&(n.load(),r=n.getState()),2==r},e.prototype.renderIfReadyAndVisible=function(){var n=this.getLayer();n.getVisible()&&"ready"==n.getSourceState()&&n.changed()},e}(wb);var A4=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const xI=function(t){function e(n){var r=t.call(this,n)||this;return r.container=null,r.tempTransform=[1,0,0,1,0,0],r.pixelTransform=[1,0,0,1,0,0],r.inversePixelTransform=[1,0,0,1,0,0],r.context=null,r.containerReused=!1,r}return A4(e,t),e.prototype.useContainer=function(n,r,i){var s,a,o=this.getLayer().getClassName();if(n&&""===n.style.opacity&&n.className===o&&(u=n.firstElementChild)instanceof HTMLCanvasElement&&(a=u.getContext("2d")),!a||0!==a.canvas.width&&a.canvas.style.transform!==r?this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1):(this.container=n,this.context=a,this.containerReused=!0),!this.container){(s=document.createElement("div")).className=o;var u,l=s.style;l.position="absolute",l.width="100%",l.height="100%",a=Dr(),s.appendChild(u=a.canvas),(l=u.style).position="absolute",l.left="0",l.transformOrigin="top left",this.container=s,this.context=a}},e.prototype.clip=function(n,r,i){var o=r.pixelRatio,s=r.size[0]*o/2,a=r.size[1]*o/2,u=r.viewState.rotation,l=Kr(i),c=Qo(i),f=Pa(i),d=Xo(i);ut(r.coordinateToPixelTransform,l),ut(r.coordinateToPixelTransform,c),ut(r.coordinateToPixelTransform,f),ut(r.coordinateToPixelTransform,d),n.save(),Vb(n,-u,s,a),n.beginPath(),n.moveTo(l[0]*o,l[1]*o),n.lineTo(c[0]*o,c[1]*o),n.lineTo(f[0]*o,f[1]*o),n.lineTo(d[0]*o,d[1]*o),n.clip(),Vb(n,u,s,a)},e.prototype.clipUnrotated=function(n,r,i){var o=Kr(i),s=Qo(i),a=Pa(i),u=Xo(i);ut(r.coordinateToPixelTransform,o),ut(r.coordinateToPixelTransform,s),ut(r.coordinateToPixelTransform,a),ut(r.coordinateToPixelTransform,u);var l=this.inversePixelTransform;ut(l,o),ut(l,s),ut(l,a),ut(l,u),n.save(),n.beginPath(),n.moveTo(Math.round(o[0]),Math.round(o[1])),n.lineTo(Math.round(s[0]),Math.round(s[1])),n.lineTo(Math.round(a[0]),Math.round(a[1])),n.lineTo(Math.round(u[0]),Math.round(u[1])),n.clip()},e.prototype.dispatchRenderEvent_=function(n,r,i){var o=this.getLayer();if(o.hasListener(n)){var s=new Ab(n,this.inversePixelTransform,i,r);o.dispatchEvent(s)}},e.prototype.preRender=function(n,r){this.dispatchRenderEvent_("prerender",n,r)},e.prototype.postRender=function(n,r){this.dispatchRenderEvent_("postrender",n,r)},e.prototype.getRenderTransform=function(n,r,i,o,s,a,u){var f=o/r;return zr(this.tempTransform,s/2,a/2,f,-f,-i,-n[0]+u,-n[1])},e.prototype.getDataAtPixel=function(n,r,i){var c,o=ut(this.inversePixelTransform,n.slice()),s=this.context,u=this.getLayer().getExtent();if(u&&!ag(u,ut(r.pixelToCoordinateTransform,n.slice())))return null;try{var f=Math.round(o[0]),d=Math.round(o[1]),h=document.createElement("canvas"),p=h.getContext("2d");h.width=1,h.height=1,p.clearRect(0,0,1,1),p.drawImage(s.canvas,f,d,1,1,0,0,1,1),c=p.getImageData(0,0,1,1).data}catch(_){return"SecurityError"===_.name?new Uint8Array:c}return 0===c[3]?null:c},e}(x4);var AI=function(){function t(e,n,r,i){this.minX=e,this.maxX=n,this.minY=r,this.maxY=i}return t.prototype.contains=function(e){return this.containsXY(e[1],e[2])},t.prototype.containsTileRange=function(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY},t.prototype.containsXY=function(e,n){return this.minX<=e&&e<=this.maxX&&this.minY<=n&&n<=this.maxY},t.prototype.equals=function(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY},t.prototype.extend=function(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)},t.prototype.getHeight=function(){return this.maxY-this.minY+1},t.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},t.prototype.getWidth=function(){return this.maxX-this.minX+1},t.prototype.intersects=function(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY},t}();function Ug(t,e,n,r,i){return void 0!==i?(i.minX=t,i.maxX=e,i.minY=n,i.maxY=r,i):new AI(t,e,n,r)}const RI=AI;var S4=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const O4=function(t){function e(n){var r=t.call(this,n)||this;return r.extentChanged=!0,r.renderedExtent_=null,r.renderedProjection=null,r.renderedTiles=[],r.newTiles_=!1,r.tmpExtent=[1/0,1/0,-1/0,-1/0],r.tmpTileRange_=new RI(0,0,0,0),r}return S4(e,t),e.prototype.isDrawableTile=function(n){var r=this.getLayer(),i=n.getState(),o=r.getUseInterimTilesOnError();return 2==i||4==i||3==i&&!o},e.prototype.getTile=function(n,r,i,o){var s=o.pixelRatio,a=o.viewState.projection,u=this.getLayer(),c=u.getSource().getTile(n,r,i,s,a);return 3==c.getState()&&(u.getUseInterimTilesOnError()?u.getPreload()>0&&(this.newTiles_=!0):c.setState(2)),this.isDrawableTile(c)||(c=c.getInterimTile()),c},e.prototype.loadedTileCallback=function(n,r,i){return!!this.isDrawableTile(i)&&t.prototype.loadedTileCallback.call(this,n,r,i)},e.prototype.prepareFrame=function(n){return!!this.getLayer().getSource()},e.prototype.renderFrame=function(n,r){var i=n.layerStatesArray[n.layerIndex],o=n.viewState,s=o.projection,a=o.resolution,u=o.center,l=o.rotation,c=n.pixelRatio,f=this.getLayer(),d=f.getSource(),h=d.getRevision(),p=d.getTileGridForProjection(s),_=p.getZForResolution(a,d.zDirection),g=p.getResolution(_),m=n.extent,y=i.extent&&Qr(i.extent);y&&(m=qr(m,Qr(i.extent)));var v=d.getTilePixelRatio(c),E=Math.round(n.size[0]*v),w=Math.round(n.size[1]*v);if(l){var M=Math.round(Math.sqrt(E*E+w*w));E=M,w=M}var P=g*E/2/v,N=g*w/2/v,j=[u[0]-P,u[1]-N,u[0]+P,u[1]+N],V=p.getTileRangeForExtentAndZ(m,_),x={};x[_]={};var te=this.createLoadedTileFinder(d,s,x),B=this.tmpExtent,C=this.tmpTileRange_;this.newTiles_=!1;for(var b=V.minX;b<=V.maxX;++b)for(var D=V.minY;D<=V.maxY;++D){var T=this.getTile(_,b,D,n);if(this.isDrawableTile(T)){var F=Lt(this);if(2==T.getState()){x[_][T.tileCoord.toString()]=T;var S=T.inTransition(F);!this.newTiles_&&(S||-1===this.renderedTiles.indexOf(T))&&(this.newTiles_=!0)}if(1===T.getAlpha(F,n.time))continue}var L=p.getTileCoordChildTileRange(T.tileCoord,C,B),H=!1;L&&(H=te(_+1,L)),H||p.forEachTileCoordParentTileRange(T.tileCoord,te,C,B)}var $=g/a;zr(this.pixelTransform,n.size[0]/2,n.size[1]/2,1/v,1/v,l,-E/2,-w/2);var Ze=kb(this.pixelTransform);this.useContainer(r,Ze,i.opacity);var W=this.context,me=W.canvas;cc(this.inversePixelTransform,this.pixelTransform),zr(this.tempTransform,E/2,w/2,$,$,0,-E/2,-w/2),me.width!=E||me.height!=w?(me.width=E,me.height=w):this.containerReused||W.clearRect(0,0,E,w),y&&this.clipUnrotated(W,n,y),ot(W,d.getContextOptions()),this.preRender(W,n),this.renderedTiles.length=0;var le,Ie,ct,Le=Object.keys(x).map(Number);Le.sort(sc),1!==i.opacity||this.containerReused&&!d.getOpaque(n.viewState.projection)?(le=[],Ie=[]):Le=Le.reverse();for(var Mr=Le.length-1;Mr>=0;--Mr){var Vn=Le[Mr],qa=d.getTilePixelSize(Vn,c,s),Ka=p.getResolution(Vn)/g,Jc=qa[0]*Ka*$,ef=qa[1]*Ka*$,J=p.getTileCoordForCoordAndZ(Kr(j),Vn),Ue=p.getTileCoordExtent(J),ii=ut(this.tempTransform,[v*(Ue[0]-j[0])/g,v*(j[3]-Ue[3])/g]),rr=v*d.getGutterForProjection(s),iM=x[Vn];for(var Y6 in iM){var oM=(T=iM[Y6]).tileCoord,sM=ii[0]-(J[1]-oM[1])*Jc,X6=Math.round(sM+Jc),aM=ii[1]-(J[2]-oM[2])*ef,Q6=Math.round(aM+ef),tf=X6-(b=Math.round(sM)),nf=Q6-(D=Math.round(aM)),uM=_===Vn;if(!(S=uM&&1!==T.getAlpha(Lt(this),n.time)))if(le){W.save(),ct=[b,D,b+tf,D,b+tf,D+nf,b,D+nf];for(var rf=0,J6=le.length;rf<J6;++rf)if(_!==Vn&&Vn<Ie[rf]){var oi=le[rf];W.beginPath(),W.moveTo(ct[0],ct[1]),W.lineTo(ct[2],ct[3]),W.lineTo(ct[4],ct[5]),W.lineTo(ct[6],ct[7]),W.moveTo(oi[6],oi[7]),W.lineTo(oi[4],oi[5]),W.lineTo(oi[2],oi[3]),W.lineTo(oi[0],oi[1]),W.clip()}le.push(ct),Ie.push(Vn)}else W.clearRect(b,D,tf,nf);this.drawTileImage(T,n,b,D,tf,nf,rr,uM,i.opacity),le&&!S&&W.restore(),this.renderedTiles.push(T),this.updateUsedTiles(n.usedTiles,d,T)}}return this.renderedRevision=h,this.renderedResolution=g,this.extentChanged=!this.renderedExtent_||!Yo(this.renderedExtent_,j),this.renderedExtent_=j,this.renderedPixelRatio=c,this.renderedProjection=s,this.manageTilePyramid(n,d,p,c,s,m,_,f.getPreload()),this.scheduleExpireCache(n,d),this.postRender(W,n),i.extent&&W.restore(),Ze!==me.style.transform&&(me.style.transform=Ze),this.container},e.prototype.drawTileImage=function(n,r,i,o,s,a,u,l,c){var f=this.getTileImage(n);if(f){var d=Lt(this),h=l?n.getAlpha(d,r.time):1,p=c*h,_=p!==this.context.globalAlpha;_&&(this.context.save(),this.context.globalAlpha=p),this.context.drawImage(f,u,u,f.width-2*u,f.height-2*u,i,o,s,a),_&&this.context.restore(),1!==h?r.animate=!0:l&&n.endTransition(d)}},e.prototype.getImage=function(){var n=this.context;return n?n.canvas:null},e.prototype.getTileImage=function(n){return n.getImage()},e.prototype.scheduleExpireCache=function(n,r){if(r.canExpireCache()){var i=function(o,s,a){var u=Lt(o);u in a.usedTiles&&o.expireCache(a.viewState.projection,a.usedTiles[u])}.bind(null,r);n.postRenderFunctions.push(i)}},e.prototype.updateUsedTiles=function(n,r,i){var o=Lt(r);o in n||(n[o]={}),n[o][i.getKey()]=!0},e.prototype.manageTilePyramid=function(n,r,i,o,s,a,u,l,c){var f=Lt(r);f in n.wantedTiles||(n.wantedTiles[f]={});var g,m,y,v,E,w,d=n.wantedTiles[f],h=n.tileQueue,_=0;for(w=i.getMinZoom();w<=u;++w)for(m=i.getTileRangeForExtentAndZ(a,w,m),y=i.getResolution(w),v=m.minX;v<=m.maxX;++v)for(E=m.minY;E<=m.maxY;++E)u-w<=l?(++_,0==(g=r.getTile(w,v,E,o,s)).getState()&&(d[g.getKey()]=!0,h.isKeyQueued(g.getKey())||h.enqueue([g,f,i.getTileCoordCenter(g.tileCoord),y])),void 0!==c&&c(g)):r.useTile(w,v,E,s);r.updateCacheSize(_,s)},e}(xI);var P4=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const OI=function(t){function e(n){return t.call(this,n)||this}return P4(e,t),e.prototype.createRenderer=function(){return new O4(this)},e}(I4);var F4=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const V4=function(t){function e(n){return t.call(this,n||{})||this}return F4(e,t),e}(Tb);var k4=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const B4=function(t){function e(n){var r=t.call(this,n)||this;return r.image_=null,r}return k4(e,t),e.prototype.getImage=function(){return this.image_?this.image_.getImage():null},e.prototype.prepareFrame=function(n){var r=n.layerStatesArray[n.layerIndex],i=n.pixelRatio,o=n.viewState,s=o.resolution,a=this.getLayer().getSource(),u=n.viewHints,l=n.extent;if(void 0!==r.extent&&(l=qr(l,Qr(r.extent))),!u[0]&&!u[1]&&!hc(l))if(a){var d=a.getImage(l,s,i,o.projection);d&&this.loadImage(d)&&(this.image_=d)}else this.image_=null;return!!this.image_},e.prototype.renderFrame=function(n,r){var i=this.image_,o=i.getExtent(),s=i.getResolution(),a=i.getPixelRatio(),u=n.layerStatesArray[n.layerIndex],l=n.pixelRatio,c=n.viewState,f=c.center,h=n.size,p=l*s/(c.resolution*a),_=Math.round(h[0]*l),g=Math.round(h[1]*l),m=c.rotation;if(m){var y=Math.round(Math.sqrt(_*_+g*g));_=y,g=y}zr(this.pixelTransform,n.size[0]/2,n.size[1]/2,1/l,1/l,m,-_/2,-g/2),cc(this.inversePixelTransform,this.pixelTransform);var v=kb(this.pixelTransform);this.useContainer(r,v,u.opacity);var E=this.context,w=E.canvas;w.width!=_||w.height!=g?(w.width=_,w.height=g):this.containerReused||E.clearRect(0,0,_,g);var M=!1;if(u.extent){var P=Qr(u.extent);(M=!lb(P,n.extent)&&dc(P,n.extent))&&this.clipUnrotated(E,n,P)}var N=i.getImage(),j=zr(this.tempTransform,_/2,g/2,p,p,0,a*(o[0]-f[0])/s,a*(f[1]-o[3])/s);this.renderedResolution=s*l/a;var V=j[4],x=j[5],te=N.width*j[0],B=N.height*j[3];if(ot(E,this.getLayer().getSource().getContextOptions()),this.preRender(E,n),te>=.5&&B>=.5){var C=u.opacity,b=void 0;1!==C&&(b=this.context.globalAlpha,this.context.globalAlpha=C),this.context.drawImage(N,0,0,+N.width,+N.height,Math.round(V),Math.round(x),Math.round(te),Math.round(B)),1!==C&&(this.context.globalAlpha=b)}return this.postRender(E,n),M&&E.restore(),v!==w.style.transform&&(w.style.transform=v),this.container},e}(xI);var H4=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Vc=function(t){function e(n){return t.call(this,n)||this}return H4(e,t),e.prototype.createRenderer=function(){return new B4(this)},e}(V4);var G4=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Gg=function(t){function e(n,r,i,o){var s=t.call(this)||this;return s.extent=n,s.pixelRatio_=i,s.resolution=r,s.state=o,s}return G4(e,t),e.prototype.changed=function(){this.dispatchEvent("change")},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return Ee()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){Ee()},e}(Fa);var z4=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const q4=function(t){function e(n,r,i,o,s){var a=this;return(a=t.call(this,n,r,i,void 0!==s?0:2)||this).loader_=void 0!==s?s:null,a.canvas_=o,a.error_=null,a}return z4(e,t),e.prototype.getError=function(){return this.error_},e.prototype.handleLoad_=function(n){n?(this.error_=n,this.state=3):this.state=2,this.changed()},e.prototype.load=function(){0==this.state&&(this.state=1,this.changed(),this.loader_(this.handleLoad_.bind(this)))},e.prototype.getImage=function(){return this.canvas_},e}(Gg),FI=function(){function t(e,n,r,i,o,s){this.sourceProj_=e,this.targetProj_=n;var a={},u=Ba(this.targetProj_,this.sourceProj_);this.transformInv_=function(v){var E=v[0]+"/"+v[1];return a[E]||(a[E]=u(v)),a[E]},this.maxSourceExtent_=i,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&Be(i)==Be(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Be(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Be(this.targetProj_.getExtent()):null;var l=Kr(r),c=Qo(r),f=Pa(r),d=Xo(r),h=this.transformInv_(l),p=this.transformInv_(c),_=this.transformInv_(f),g=this.transformInv_(d),m=10+(s?Math.max(0,Math.ceil(YU(fc(r)/(s*s*256*256)))):0);if(this.addQuad_(l,c,f,d,h,p,_,g,m),this.wrapsXInSource_){var y=1/0;this.triangles_.forEach(function(v,E,w){y=Math.min(y,v.source[0][0],v.source[1][0],v.source[2][0])}),this.triangles_.forEach(function(v){if(Math.max(v.source[0][0],v.source[1][0],v.source[2][0])-y>this.sourceWorldWidth_/2){var E=[[v.source[0][0],v.source[0][1]],[v.source[1][0],v.source[1][1]],[v.source[2][0],v.source[2][1]]];E[0][0]-y>this.sourceWorldWidth_/2&&(E[0][0]-=this.sourceWorldWidth_),E[1][0]-y>this.sourceWorldWidth_/2&&(E[1][0]-=this.sourceWorldWidth_),E[2][0]-y>this.sourceWorldWidth_/2&&(E[2][0]-=this.sourceWorldWidth_);var w=Math.min(E[0][0],E[1][0],E[2][0]);Math.max(E[0][0],E[1][0],E[2][0])-w<this.sourceWorldWidth_/2&&(v.source=E)}}.bind(this))}a={}}return t.prototype.addTriangle_=function(e,n,r,i,o,s){this.triangles_.push({source:[i,o,s],target:[e,n,r]})},t.prototype.addQuad_=function(e,n,r,i,o,s,a,u,l){var c=ab([o,s,a,u]),f=this.sourceWorldWidth_?Be(c)/this.sourceWorldWidth_:null,d=this.sourceWorldWidth_,h=this.sourceProj_.canWrapX()&&f>.5&&f<1,p=!1;if(l>0&&(this.targetProj_.isGlobal()&&this.targetWorldWidth_&&(p=Be(ab([e,n,r,i]))/this.targetWorldWidth_>.25||p),!h&&this.sourceProj_.isGlobal()&&f&&(p=f>.25||p)),!(!p&&this.maxSourceExtent_&&isFinite(c[0])&&isFinite(c[1])&&isFinite(c[2])&&isFinite(c[3]))||dc(c,this.maxSourceExtent_)){var m=0;if(!(p||isFinite(o[0])&&isFinite(o[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(u[0])&&isFinite(u[1])))if(l>0)p=!0;else if(1!=(m=(isFinite(o[0])&&isFinite(o[1])?0:8)+(isFinite(s[0])&&isFinite(s[1])?0:4)+(isFinite(a[0])&&isFinite(a[1])?0:2)+(isFinite(u[0])&&isFinite(u[1])?0:1))&&2!=m&&4!=m&&8!=m)return;if(l>0){if(!p){var v=this.transformInv_([(e[0]+r[0])/2,(e[1]+r[1])/2]),E=void 0;E=h?(es(o[0],d)+es(a[0],d))/2-es(v[0],d):(o[0]+a[0])/2-v[0];var M=(o[1]+a[1])/2-v[1];p=E*E+M*M>this.errorThresholdSquared_}if(p){if(Math.abs(e[0]-r[0])<=Math.abs(e[1]-r[1])){var N=[(n[0]+r[0])/2,(n[1]+r[1])/2],j=this.transformInv_(N),V=[(i[0]+e[0])/2,(i[1]+e[1])/2],x=this.transformInv_(V);this.addQuad_(e,n,N,V,o,s,j,x,l-1),this.addQuad_(V,N,r,i,x,j,a,u,l-1)}else{var te=[(e[0]+n[0])/2,(e[1]+n[1])/2],B=this.transformInv_(te),C=[(r[0]+i[0])/2,(r[1]+i[1])/2],b=this.transformInv_(C);this.addQuad_(e,te,C,i,o,B,b,u,l-1),this.addQuad_(te,n,r,C,B,s,a,b,l-1)}return}}if(h){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(11&m)&&this.addTriangle_(e,r,i,o,a,u),0==(14&m)&&this.addTriangle_(e,r,n,o,a,s),m&&(0==(13&m)&&this.addTriangle_(n,i,e,s,u,o),0==(7&m)&&this.addTriangle_(n,i,r,s,u,a))}},t.prototype.calculateSourceExtent=function(){var e=[1/0,1/0,-1/0,-1/0];return this.triangles_.forEach(function(n,r,i){var o=n.source;Oa(e,o[0]),Oa(e,o[1]),Oa(e,o[2])}),e},t.prototype.getTriangles=function(){return this.triangles_},t}();var zg,$g={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1};function LI(t,e,n,r,i){t.beginPath(),t.moveTo(0,0),t.lineTo(e,n),t.lineTo(r,i),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,r)+1,Math.max(n,i)),t.restore()}function Wg(t,e){return Math.abs(t[4*e]-210)>2||Math.abs(t[4*e+3]-191.25)>2}function qg(t,e,n,r){var i=os(n,e,t),o=qb(e,r,n),s=e.getMetersPerUnit();void 0!==s&&(o*=s);var a=t.getMetersPerUnit();void 0!==a&&(o/=a);var u=t.getExtent();if(!u||ag(u,i)){var l=qb(t,o,i)/o;isFinite(l)&&l>0&&(o/=l)}return o}function VI(t,e,n,r,i,o,s,a,u,l,c,f){var d=Dr(Math.round(n*t),Math.round(n*e));if(ot(d,f),0===u.length)return d.canvas;function h(E){return Math.round(E*n)/n}d.scale(n,n),d.globalCompositeOperation="lighter";var p=[1/0,1/0,-1/0,-1/0];u.forEach(function(E,w,M){!function(t,e){e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3])}(p,E.extent)});var _=Be(p),g=Vt(p),m=Dr(Math.round(n*_/r),Math.round(n*g/r));ot(m,f);var y=n/r;u.forEach(function(E,w,M){var P=E.extent[0]-p[0],N=-(E.extent[3]-p[3]),j=Be(E.extent),V=Vt(E.extent);E.image.width>0&&E.image.height>0&&m.drawImage(E.image,l,l,E.image.width-2*l,E.image.height-2*l,P*y,N*y,j*y,V*y)});var v=Kr(s);return a.getTriangles().forEach(function(E,w,M){var P=E.source,N=E.target,j=P[0][0],V=P[0][1],x=P[1][0],te=P[1][1],B=P[2][0],C=P[2][1],b=h((N[0][0]-v[0])/o),D=h(-(N[0][1]-v[1])/o),T=h((N[1][0]-v[0])/o),F=h(-(N[1][1]-v[1])/o),S=h((N[2][0]-v[0])/o),L=h(-(N[2][1]-v[1])/o),H=j,$=V;j=0,V=0;var W=function(t){for(var e=t.length,n=0;n<e;n++){for(var r=n,i=Math.abs(t[n][n]),o=n+1;o<e;o++){var s=Math.abs(t[o][n]);s>i&&(i=s,r=o)}if(0===i)return null;var a=t[r];t[r]=t[n],t[n]=a;for(var u=n+1;u<e;u++)for(var l=-t[u][n]/t[n][n],c=n;c<e+1;c++)n==c?t[u][c]=0:t[u][c]+=l*t[n][c]}for(var f=new Array(e),d=e-1;d>=0;d--){f[d]=t[d][e]/t[d][d];for(var h=d-1;h>=0;h--)t[h][e]-=t[h][d]*f[d]}return f}([[x-=H,te-=$,0,0,T-b],[B-=H,C-=$,0,0,S-b],[0,0,x,te,F-D],[0,0,B,C,L-D]]);if(W){if(d.save(),d.beginPath(),function(){if(void 0===zg){var t=document.createElement("canvas").getContext("2d");t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",LI(t,4,5,4,0),LI(t,4,5,0,5);var e=t.getImageData(0,0,3,3).data;zg=Wg(e,0)||Wg(e,4)||Wg(e,8)}return zg}()||f===$g){d.moveTo(T,F);for(var Le=b-T,le=D-F,Ie=0;Ie<4;Ie++)d.lineTo(T+h((Ie+1)*Le/4),F+h(Ie*le/3)),3!=Ie&&d.lineTo(T+h((Ie+1)*Le/4),F+h((Ie+1)*le/3));d.lineTo(S,L)}else d.moveTo(T,F),d.lineTo(b,D),d.lineTo(S,L);d.clip(),d.transform(W[0],W[2],W[1],W[3],b,D),d.translate(p[0]-H,p[3]-$),d.scale(r/n,-r/n),d.drawImage(m.canvas,0,0),d.restore()}}),c&&(d.save(),d.globalCompositeOperation="source-over",d.strokeStyle="black",d.lineWidth=1,a.getTriangles().forEach(function(E,w,M){var P=E.target,N=(P[0][0]-v[0])/o,j=-(P[0][1]-v[1])/o,V=(P[1][0]-v[0])/o,x=-(P[1][1]-v[1])/o,te=(P[2][0]-v[0])/o,B=-(P[2][1]-v[1])/o;d.beginPath(),d.moveTo(V,x),d.lineTo(N,j),d.lineTo(te,B),d.closePath(),d.stroke()}),d.restore()),d.canvas}var Q4=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const e5=function(t){function e(n,r,i,o,s,a,u){var l=this,c=n.getExtent(),f=r.getExtent(),d=f?qr(i,f):i,p=qg(n,r,Wr(d),o),g=new FI(n,r,d,c,.5*p,o),y=a(g.calculateSourceExtent(),p,s),v=y?0:4,E=y?y.getPixelRatio():1;return(l=t.call(this,i,o,E,v)||this).targetProj_=r,l.maxSourceExtent_=c,l.triangulation_=g,l.targetResolution_=o,l.targetExtent_=i,l.sourceImage_=y,l.sourcePixelRatio_=E,l.contextOptions_=u,l.canvas_=null,l.sourceListenerKey_=null,l}return Q4(e,t),e.prototype.disposeInternal=function(){1==this.state&&this.unlistenSource_(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.canvas_},e.prototype.getProjection=function(){return this.targetProj_},e.prototype.reproject_=function(){var n=this.sourceImage_.getState();if(2==n){var r=Be(this.targetExtent_)/this.targetResolution_,i=Vt(this.targetExtent_)/this.targetResolution_;this.canvas_=VI(r,i,this.sourcePixelRatio_,this.sourceImage_.getResolution(),0,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.contextOptions_)}this.state=n,this.changed()},e.prototype.load=function(){if(0==this.state){this.state=1,this.changed();var n=this.sourceImage_.getState();2==n||3==n?this.reproject_():(this.sourceListenerKey_=we(this.sourceImage_,"change",function(r){var i=this.sourceImage_.getState();(2==i||3==i)&&(this.unlistenSource_(),this.reproject_())},this),this.sourceImage_.load())}},e.prototype.unlistenSource_=function(){He(this.sourceListenerKey_),this.sourceListenerKey_=null},e}(Gg);var t5=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function kI(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}const kc=function(t){function e(n){var r=t.call(this)||this;return r.projection_=jt(n.projection),r.attributions_=kI(n.attributions),r.attributionsCollapsible_=void 0===n.attributionsCollapsible||n.attributionsCollapsible,r.loading=!1,r.state_=void 0!==n.state?n.state:"ready",r.wrapX_=void 0!==n.wrapX&&n.wrapX,r}return t5(e,t),e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolutions=function(){return Ee()},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.getContextOptions=function(){},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(n){this.attributions_=kI(n),this.changed()},e.prototype.setState=function(n){this.state_=n,this.changed()},e}(wr);var jI=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zg=function(t){function e(n,r){var i=t.call(this,n)||this;return i.image=r,i}return jI(e,t),e}(Cr);const BI=function(t){function e(n){var r=t.call(this,{attributions:n.attributions,projection:n.projection,state:n.state})||this;return r.resolutions_=void 0!==n.resolutions?n.resolutions:null,r.reprojectedImage_=null,r.reprojectedRevision_=0,r.contextOptions_=!1===n.imageSmoothing?$g:void 0,r}return jI(e,t),e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getContextOptions=function(){return this.contextOptions_},e.prototype.findNearestResolution=function(n){if(this.resolutions_){var r=ac(this.resolutions_,n,0);n=this.resolutions_[r]}return n},e.prototype.getImage=function(n,r,i,o){var s=this.getProjection();if(!s||!o||Xr(s,o))return s&&(o=s),this.getImageInternal(n,r,i,o);if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&Xr(this.reprojectedImage_.getProjection(),o)&&this.reprojectedImage_.getResolution()==r&&Yo(this.reprojectedImage_.getExtent(),n))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new e5(s,o,n,r,i,function(a,u,l){return this.getImageInternal(a,u,l,s)}.bind(this),this.contextOptions_),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_},e.prototype.getImageInternal=function(n,r,i,o){return Ee()},e.prototype.handleImageChange=function(n){var r=n.target;switch(r.getState()){case 1:this.loading=!0,this.dispatchEvent(new Zg("imageloadstart",r));break;case 2:this.loading=!1,this.dispatchEvent(new Zg("imageloadend",r));break;case 3:this.loading=!1,this.dispatchEvent(new Zg("imageloaderror",r))}},e}(kc),o5=function(){function t(e){this.highWaterMark=void 0!==e?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return t.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},t.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},t.prototype.containsKey=function(e){return this.entries_.hasOwnProperty(e)},t.prototype.forEach=function(e){for(var n=this.oldest_;n;)e(n.value_,n.key_,this),n=n.newer},t.prototype.get=function(e,n){var r=this.entries_[e];return Ce(void 0!==r,15),r===this.newest_||(r===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(r.newer.older=r.older,r.older.newer=r.newer),r.newer=null,r.older=this.newest_,this.newest_.newer=r,this.newest_=r),r.value_},t.prototype.remove=function(e){var n=this.entries_[e];return Ce(void 0!==n,15),n===this.newest_?(this.newest_=n.older,this.newest_&&(this.newest_.newer=null)):n===this.oldest_?(this.oldest_=n.newer,this.oldest_&&(this.oldest_.older=null)):(n.newer.older=n.older,n.older.newer=n.newer),delete this.entries_[e],--this.count_,n.value_},t.prototype.getCount=function(){return this.count_},t.prototype.getKeys=function(){var r,e=new Array(this.count_),n=0;for(r=this.newest_;r;r=r.older)e[n++]=r.key_;return e},t.prototype.getValues=function(){var r,e=new Array(this.count_),n=0;for(r=this.newest_;r;r=r.older)e[n++]=r.value_;return e},t.prototype.peekLast=function(){return this.oldest_.value_},t.prototype.peekLastKey=function(){return this.oldest_.key_},t.prototype.peekFirstKey=function(){return this.newest_.key_},t.prototype.pop=function(){var e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_},t.prototype.replace=function(e,n){this.get(e),this.entries_[e].value_=n},t.prototype.set=function(e,n){Ce(!(e in this.entries_),16);var r={key_:e,newer:null,older:this.newest_,value_:n};this.newest_?this.newest_.newer=r:this.oldest_=r,this.newest_=r,this.entries_[e]=r,++this.count_},t.prototype.setSize=function(e){this.highWaterMark=e},t}();function HI(t,e,n,r){return void 0!==r?(r[0]=t,r[1]=e,r[2]=n,r):[t,e,n]}function jc(t,e,n){return t+"/"+e+"/"+n}function UI(t){return jc(t[0],t[1],t[2])}var l5=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const GI=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l5(e,t),e.prototype.expireCache=function(n){for(;this.canExpireCache()&&!(this.peekLast().getKey()in n);)this.pop().release()},e.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var i=function(t){return t.split("/").map(Number)}(this.peekFirstKey())[0];this.forEach(function(o){o.tileCoord[0]!==i&&(this.remove(UI(o.tileCoord)),o.release())}.bind(this))}},e}(o5);var f5=[0,0,0];const $I=function(){function t(e){var n;if(this.minZoom=void 0!==e.minZoom?e.minZoom:0,this.resolutions_=e.resolutions,Ce(function(t,e,n){var r=function(s,a){return a-s}||sc;return t.every(function(i,o){if(0===o)return!0;var s=r(t[o-1],i);return!(s>0||0===s)})}(this.resolutions_),17),!e.origins)for(var r=0,i=this.resolutions_.length-1;r<i;++r)if(n){if(this.resolutions_[r]/this.resolutions_[r+1]!==n){n=void 0;break}}else n=this.resolutions_[r]/this.resolutions_[r+1];this.zoomFactor_=n,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==e.origin?e.origin:null,this.origins_=null,void 0!==e.origins&&(this.origins_=e.origins,Ce(this.origins_.length==this.resolutions_.length,20));var o=e.extent;void 0!==o&&!this.origin_&&!this.origins_&&(this.origin_=Kr(o)),Ce(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==e.tileSizes&&(this.tileSizes_=e.tileSizes,Ce(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==e.tileSize?e.tileSize:this.tileSizes_?null:256,Ce(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==o?o:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==e.sizes?this.fullTileRanges_=e.sizes.map(function(s,a){var u=new RI(Math.min(0,s[0]),Math.max(s[0]-1,-1),Math.min(0,s[1]),Math.max(s[1]-1,-1));if(o){var l=this.getTileRangeForExtentAndZ(o,a);u.minX=Math.max(l.minX,u.minX),u.maxX=Math.min(l.maxX,u.maxX),u.minY=Math.max(l.minY,u.minY),u.maxY=Math.min(l.maxY,u.maxY)}return u},this):o&&this.calculateTileRanges_(o)}return t.prototype.forEachTileCoord=function(e,n,r){for(var i=this.getTileRangeForExtentAndZ(e,n),o=i.minX,s=i.maxX;o<=s;++o)for(var a=i.minY,u=i.maxY;a<=u;++a)r([n,o,a])},t.prototype.forEachTileCoordParentTileRange=function(e,n,r,i){var s,a,u=null,l=e[0]-1;for(2===this.zoomFactor_?(s=e[1],a=e[2]):u=this.getTileCoordExtent(e,i);l>=this.minZoom;){if(n(l,2===this.zoomFactor_?Ug(s=Math.floor(s/2),s,a=Math.floor(a/2),a,r):this.getTileRangeForExtentAndZ(u,l,r)))return!0;--l}return!1},t.prototype.getExtent=function(){return this.extent_},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.getMinZoom=function(){return this.minZoom},t.prototype.getOrigin=function(e){return this.origin_?this.origin_:this.origins_[e]},t.prototype.getResolution=function(e){return this.resolutions_[e]},t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getTileCoordChildTileRange=function(e,n,r){if(e[0]<this.maxZoom){if(2===this.zoomFactor_){var i=2*e[1],o=2*e[2];return Ug(i,i+1,o,o+1,n)}var s=this.getTileCoordExtent(e,r);return this.getTileRangeForExtentAndZ(s,e[0]+1,n)}return null},t.prototype.getTileRangeExtent=function(e,n,r){var i=this.getOrigin(e),o=this.getResolution(e),s=Jr(this.getTileSize(e),this.tmpSize_);return Ni(i[0]+n.minX*s[0]*o,i[1]+n.minY*s[1]*o,i[0]+(n.maxX+1)*s[0]*o,i[1]+(n.maxY+1)*s[1]*o,r)},t.prototype.getTileRangeForExtentAndZ=function(e,n,r){var i=f5;this.getTileCoordForXYAndZ_(e[0],e[3],n,!1,i);var o=i[1],s=i[2];return this.getTileCoordForXYAndZ_(e[2],e[1],n,!0,i),Ug(o,i[1],s,i[2],r)},t.prototype.getTileCoordCenter=function(e){var n=this.getOrigin(e[0]),r=this.getResolution(e[0]),i=Jr(this.getTileSize(e[0]),this.tmpSize_);return[n[0]+(e[1]+.5)*i[0]*r,n[1]-(e[2]+.5)*i[1]*r]},t.prototype.getTileCoordExtent=function(e,n){var r=this.getOrigin(e[0]),i=this.getResolution(e[0]),o=Jr(this.getTileSize(e[0]),this.tmpSize_),s=r[0]+e[1]*o[0]*i,a=r[1]-(e[2]+1)*o[1]*i;return Ni(s,a,s+o[0]*i,a+o[1]*i,n)},t.prototype.getTileCoordForCoordAndResolution=function(e,n,r){return this.getTileCoordForXYAndResolution_(e[0],e[1],n,!1,r)},t.prototype.getTileCoordForXYAndResolution_=function(e,n,r,i,o){var s=this.getZForResolution(r),a=r/this.getResolution(s),u=this.getOrigin(s),l=Jr(this.getTileSize(s),this.tmpSize_),f=i?.5:0,d=Math.floor((e-u[0])/r+(i?.5:0)),h=Math.floor((u[1]-n)/r+f),p=a*d/l[0],_=a*h/l[1];return i?(p=Math.ceil(p)-1,_=Math.ceil(_)-1):(p=Math.floor(p),_=Math.floor(_)),HI(s,p,_,o)},t.prototype.getTileCoordForXYAndZ_=function(e,n,r,i,o){var s=this.getOrigin(r),a=this.getResolution(r),u=Jr(this.getTileSize(r),this.tmpSize_),c=i?.5:0,f=Math.floor((e-s[0])/a+(i?.5:0)),d=Math.floor((s[1]-n)/a+c),h=f/u[0],p=d/u[1];return i?(h=Math.ceil(h)-1,p=Math.ceil(p)-1):(h=Math.floor(h),p=Math.floor(p)),HI(r,h,p,o)},t.prototype.getTileCoordForCoordAndZ=function(e,n,r){return this.getTileCoordForXYAndZ_(e[0],e[1],n,!1,r)},t.prototype.getTileCoordResolution=function(e){return this.resolutions_[e[0]]},t.prototype.getTileSize=function(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]},t.prototype.getFullTileRange=function(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null},t.prototype.getZForResolution=function(e,n){return it(ac(this.resolutions_,e,n||0),this.minZoom,this.maxZoom)},t.prototype.calculateTileRanges_=function(e){for(var n=this.resolutions_.length,r=new Array(n),i=this.minZoom;i<n;++i)r[i]=this.getTileRangeForExtentAndZ(e,i);this.fullTileRanges_=r},t}();function zI(t){var e=t.getDefaultTileGrid();return e||(e=function(t,e,n,r){return function(t,e,n,r){var o=WI(t,undefined,n);return new $I({extent:t,origin:$U(t,"top-left"),resolutions:o,tileSize:n})}(Yg(t),0,void 0)}(t),t.setDefaultTileGrid(e)),e}function Bc(t){var e=t||{},n=e.extent||jt("EPSG:3857").getExtent(),r={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:WI(n,e.maxZoom,e.tileSize,e.maxResolution)};return new $I(r)}function WI(t,e,n,r){for(var i=void 0!==e?e:42,o=Vt(t),s=Be(t),a=Jr(void 0!==n?n:256),u=r>0?r:Math.max(s/a[0],o/a[1]),l=i+1,c=new Array(l),f=0;f<l;++f)c[f]=u/Math.pow(2,f);return c}function Yg(t){var e=(t=jt(t)).getExtent();if(!e){var n=180*Ir[Yr.DEGREES]/t.getMetersPerUnit();e=Ni(-n,-n,n,n)}return e}var qI=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_5=function(t){function e(n){var r=t.call(this,{attributions:n.attributions,attributionsCollapsible:n.attributionsCollapsible,projection:n.projection,state:n.state,wrapX:n.wrapX})||this;r.opaque_=void 0!==n.opaque&&n.opaque,r.tilePixelRatio_=void 0!==n.tilePixelRatio?n.tilePixelRatio:1,r.tileGrid=void 0!==n.tileGrid?n.tileGrid:null;var o=n.tileGrid;return o&&Jr(o.getTileSize(o.getMinZoom()),[256,256]),r.tileCache=new GI(n.cacheSize||0),r.tmpSize=[0,0],r.key_=n.key||"",r.tileOptions={transition:n.transition},r.zDirection=n.zDirection?n.zDirection:0,r}return qI(e,t),e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(n,r){var i=this.getTileCacheForProjection(n);i&&i.expireCache(r)},e.prototype.forEachLoadedTile=function(n,r,i,o){var s=this.getTileCacheForProjection(n);if(!s)return!1;for(var u,l,c,a=!0,f=i.minX;f<=i.maxX;++f)for(var d=i.minY;d<=i.maxY;++d)l=jc(r,f,d),c=!1,s.containsKey(l)&&(c=2===(u=s.get(l)).getState())&&(c=!1!==o(u)),c||(a=!1);return a},e.prototype.getGutterForProjection=function(n){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(n){this.key_!==n&&(this.key_=n,this.changed())},e.prototype.getOpaque=function(n){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},e.prototype.getTile=function(n,r,i,o,s){return Ee()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(n){return this.tileGrid?this.tileGrid:zI(n)},e.prototype.getTileCacheForProjection=function(n){return Ce(Xr(this.getProjection(),n),68),this.tileCache},e.prototype.getTilePixelRatio=function(n){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(n,r,i){var o=this.getTileGridForProjection(i),s=this.getTilePixelRatio(r),a=Jr(o.getTileSize(n),this.tmpSize);return 1==s?a:function(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n}(a,s,this.tmpSize)},e.prototype.getTileCoordForTileUrlFunction=function(n,r){var i=void 0!==r?r:this.getProjection(),o=this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(n=function(t,e,n){var r=e[0],i=t.getTileCoordCenter(e),o=Yg(n);if(ag(o,i))return e;var s=Be(o),a=Math.ceil((o[0]-i[0])/s);return i[0]+=s*a,t.getTileCoordForCoordAndZ(i,r)}(o,n,i)),function(t,e){var n=t[0],r=t[1],i=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;var o=e.getFullTileRange(n);return!o||o.containsXY(r,i)}(n,o)?n:null},e.prototype.clear=function(){this.tileCache.clear()},e.prototype.refresh=function(){this.clear(),t.prototype.refresh.call(this)},e.prototype.updateCacheSize=function(n,r){var i=this.getTileCacheForProjection(r);n>i.highWaterMark&&(i.highWaterMark=n)},e.prototype.useTile=function(n,r,i,o){},e}(kc),m5=function(t){function e(n,r){var i=t.call(this,n)||this;return i.tile=r,i}return qI(e,t),e}(Cr);const KI=_5;var Xg=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ZI=!0;try{new ImageData(10,10)}catch(t){ZI=!1}var y5=document.createElement("canvas").getContext("2d");function YI(t){var e=!0;try{new ImageData(10,10)}catch(r){e=!1}function n(r,i,o){return e?new ImageData(r,i,o):{data:r,width:i,height:o}}return function(r){var f,d,i=r.buffers,o=r.meta,a=r.width,u=r.height,l=i.length,c=i[0].byteLength;if(r.imageOps){var h=new Array(l);for(d=0;d<l;++d)h[d]=n(new Uint8ClampedArray(i[d]),a,u);f=t(h,o).data}else{f=new Uint8ClampedArray(c);var p=new Array(l),_=new Array(l);for(d=0;d<l;++d)p[d]=new Uint8ClampedArray(i[d]),_[d]=[0,0,0,0];for(var g=0;g<c;g+=4){for(var m=0;m<l;++m){var y=p[m];_[m][0]=y[g],_[m][1]=y[g+1],_[m][2]=y[g+2],_[m][3]=y[g+3]}var v=t(_,o);f[g]=v[0],f[g+1]=v[1],f[g+2]=v[2],f[g+3]=v[3]}}return f.buffer}}function E5(t,e){var r=Object.keys(t.lib||{}).map(function(a){return"var "+a+" = "+t.lib[a].toString()+";"}).concat(["var __minion__ = ("+YI.toString()+")(",t.operation.toString(),");",'self.addEventListener("message", function(event) {',"  var buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]),i=new Blob(r,{type:"text/javascript"}),o=URL.createObjectURL(i),s=new Worker(o);return s.addEventListener("message",e),s}var w5=function(t){function e(n){var i,r=t.call(this)||this;r._imageOps=!!n.imageOps;var o=[];if(i=0===n.threads?0:r._imageOps?1:n.threads||1)for(var s=0;s<i;++s)o[s]=E5(n,r._onWorkerMessage.bind(r,s));else o[0]=function(t,e){var n=YI(t.operation),r=!1;return{postMessage:function(i){setTimeout(function(){r||e({data:{buffer:n(i),meta:i.meta}})},0)},terminate:function(){r=!0}}}(n,r._onWorkerMessage.bind(r,0));return r._workers=o,r._queue=[],r._maxQueueLength=n.queue||1/0,r._running=0,r._dataLookup={},r._job=null,r}return Xg(e,t),e.prototype.process=function(n,r,i){this._enqueue({inputs:n,meta:r,callback:i}),this._dispatch()},e.prototype._enqueue=function(n){for(this._queue.push(n);this._queue.length>this._maxQueueLength;)this._queue.shift().callback(null,null)},e.prototype._dispatch=function(){if(0===this._running&&this._queue.length>0){var n=this._queue.shift();this._job=n;var r=n.inputs[0].width,i=n.inputs[0].height,o=n.inputs.map(function(p){return p.data.buffer}),s=this._workers.length;if(this._running=s,1===s)this._workers[0].postMessage({buffers:o,meta:n.meta,imageOps:this._imageOps,width:r,height:i},o);else for(var u=4*Math.ceil(n.inputs[0].data.length/4/s),l=0;l<s;++l){for(var c=l*u,f=[],d=0,h=o.length;d<h;++d)f.push(o[d].slice(c,c+u));this._workers[l].postMessage({buffers:f,meta:n.meta,imageOps:this._imageOps,width:r,height:i},f)}}},e.prototype._onWorkerMessage=function(n,r){this.disposed||(this._dataLookup[n]=r.data,--this._running,0===this._running&&this._resolveJob())},e.prototype._resolveJob=function(){var i,o,n=this._job,r=this._workers.length;if(1===r)i=new Uint8ClampedArray(this._dataLookup[0].buffer),o=this._dataLookup[0].meta;else{var s=n.inputs[0].data.length;i=new Uint8ClampedArray(s),o=new Array(s);for(var a=4*Math.ceil(s/4/r),u=0;u<r;++u){var c=u*a;i.set(new Uint8ClampedArray(this._dataLookup[u].buffer),c),o[u]=this._dataLookup[u].meta}}this._job=null,this._dataLookup={},n.callback(null,function(t,e,n){if(ZI)return new ImageData(t,e,n);var r=y5.createImageData(e,n);return r.data.set(t),r}(i,n.inputs[0].width,n.inputs[0].height),o),this._dispatch()},e.prototype.disposeInternal=function(){for(var n=0;n<this._workers.length;++n)this._workers[n].terminate();this._workers.length=0},e}(oc),JI=function(t){function e(n,r,i){var o=t.call(this,n)||this;return o.extent=r.extent,o.resolution=r.viewState.resolution/r.pixelRatio,o.data=i,o}return Xg(e,t),e}(Cr),eT=function(t){function e(n){var r=t.call(this,{projection:null})||this;r.processor_=null,r.operationType_=void 0!==n.operationType?n.operationType:"pixel",r.threads_=void 0!==n.threads?n.threads:1,r.layers_=function(t){for(var e=t.length,n=new Array(e),r=0;r<e;++r)n[r]=T5(t[r]);return n}(n.sources);for(var i=r.changed.bind(r),o=0,s=r.layers_.length;o<s;++o)r.layers_[o].addEventListener("change",i);return r.tileQueue_=new Hb(function(){return 1},r.changed.bind(r)),r.renderedImageCanvas_=null,r.frameState_={animate:!1,coordinateToPixelTransform:[1,0,0,1,0,0],declutterTree:null,extent:null,index:0,layerIndex:0,layerStatesArray:b5(r.layers_),pixelRatio:1,pixelToCoordinateTransform:[1,0,0,1,0,0],postRenderFunctions:[],size:[0,0],tileQueue:r.tileQueue_,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{}},r.setAttributions(function(a){for(var u=[],l=0,c=n.sources.length;l<c;++l){var f=n.sources[l],h=(f instanceof kc?f:f.getSource()).getAttributions();if("function"==typeof h){var p=h(a);u.push.apply(u,p)}}return 0!==u.length?u:null}),void 0!==n.operation&&r.setOperation(n.operation,n.lib),r}return Xg(e,t),e.prototype.setOperation=function(n,r){this.processor_&&this.processor_.dispose(),this.processor_=new w5({operation:n,imageOps:"image"===this.operationType_,queue:1,lib:r,threads:this.threads_}),this.changed()},e.prototype.updateFrameState_=function(n,r,i){var o=ot({},this.frameState_);o.viewState=ot({},o.viewState);var s=Wr(n);o.extent=n.slice(),o.size[0]=Math.round(Be(n)/r),o.size[1]=Math.round(Vt(n)/r),o.time=1/0;var a=o.viewState;return a.center=s,a.projection=i,a.resolution=r,o},e.prototype.allSourcesReady_=function(){for(var n=!0,i=0,o=this.layers_.length;i<o;++i)if("ready"!==this.layers_[i].getSource().getState()){n=!1;break}return n},e.prototype.getImage=function(n,r,i,o){if(!this.allSourcesReady_())return null;var s=this.updateFrameState_(n,r,o);if(this.requestedFrameState_=s,this.renderedImageCanvas_){var a=this.renderedImageCanvas_.getResolution(),u=this.renderedImageCanvas_.getExtent();(r!==a||!Yo(n,u))&&(this.renderedImageCanvas_=null)}return(!this.renderedImageCanvas_||this.getRevision()!==this.renderedRevision_)&&this.processSources_(),s.tileQueue.loadMoreTiles(16,16),s.animate&&requestAnimationFrame(this.changed.bind(this)),this.renderedImageCanvas_},e.prototype.processSources_=function(){for(var n=this.requestedFrameState_,r=this.layers_.length,i=new Array(r),o=0;o<r;++o){n.layerIndex=o;var s=D5(this.layers_[o],n);if(!s)return;i[o]=s}var a={};this.dispatchEvent(new JI("beforeoperations",n,a)),this.processor_.process(i,a,this.onWorkerComplete_.bind(this,n))},e.prototype.onWorkerComplete_=function(n,r,i,o){if(!r&&i){var u,s=n.extent,a=n.viewState.resolution;if(a===this.requestedFrameState_.viewState.resolution&&Yo(s,this.requestedFrameState_.extent))this.renderedImageCanvas_?u=this.renderedImageCanvas_.getImage().getContext("2d"):(u=Dr(Math.round(Be(s)/a),Math.round(Vt(s)/a)),this.renderedImageCanvas_=new q4(s,a,1,u.canvas)),u.putImageData(i,0,0),this.changed(),this.renderedRevision_=this.getRevision(),this.dispatchEvent(new JI("afteroperations",n,o))}},e.prototype.getImageInternal=function(){return null},e.prototype.disposeInternal=function(){this.processor_&&this.processor_.dispose(),t.prototype.disposeInternal.call(this)},e}(BI),Bi=null;function D5(t,e){var n=t.getRenderer();if(!n)throw new Error("Unsupported layer type: "+t);if(!n.prepareFrame(e))return null;var r=e.size[0],i=e.size[1];if(0===r||0===i)return null;var s,o=n.renderFrame(e,null);if(o&&(s=o.firstElementChild),!(s instanceof HTMLCanvasElement))throw new Error("Unsupported rendered element: "+s);if(s.width===r&&s.height===i)return s.getContext("2d").getImageData(0,0,r,i);if(Bi){var u=Bi.canvas;u.width!==r||u.height!==i?Bi=Dr(r,i):Bi.clearRect(0,0,r,i)}else Bi=Dr(r,i);return Bi.drawImage(s,0,0,r,i),Bi.getImageData(0,0,r,i)}function b5(t){return t.map(function(e){return e.getLayerState()})}function T5(t){var e;return t instanceof kc?t instanceof KI?e=new OI({source:t}):t instanceof BI&&(e=new Vc({source:t})):e=t,e}const Qg=eT;var M5=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const tT=function(t){function e(n,r,i){var o=t.call(this)||this,s=i||{};return o.tileCoord=n,o.state=r,o.interimTile=null,o.hifi=!0,o.key="",o.transition_=void 0===s.transition?250:s.transition,o.transitionStarts_={},o}return M5(e,t),e.prototype.changed=function(){this.dispatchEvent("change")},e.prototype.release=function(){},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var n=this.interimTile;do{if(2==n.getState())return this.transition_=0,n;n=n.interimTile}while(n);return this},e.prototype.refreshInterimChain=function(){if(this.interimTile){var n=this.interimTile,r=this;do{if(2==n.getState()){n.interimTile=null;break}1==n.getState()?r=n:0==n.getState()?r.interimTile=n.interimTile:r=n,n=r.interimTile}while(n)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(n){if(3!==this.state&&this.state>n)throw new Error("Tile load sequence violation");this.state=n,this.changed()},e.prototype.load=function(){Ee()},e.prototype.getAlpha=function(n,r){if(!this.transition_)return 1;var i=this.transitionStarts_[n];if(i){if(-1===i)return 1}else this.transitionStarts_[n]=i=r;var o=r-i+1e3/60;return o>=this.transition_?1:eI(o/this.transition_)},e.prototype.inTransition=function(n){return!!this.transition_&&-1!==this.transitionStarts_[n]},e.prototype.endTransition=function(n){this.transition_&&(this.transitionStarts_[n]=-1)},e}(Fa);var A5=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function nT(t,e,n){var r=t;if(r.src&&Pb){var i=r.decode(),o=!0;return i.then(function(){o&&e()}).catch(function(u){o&&("EncodingError"===u.name&&"Invalid image type."===u.message?e():n())}),function(){o=!1}}var a=[gc(r,"load",e),gc(r,"error",n)];return function(){a.forEach(He)}}!function(t){function e(n,r,i,o,s,a){var u=t.call(this,n,r,i,0)||this;return u.src_=o,u.image_=new Image,null!==s&&(u.image_.crossOrigin=s),u.unlisten_=null,u.state=0,u.imageLoadFunction_=a,u}A5(e,t),e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){this.state=3,this.unlistenImage_(),this.changed()},e.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=Vt(this.extent)/this.image_.height),this.state=2,this.unlistenImage_(),this.changed()},e.prototype.load=function(){(0==this.state||3==this.state)&&(this.state=1,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=nT(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.setImage=function(n){this.image_=n},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}(Gg);var R5=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const P5=function(t){function e(n,r,i,o,s,a){var u=t.call(this,n,r,a)||this;return u.crossOrigin_=o,u.src_=i,u.key=i,u.image_=new Image,null!==o&&(u.image_.crossOrigin=o),u.unlisten_=null,u.tileLoadFunction_=s,u}return R5(e,t),e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){this.state=3,this.unlistenImage_(),this.image_=function(){var t=Dr(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}(),this.changed()},e.prototype.handleImageLoad_=function(){var n=this.image_;this.state=n.naturalWidth&&n.naturalHeight?2:4,this.unlistenImage_(),this.changed()},e.prototype.load=function(){3==this.state&&(this.state=0,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),0==this.state&&(this.state=1,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=nT(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(tT);var N5=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const L5=function(t){function e(n,r,i,o,s,a,u,l,c,f,d,h){var p=t.call(this,s,0)||this;p.renderEdges_=void 0!==d&&d,p.contextOptions_=h,p.pixelRatio_=u,p.gutter_=l,p.canvas_=null,p.sourceTileGrid_=r,p.targetTileGrid_=o,p.wrappedTileCoord_=a||s,p.sourceTiles_=[],p.sourcesListenerKeys_=null,p.sourceZ_=0;var _=o.getTileCoordExtent(p.wrappedTileCoord_),g=p.targetTileGrid_.getExtent(),m=p.sourceTileGrid_.getExtent(),y=g?qr(_,g):_;if(0===fc(y))return p.state=4,p;var v=n.getExtent();v&&(m=m?qr(m,v):v);var E=o.getResolution(p.wrappedTileCoord_[0]),w=function(t,e,n,r){var i=Wr(n),o=qg(t,e,i,r);return(!isFinite(o)||o<=0)&&pb(n,function(s){return o=qg(t,e,s,r),isFinite(o)&&o>0}),o}(n,i,y,E);if(!isFinite(w)||w<=0)return p.state=4,p;if(p.triangulation_=new FI(n,i,y,m,w*(void 0!==f?f:.5),E),0===p.triangulation_.getTriangles().length)return p.state=4,p;p.sourceZ_=r.getZForResolution(w);var P=p.triangulation_.calculateSourceExtent();if(m&&(n.canWrapX()?(P[1]=it(P[1],m[1],m[3]),P[3]=it(P[3],m[1],m[3])):P=qr(P,m)),fc(P)){for(var N=r.getTileRangeForExtentAndZ(P,p.sourceZ_),j=N.minX;j<=N.maxX;j++)for(var V=N.minY;V<=N.maxY;V++){var x=c(p.sourceZ_,j,V,u);x&&p.sourceTiles_.push(x)}0===p.sourceTiles_.length&&(p.state=4)}else p.state=4;return p}return N5(e,t),e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var n=[];if(this.sourceTiles_.forEach(function(c,f,d){c&&2==c.getState()&&n.push({extent:this.sourceTileGrid_.getTileCoordExtent(c.tileCoord),image:c.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===n.length)this.state=3;else{var r=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(r),o="number"==typeof i?i:i[0],s="number"==typeof i?i:i[1],a=this.targetTileGrid_.getResolution(r),u=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=VI(o,s,this.pixelRatio_,u,this.sourceTileGrid_.getExtent(),a,l,this.triangulation_,n,this.gutter_,this.renderEdges_,this.contextOptions_),this.state=2}this.changed()},e.prototype.load=function(){if(0==this.state){this.state=1,this.changed();var n=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(r,i,o){var s=r.getState();if(0==s||1==s){n++;var a=we(r,"change",function(u){var l=r.getState();(2==l||3==l||4==l)&&(He(a),0==--n&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(a)}}.bind(this)),this.sourceTiles_.forEach(function(r,i,o){0==r.getState()&&r.load()}),0===n&&setTimeout(this.reproject_.bind(this),0)}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(He),this.sourcesListenerKeys_=null},e}(tT);function V5(t,e){var n=/\{z\}/g,r=/\{x\}/g,i=/\{y\}/g,o=/\{-y\}/g;return function(s,a,u){if(s)return t.replace(n,s[0].toString()).replace(r,s[1].toString()).replace(i,s[2].toString()).replace(o,function(){var c=e.getFullTileRange(s[0]);return Ce(c,55),(c.getHeight()-s[2]-1).toString()})}}var H5=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const G5=function(t){function e(n){var r=t.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,opaque:n.opaque,projection:n.projection,state:n.state,tileGrid:n.tileGrid,tilePixelRatio:n.tilePixelRatio,wrapX:n.wrapX,transition:n.transition,key:n.key,attributionsCollapsible:n.attributionsCollapsible,zDirection:n.zDirection})||this;return r.generateTileUrlFunction_=r.tileUrlFunction===e.prototype.tileUrlFunction,r.tileLoadFunction=n.tileLoadFunction,n.tileUrlFunction&&(r.tileUrlFunction=n.tileUrlFunction),r.urls=null,n.urls?r.setUrls(n.urls):n.url&&r.setUrl(n.url),r.tileLoadingKeys_={},r}return H5(e,t),e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(n){var s,r=n.target,i=Lt(r),o=r.getState();1==o?(this.tileLoadingKeys_[i]=!0,s="tileloadstart"):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],s=3==o?"tileloaderror":2==o?"tileloadend":void 0),null!=s&&this.dispatchEvent(new m5(s,r))},e.prototype.setTileLoadFunction=function(n){this.tileCache.clear(),this.tileLoadFunction=n,this.changed()},e.prototype.setTileUrlFunction=function(n,r){this.tileUrlFunction=n,this.tileCache.pruneExceptNewestZ(),void 0!==r?this.setKey(r):this.changed()},e.prototype.setUrl=function(n){var r=function(t){var e=[],n=/\{([a-z])-([a-z])\}/.exec(t);if(n){var r=n[1].charCodeAt(0),i=n[2].charCodeAt(0),o=void 0;for(o=r;o<=i;++o)e.push(t.replace(n[0],String.fromCharCode(o)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(t)){for(var s=parseInt(n[2],10),a=parseInt(n[1],10);a<=s;a++)e.push(t.replace(n[0],a.toString()));return e}return e.push(t),e}(n);this.urls=r,this.setUrls(r)},e.prototype.setUrls=function(n){this.urls=n;var r=n.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(function(t,e){for(var n=t.length,r=new Array(n),i=0;i<n;++i)r[i]=V5(t[i],e);return function(t){return 1===t.length?t[0]:function(e,n,r){if(e){var o=es(function(t){return(t[1]<<t[0])+t[2]}(e),t.length);return t[o](e,n,r)}}}(r)}(n,this.tileGrid),r):this.setKey(r)},e.prototype.tileUrlFunction=function(n,r,i){},e.prototype.useTile=function(n,r,i){var o=jc(n,r,i);this.tileCache.containsKey(o)&&this.tileCache.get(o)},e}(KI);var $5=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function W5(t,e){t.getImage().src=e}const q5=function(t){function e(n){var r=t.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,opaque:n.opaque,projection:n.projection,state:n.state,tileGrid:n.tileGrid,tileLoadFunction:n.tileLoadFunction?n.tileLoadFunction:W5,tilePixelRatio:n.tilePixelRatio,tileUrlFunction:n.tileUrlFunction,url:n.url,urls:n.urls,wrapX:n.wrapX,transition:n.transition,key:n.key,attributionsCollapsible:n.attributionsCollapsible,zDirection:n.zDirection})||this;return r.crossOrigin=void 0!==n.crossOrigin?n.crossOrigin:null,r.tileClass=void 0!==n.tileClass?n.tileClass:P5,r.tileCacheForProjection={},r.tileGridForProjection={},r.reprojectionErrorThreshold_=n.reprojectionErrorThreshold,r.contextOptions_=!1===n.imageSmoothing?$g:void 0,r.renderReprojectionEdges_=!1,r}return $5(e,t),e.prototype.canExpireCache=function(){if(this.tileCache.canExpireCache())return!0;for(var n in this.tileCacheForProjection)if(this.tileCacheForProjection[n].canExpireCache())return!0;return!1},e.prototype.expireCache=function(n,r){var i=this.getTileCacheForProjection(n);for(var o in this.tileCache.expireCache(this.tileCache==i?r:{}),this.tileCacheForProjection){var s=this.tileCacheForProjection[o];s.expireCache(s==i?r:{})}},e.prototype.getContextOptions=function(){return this.contextOptions_},e.prototype.getGutterForProjection=function(n){return this.getProjection()&&n&&!Xr(this.getProjection(),n)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getKey=function(){return t.prototype.getKey.call(this)+(this.contextOptions_?"\n"+JSON.stringify(this.contextOptions_):"")},e.prototype.getOpaque=function(n){return!(this.getProjection()&&n&&!Xr(this.getProjection(),n))&&t.prototype.getOpaque.call(this,n)},e.prototype.getTileGridForProjection=function(n){var r=this.getProjection();if(this.tileGrid&&(!r||Xr(r,n)))return this.tileGrid;var i=Lt(n);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=zI(n)),this.tileGridForProjection[i]},e.prototype.getTileCacheForProjection=function(n){var r=this.getProjection();if(!r||Xr(r,n))return this.tileCache;var i=Lt(n);return i in this.tileCacheForProjection||(this.tileCacheForProjection[i]=new GI(this.tileCache.highWaterMark)),this.tileCacheForProjection[i]},e.prototype.createTile_=function(n,r,i,o,s,a){var u=[n,r,i],l=this.getTileCoordForTileUrlFunction(u,s),c=l?this.tileUrlFunction(l,o,s):void 0,f=new this.tileClass(u,void 0!==c?0:4,void 0!==c?c:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return f.key=a,f.addEventListener("change",this.handleTileChange.bind(this)),f},e.prototype.getTile=function(n,r,i,o,s){var a=this.getProjection();if(!a||!s||Xr(a,s))return this.getTileInternal(n,r,i,o,a||s);var u=this.getTileCacheForProjection(s),l=[n,r,i],c=void 0,f=UI(l);u.containsKey(f)&&(c=u.get(f));var d=this.getKey();if(c&&c.key==d)return c;var h=this.getTileGridForProjection(a),p=this.getTileGridForProjection(s),_=this.getTileCoordForTileUrlFunction(l,s),g=new L5(a,h,s,p,l,_,this.getTilePixelRatio(o),this.getGutter(),function(m,y,v,E){return this.getTileInternal(m,y,v,E,a)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.contextOptions_);return g.key=d,c?(g.interimTile=c,g.refreshInterimChain(),u.replace(f,g)):u.set(f,g),g},e.prototype.getTileInternal=function(n,r,i,o,s){var a=null,u=jc(n,r,i),l=this.getKey();if(this.tileCache.containsKey(u)){if((a=this.tileCache.get(u)).key!=l){var c=a;(a=this.createTile_(n,r,i,o,s,l)).interimTile=0==c.getState()?c.interimTile:c,a.refreshInterimChain(),this.tileCache.replace(u,a)}}else a=this.createTile_(n,r,i,o,s,l),this.tileCache.set(u,a);return a},e.prototype.setRenderReprojectionEdges=function(n){if(this.renderReprojectionEdges_!=n){for(var r in this.renderReprojectionEdges_=n,this.tileCacheForProjection)this.tileCacheForProjection[r].clear();this.changed()}},e.prototype.setTileGridForProjection=function(n,r){var i=jt(n);if(i){var o=Lt(i);o in this.tileGridForProjection||(this.tileGridForProjection[o]=r)}},e}(G5);var K5=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Hc=function(t){function e(n){var i=n||{},o=void 0!==i.projection?i.projection:"EPSG:3857",s=void 0!==i.tileGrid?i.tileGrid:Bc({extent:Yg(o),maxResolution:i.maxResolution,maxZoom:i.maxZoom,minZoom:i.minZoom,tileSize:i.tileSize});return t.call(this,{attributions:i.attributions,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,imageSmoothing:i.imageSmoothing,opaque:i.opaque,projection:o,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileGrid:s,tileLoadFunction:i.tileLoadFunction,tilePixelRatio:i.tilePixelRatio,tileUrlFunction:i.tileUrlFunction,url:i.url,urls:i.urls,wrapX:void 0===i.wrapX||i.wrapX,transition:i.transition,attributionsCollapsible:i.attributionsCollapsible,zDirection:i.zDirection})||this}return K5(e,t),e}(q5);var Y5=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const J5=function(t){function e(n){var i=n||{};return t.call(this,{attributions:void 0!==i.attributions?i.attributions:['&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.'],attributionsCollapsible:!1,cacheSize:i.cacheSize,crossOrigin:void 0!==i.crossOrigin?i.crossOrigin:"anonymous",imageSmoothing:i.imageSmoothing,maxZoom:void 0!==i.maxZoom?i.maxZoom:19,opaque:void 0===i.opaque||i.opaque,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileLoadFunction:i.tileLoadFunction,transition:i.transition,url:void 0!==i.url?i.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:i.wrapX})||this}return Y5(e,t),e}(Hc);function Uc(t,e){return new Et(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=cf(t[a]);let l=!1;n.add(u.subscribe({next:c=>{l||(l=!0,s++),i[a]=c},error:c=>n.error(c),complete:()=>{o++,(o===r||!l)&&(s===r&&n.next(e?e.reduce((c,f,d)=>(c[f]=i[d],c),{}):i),n.complete())}}))}})}let rT=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(A(bi),A(pt))},t.\u0275dir=K({type:t}),t})(),Hi=(()=>{class t extends rT{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=on(t)))(r||t)}}(),t.\u0275dir=K({type:t,features:[Re]}),t})();const nr=new fe("NgValueAccessor"),n6={provide:nr,useExisting:Te(()=>e_),multi:!0},i6=new fe("CompositionEventMode");let e_=(()=>{class t extends rT{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=Ri()?Ri().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",null==n?"":n)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(A(bi),A(pt),A(i6,8))},t.\u0275dir=K({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&Yt("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[Pe([n6]),Re]}),t})();const vt=new fe("NgValidators"),ti=new fe("NgAsyncValidators");function pT(t){return null!=t}function gT(t){const e=zu(t)?cf(t):t;return Zd(e),e}function _T(t){let e={};return t.forEach(n=>{e=null!=n?Object.assign(Object.assign({},e),n):e}),0===Object.keys(e).length?null:e}function mT(t,e){return e.map(n=>n(t))}function yT(t){return t.map(e=>function(t){return!t.validate}(e)?e:n=>e.validate(n))}function t_(t){return null!=t?function(t){if(!t)return null;const e=t.filter(pT);return 0==e.length?null:function(n){return _T(mT(n,e))}}(yT(t)):null}function n_(t){return null!=t?function(t){if(!t)return null;const e=t.filter(pT);return 0==e.length?null:function(n){return function(...t){if(1===t.length){const e=t[0];if(sf(e))return Uc(e,null);if(af(e)&&Object.getPrototypeOf(e)===Object.prototype){const n=Object.keys(e);return Uc(n.map(r=>e[r]),n)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Uc(t=1===t.length&&sf(t[0])?t[0]:t,null).pipe(lf(n=>e(...n)))}return Uc(t,null)}(mT(n,e).map(gT)).pipe(lf(_T))}}(yT(t)):null}function CT(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function r_(t){return t?Array.isArray(t)?t:[t]:[]}function Gc(t,e){return Array.isArray(t)?t.includes(e):t===e}function bT(t,e){const n=r_(e);return r_(t).forEach(i=>{Gc(n,i)||n.push(i)}),n}function IT(t,e){return r_(e).filter(n=>!Gc(t,n))}let TT=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=t_(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=n_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,r){return!!this.control&&this.control.hasError(n,r)}getError(n,r){return this.control?this.control.getError(n,r):null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=K({type:t}),t})(),Ot=(()=>{class t extends TT{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=on(t)))(r||t)}}(),t.\u0275dir=K({type:t,features:[Re]}),t})();class ri extends TT{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let xT=(()=>{class t extends class{constructor(e){this._cd=e}is(e){var n,r,i;return"submitted"===e?!!(null===(n=this._cd)||void 0===n?void 0:n.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(A(ri,2))},t.\u0275dir=K({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&Wu("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[Re]}),t})();function Ga(t,e){(function(t,e){const n=function(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(CT(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(CT(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();qc(e._rawValidators,i),qc(e._rawAsyncValidators,i)})(t,e),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&AT(t,e)})}(t,e),function(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&AT(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function qc(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function AT(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Zc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const $a="VALID",Yc="INVALID",us="PENDING",za="DISABLED";function l_(t){return(f_(t)?t.validators:t)||null}function OT(t){return Array.isArray(t)?t_(t):t||null}function c_(t,e){return(f_(e)?e.asyncValidators:t)||null}function PT(t){return Array.isArray(t)?n_(t):t||null}function f_(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class d_{constructor(e,n){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=n,this._composedValidatorFn=OT(this._rawValidators),this._composedAsyncValidatorFn=PT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===$a}get invalid(){return this.status===Yc}get pending(){return this.status==us}get disabled(){return this.status===za}get enabled(){return this.status!==za}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=OT(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=PT(e)}addValidators(e){this.setValidators(bT(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(bT(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(IT(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(IT(e,this._rawAsyncValidators))}hasValidator(e){return Gc(this._rawValidators,e)}hasAsyncValidator(e){return Gc(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=us,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=za,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=$a,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===$a||this.status===us)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?za:$a}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=us,this._hasOwnPendingAsyncValidator=!0;const n=gT(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){return function(t,e,n){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let r=t;return e.forEach(i=>{r=r instanceof h_?r.controls.hasOwnProperty(i)?r.controls[i]:null:r instanceof v6&&r.at(i)||null}),r}(this,e)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new st,this.statusChanges=new st}_calculateStatus(){return this._allControlsDisabled()?za:this.errors?Yc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(us)?us:this._anyControlsHaveStatus(Yc)?Yc:$a}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){f_(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Xc extends d_{constructor(e=null,n,r){super(l_(n),c_(r,n)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=null,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Zc(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Zc(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class h_ extends d_{constructor(e,n,r){super(l_(n),c_(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n instanceof Xc?n.value:n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const n of Object.keys(this.controls)){const r=this.controls[n];if(this.contains(n)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,n,r)=>((n.enabled||this.disabled)&&(e[r]=n.value),e))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((n,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class v6 extends d_{constructor(e,n,r){super(l_(n),c_(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),n&&(this.controls.splice(e,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){this._checkAllValuesPresent(e),e.forEach((r,i)=>{this._throwIfControlMissing(i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e instanceof Xc?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((n,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const w6={provide:ri,useExisting:Te(()=>g_)},LT=(()=>Promise.resolve(null))();let g_=(()=>{class t extends ri{constructor(n,r,i,o){super(),this.control=new Xc,this._registered=!1,this.update=new st,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===e_?n=o:function(t){return Object.getPrototypeOf(t.constructor)===Hi}(o)?r=o:i=o}),i||r||n||null}(0,o)}ngOnChanges(n){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in n&&this._updateDisabled(n),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(t,e){return[...e.path,t]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ga(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){LT.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1})})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=""===r||r&&"false"!==r;LT.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(n){return new(n||t)(A(Ot,9),A(vt,10),A(ti,10),A(nr,10))},t.\u0275dir=K({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Pe([w6]),Re,$t]}),t})(),kT=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ar({type:t}),t.\u0275inj=gn({}),t})();const P6={provide:nr,useExisting:Te(()=>Qc),multi:!0};function $T(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Qc=(()=>{class t extends Hi{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const r=this._getOptionId(n);null==r&&this.setProperty("selectedIndex",-1);const i=$T(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=on(t)))(r||t)}}(),t.\u0275dir=K({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,r){1&n&&Yt("change",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Pe([P6]),Re]}),t})(),zT=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue($T(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(n){return new(n||t)(A(pt),A(bi),A(Qc,9))},t.\u0275dir=K({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const F6={provide:nr,useExisting:Te(()=>E_),multi:!0};function WT(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let E_=(()=>{class t extends Hi{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const i=[];if(void 0!==r.selectedOptions){const o=r.selectedOptions;for(let s=0;s<o.length;s++){const a=o.item(s),u=this._getOptionValue(a.value);i.push(u)}}else{const o=r.options;for(let s=0;s<o.length;s++){const a=o.item(s);if(a.selected){const u=this._getOptionValue(a.value);i.push(u)}}}this.value=i,n(i)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=on(t)))(r||t)}}(),t.\u0275dir=K({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,r){1&n&&Yt("change",function(o){return r.onChange(o.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Pe([F6]),Re]}),t})(),qT=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(WT(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(WT(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(n){return new(n||t)(A(pt),A(bi),A(E_,9))},t.\u0275dir=K({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})(),rM=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ar({type:t}),t.\u0275inj=gn({imports:[[kT]]}),t})(),z6=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ar({type:t}),t.\u0275inj=gn({imports:[rM]}),t})();function W6(t,e){if(1&t&&(Ei(0,"option",4),T0(1),Ci()),2&t){const n=e.$implicit;$s("value",n),Nu(1),Jd(n)}}let q6=(()=>{class t{constructor(){this.seasons=["winter","spring","summer"],this.selectedLevel=this.seasons[0],this.winter={name:"winter",path:"chicago-shadows/chi-dec-21/{z}/{x}/{y}.png",max:360},this.spring={name:"spring",path:"chicago-shadows/chi-jun-21/{z}/{x}/{y}.png",max:540},this.summer={name:"summer",path:"chicago-shadows/chi-sep-22/{z}/{x}/{y}.png",max:720},this.values={},this.childToParent=new st}ngAfterViewInit(){this.map=new w4({target:"map",view:new CI({center:os([-87.6298,41.8781],"EPSG:4326","EPSG:3857"),zoom:15})});let n=new OI({className:"mapLayer",source:new J5,zIndex:1,opacity:.8});this.map.on("pointermove",s=>{this.mousePosition=s.pixel,this.map.render()}),this.map.addLayer(n);let r=new Qg({sources:[new Hc({url:ng_filesurl+this.winter.path,tileGrid:Bc({tileSize:256,minZoom:15,maxZoom:15})})],operation:function(s,a){var u=[0,0,0,0],l=s[0][3]/255;return u[0]=66*l,u[1]=113*l,u[2]=143*l,u[3]=255*l,u}});this.winterLayer=new Vc({source:r,className:"winterLayer"}),this.winterLayer.on("postrender",s=>{var u=s.frameState.pixelRatio;if(this.mousePosition){var f=s.context.getImageData(this.mousePosition[0]*u,this.mousePosition[1]*u,1,1).data;this.values[this.winter.name]=f[3]/255*this.winter.max,this.updateValues()}});let i=new Qg({sources:[new Hc({url:ng_filesurl+this.spring.path,tileGrid:Bc({tileSize:256,minZoom:15,maxZoom:15})})],operation:function(s,a){var u=[0,0,0,0],l=s[0][3]/255;return u[0]=27*l,u[1]=158*l,u[2]=119*l,u[3]=255*l,u}});this.springLayer=new Vc({source:i,className:"springLayer"}),this.springLayer.on("postrender",s=>{var u=s.frameState.pixelRatio;if(this.mousePosition){var f=s.context.getImageData(this.mousePosition[0]*u,this.mousePosition[1]*u,1,1).data;this.values[this.spring.name]=f[3]/255*this.spring.max,this.updateValues()}});let o=new Qg({sources:[new Hc({url:ng_filesurl+this.summer.path,tileGrid:Bc({tileSize:256,minZoom:15,maxZoom:15})})],operation:function(s,a){var u=[0,0,0,0],l=s[0][3]/255;return u[0]=217*l,u[1]=95*l,u[2]=2*l,u[3]=255*l,u}});this.summerLayer=new Vc({source:o,className:"summerLayer"}),this.summerLayer.on("postrender",s=>{var u=s.frameState.pixelRatio;if(this.mousePosition){var f=s.context.getImageData(this.mousePosition[0]*u,this.mousePosition[1]*u,1,1).data;this.values[this.summer.name]=f[3]/255*this.summer.max,this.updateValues()}}),this.winterLayer.setZIndex(parseInt("2",10)),this.summerLayer.setZIndex(parseInt("0",10)),this.springLayer.setZIndex(parseInt("0",10)),this.map.addLayer(this.springLayer),this.map.addLayer(this.summerLayer),this.map.addLayer(this.winterLayer)}updateValues(){this.childToParent.emit(this.values)}selected(){console.log(this.selectedLevel),"spring"===this.selectedLevel?(this.winterLayer.setZIndex(parseInt("0",10)),this.summerLayer.setZIndex(parseInt("0",10)),this.springLayer.setZIndex(parseInt("2",10))):"summer"===this.selectedLevel?(this.winterLayer.setZIndex(parseInt("0",10)),this.summerLayer.setZIndex(parseInt("2",10)),this.springLayer.setZIndex(parseInt("0",10))):"winter"===this.selectedLevel&&(this.winterLayer.setZIndex(parseInt("2",10)),this.summerLayer.setZIndex(parseInt("0",10)),this.springLayer.setZIndex(parseInt("0",10)))}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=ps({type:t,selectors:[["app-map"]],outputs:{childToParent:"childToParent"},decls:4,vars:2,consts:[["id","map"],["id","dropdown-container"],[3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(n,r){1&n&&($u(0,"div",0),Ei(1,"div",1),Ei(2,"select",2),Yt("ngModelChange",function(o){return r.selectedLevel=o})("change",function(){return r.selected()}),function(t,e,n,r,i,o,s,a){const u=I(),l=ce(),c=t+20,f=l.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const l=e.consts,c=lo(e,t,4,s||null,Nr(l,a));xd(e,n,c,Nr(l,u)),du(e,c);const f=c.tViews=ku(2,c,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l);return null!==e.queries&&(e.queries.template(e,c),f.queries=e.queries.embeddedTView(c)),c}(c,l,u,e,n,r,i,o,s):l.data[c];jn(f,!1);const d=u[11].createComment("");Ou(l,u,d,f),dt(d,u),ju(u,u[c]=ev(d,u,d,f)),su(f)&&Td(l,u,f),null!=s&&Md(u,f,a)}(3,W6,2,2,"option",3),Ci(),Ci()),2&n&&(Nu(2),$s("ngModel",r.selectedLevel),Nu(1),$s("ngForOf",r.seasons))},directives:[Qc,xT,g_,Rw,zT,qT],styles:["#map[_ngcontent-%COMP%]{position:absolute;left:0;top:0;bottom:0;width:100%;height:100%}#dropdown-container[_ngcontent-%COMP%]{position:absolute;top:5%;left:6%}select[_ngcontent-%COMP%]{height:50px}"]}),t})(),K6=(()=>{class t{constructor(){this.title="shadow-maps"}updateValues(n){this.values=n,this.chart.updateValues(this.values)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=ps({type:t,selectors:[["app-root"]],viewQuery:function(n,r){if(1&n&&fC(ib,5),2&n){let i;cC(i=function(t,e){return t[19].queries[e].queryList}(I(),sm()))&&(r.chart=i.first)}},decls:3,vars:0,consts:[[3,"childToParent"]],template:function(n,r){1&n&&(Ei(0,"div"),Ei(1,"app-map",0),Yt("childToParent",function(o){return r.updateValues(o)}),Ci(),$u(2,"app-chart"),Ci())},directives:[q6,ib],styles:[""]}),t})(),Z6=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ar({type:t,bootstrap:[K6]}),t.\u0275inj=gn({providers:[],imports:[[hj,z6]]}),t})();(function(){if(BC)throw new Error("Cannot enable prod mode after platform setup.");jC=!1})(),fj().bootstrapModule(Z6).catch(t=>console.error(t))}},ls=>{ls(ls.s=868)}]);